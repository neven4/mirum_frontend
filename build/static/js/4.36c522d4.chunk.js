(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{48:function(e,t,a){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var s=a(14),o=a(0),c=a.n(o),r=a(5),i=a(49),l=a.n(i);t.a=c.a.memo(function(e){var t=e.numOfLikes,a=e.className,i=e.id,m=Object(o.useContext)(r.a),d=Object(o.useState)(0),u=Object(s.a)(d,2),_=u[0],h=u[1],p=m.state.likedCafes.includes(i);Object(o.useEffect)(function(){h(Number(t))},[]);return c.a.createElement("section",{className:"".concat(l.a.like," ").concat(a)},c.a.createElement("div",{className:l.a.like_icon,onClick:function(){var e,t=n(m.state.likedCafes);if(p){var a=t.filter(function(e){return e!==i});e="dec",h(_-1),m.update({likedCafes:a})}else t.push(i),e="inc",h(_+1),m.update({likedCafes:t});fetch("https://europe-west1-mirum-e30cc.cloudfunctions.net/api/cafes/".concat(i,"/like/").concat(e),{method:"PUT"}).then(function(e){return e.json()}).then(function(e){return h(e.likes)})}},c.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 21 21",fill:p?"#FF2929":"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M20.4673 6.60488L20.4688 6.6218L20.4715 6.63858C20.4862 6.73014 20.5853 7.44813 20.2997 8.65667L20.2997 8.65682C19.8888 10.3984 18.9388 11.9878 17.5446 13.2519C17.5441 13.2524 17.5436 13.2528 17.5431 13.2532L10.44 19.5899L3.4571 13.253L3.45682 13.2528C2.0619 11.9889 1.11132 10.3986 0.700268 8.65679L0.700247 8.6567C0.414631 7.44742 0.513961 6.72978 0.528643 6.63948L0.531481 6.62203L0.533079 6.60442C0.820667 3.43488 3.03853 1.23746 5.71797 1.23746C7.48855 1.23746 9.07782 2.18316 10.0103 3.77886L10.4373 4.50947L10.8713 3.783C11.8104 2.21089 13.4737 1.23786 15.282 1.23786C17.9618 1.23786 20.1793 3.43527 20.4673 6.60488Z",stroke:p?"#FF2929":"#2A2A2A"}))),c.a.createElement("div",{className:l.a.like_count},_))})},49:function(e,t,a){e.exports={like:"styles_like__2y23N",like_icon:"styles_like_icon__2lgM5",like_count:"styles_like_count__ru3H3"}},50:function(e,t,a){"use strict";var n=a(0),s=a.n(n),o=a(7),c=a(51),r=a.n(c);t.a=Object(o.e)(s.a.memo(function(e){var t=e.className,a=e.id,n=e.withClick,o=void 0!==n&&n,c=e.label,i=e.withArrow,l=void 0!==i&&i,m=e.metro;return s.a.createElement("section",{className:"".concat(r.a.metro," ").concat(t),onClick:o?function(){e.history.push("/map/".concat(a))}:null},s.a.createElement("div",{className:r.a.metro_icon,style:{backgroundColor:function(){var e="";switch(m){case"\u0414\u0435\u0432\u044f\u0442\u043a\u0438\u043d\u043e":case"\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u043a\u0438\u0439 \u043f\u0440.":case"\u0410\u043a\u0430\u0434\u0435\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f":case"\u041f\u043e\u043b\u0438\u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0430\u044f":case"\u041f\u043b\u043e\u0449\u0430\u0434\u044c \u041c\u0443\u0436.":case"\u041b\u0435\u0441\u043d\u0430\u044f":case"\u0412\u044b\u0431\u043e\u0440\u0433\u0441\u043a\u0430\u044f":case"\u041f\u043b\u043e\u0449\u0430\u0434\u044c \u041b\u0435\u043d\u0438\u043d\u0430":case"\u0427\u0435\u0440\u043d\u044b\u0448\u0435\u0432\u0441\u043a\u0430\u044f":case"\u041f\u043b\u043e\u0449\u0430\u0434\u044c \u0412\u043e\u0441\u0441\u0442.":case"\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u0441\u043a\u0430\u044f":case"\u041f\u0443\u0448\u043a\u0438\u043d\u0441\u043a\u0430\u044f":case"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0439":case"\u0411\u0430\u043b\u0442\u0438\u0439\u0441\u043a\u0430\u044f":case"\u041d\u0430\u0440\u0432\u0441\u043a\u0430\u044f":case"\u041a\u0438\u0440\u043e\u0432\u0441\u043a\u0438\u0439 \u0437\u0430\u0432\u043e\u0434":case"\u041b\u0435\u043d\u0438\u043d\u0441\u043a\u0438\u0439 \u043f\u0440.":case"\u041f\u0440. \u0412\u0435\u0442\u0435\u0440\u0430\u043d\u043e\u0432":e="#D61C38";break;case"\u041f\u0430\u0440\u043d\u0430\u0441":case"\u041f\u0440. \u041f\u0440\u043e\u0441\u0432\u0435\u0449\u0435\u043d\u0438\u044f":case"\u041e\u0437\u0435\u0440\u043a\u0438":case"\u0423\u0434\u0435\u043b\u044c\u043d\u0430\u044f":case"\u041f\u0438\u043e\u043d\u0435\u0440\u0441\u043a\u0430\u044f":case"\u0427\u0435\u0440\u043d\u0430\u044f \u0420\u0435\u0447\u043a\u0430":case"\u041f\u0435\u0442\u0440\u043e\u0433\u0440\u0430\u0434\u0441\u043a\u0430\u044f":case"\u0413\u043e\u0440\u044c\u043a\u043e\u0432\u0441\u043a\u0430\u044f":case"\u041d\u0435\u0432\u0441\u043a\u0438\u0439 \u043f\u0440.":case"\u0421\u0435\u043d\u043d\u0430\u044f \u041f\u043b\u043e\u0449\u0430\u0434\u044c":case"\u0424\u0440\u0443\u043d\u0437\u0435\u043d\u0441\u043a\u0430\u044f":case"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0432\u043e\u0440.":case"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u0441\u0438\u043b\u0430":case"\u041f\u0430\u0440\u043a \u043f\u043e\u0431\u0435\u0434\u044b":case"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0430\u044f":case"\u0417\u0432\u0435\u0437\u0434\u043d\u0430\u044f":case"\u041a\u0443\u043f\u0447\u0438\u043d\u043e":e="#007DCC";break;case"\u0411\u0435\u0433\u043e\u0432\u0430\u044f":case"\u041d\u043e\u0432\u043e\u043a\u0440\u0435\u0441\u0442\u043e\u0432\u0441\u043a\u0430\u044f":case"\u041f\u0440\u0438\u043c\u043e\u0440\u0441\u043a\u0430\u044f":case"\u0412\u0430\u0441\u0438\u043b\u0435\u043e\u0441\u0442\u0440\u043e\u0432\u0441\u043a\u0430\u044f":case"\u0413\u043e\u0441\u0442\u0438\u043d\u044b\u0439 \u0414\u0432\u043e\u0440":case"\u041c\u0430\u044f\u043a\u043e\u0432\u0441\u043a\u0430\u044f":case"\u041f\u043b\u043e\u0449\u0430\u0434\u044c \u0410\u043b. \u041d.":case"\u0415\u043b\u0438\u0437\u0430\u0440\u043e\u0432\u0441\u043a\u0430\u044f":case"\u041b\u043e\u043c\u043e\u043d\u043e\u0441\u043e\u0432\u0441\u043a\u0430\u044f":case"\u041f\u0440\u043e\u043b\u0435\u0442\u0430\u0440\u0441\u043a\u0430\u044f":case"\u0420\u044b\u0431\u0430\u0446\u043a\u043e\u0435":e="#009959";break;case"\u0421\u043f\u0430\u0441\u0441\u043a\u0430\u044f":case"\u0414\u043e\u0441\u0442\u043e\u0435\u0432\u0441\u043a\u0430\u044f":case"\u041b\u0438\u0433\u043e\u0432\u0441\u043a\u0438\u0439 \u043f\u0440.":case"\u041d\u043e\u0432\u043e\u0447\u0435\u0440\u043a\u0430\u0441\u0441\u043a\u0430\u044f":case"\u041b\u0430\u0434\u043e\u0436\u0441\u043a\u0430\u044f":case"\u041f\u0440. \u0411\u043e\u043b\u044c\u0448\u0435\u0432\u0438\u043a\u043e\u0432":case"\u0423\u043b. \u0414\u044b\u0431\u0435\u043d\u043a\u043e":e="#DE7008";break;case"\u041a\u043e\u043c\u0435\u043d\u0434\u0430\u043d\u0442\u0441\u043a\u0438\u0439":case"\u0421\u0442\u0430\u0440\u0430\u044f \u0414\u0435\u0440\u0435\u0432\u043d\u044f":case"\u041a\u0440\u0435\u0441\u0442\u043e\u0432\u0441\u043a\u0438\u0439 \u041e\u0441\u0442.":case"\u0427\u043a\u0430\u043b\u043e\u0432\u0441\u043a\u0430\u044f":case"\u0421\u043f\u043e\u0440\u0442\u0438\u0432\u043d\u0430\u044f":case"\u0410\u0434\u043c\u0438\u0440\u0430\u043b\u0442\u0435\u0439\u0441\u043a\u0430\u044f":case"\u0421\u0430\u0434\u043e\u0432\u0430\u044f":case"\u0417\u0432\u0435\u043d\u0438\u0433\u043e\u0440\u043e\u0434\u0441\u043a\u0430\u044f":case"\u041e\u0431\u0432\u043e\u0434\u043d\u044b\u0439 \u043a\u0430\u043d\u0430\u043b":case"\u0412\u043e\u043b\u043a\u043e\u0432\u0441\u043a\u0430\u044f":case"\u0411\u0443\u0445\u0430\u0440\u0435\u0441\u0442\u0441\u043a\u0430\u044f":case"\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u0430\u044f":case"\u041f\u0440\u043e\u0441\u043f\u0435\u043a\u0442 \u0441\u043b\u0430\u0432\u044b":case"\u0414\u0443\u043d\u0430\u0439\u0441\u043a\u0430\u044f":case"\u0428\u0443\u0448\u0430\u0440\u044b":e="#6E0A78";break;default:e="rgba(255, 255, 255, 0)"}return e}()}}),s.a.createElement("div",{className:r.a.metro_label},c),l&&s.a.createElement("div",{className:r.a.metro_arrow},s.a.createElement("svg",{width:"7",height:"12",viewBox:"0 0 7 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{d:"M1 1L6 6L1 11",stroke:"#727272"}))))}))},51:function(e,t,a){e.exports={metro:"styles_metro__Qvg4e",metro_icon:"styles_metro_icon__1eyHd",metro_label:"styles_metro_label__1zzzM",metro_arrow:"styles_metro_arrow__2s9-B"}},52:function(e,t,a){"use strict";var n=a(0),s=a.n(n),o=a(5),c=a(53),r=a.n(c);t.a=s.a.memo(function(e){var t=e.className,a=e.id,c=e.page,i=Object(n.useContext)(o.a);return s.a.createElement("button",{className:"".concat(r.a.shareBtn," ").concat(t),onClick:function(){i.update({shareModalOpen:!0,shareModalPage:c,shareModalId:a})}},s.a.createElement("span",null,"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"))})},53:function(e,t,a){e.exports={shareBtn:"styles_shareBtn__qt8ex"}},54:function(e,t,a){e.exports={postCard:"styles_postCard__2WqTh",postCardImage:"styles_postCardImage__10v2l",postCardImage_container:"styles_postCardImage_container__2GzJI",postCardInfo:"styles_postCardInfo__Ww4l_",postCardTitle:"styles_postCardTitle__2Gk1K",postCardAdress:"styles_postCardAdress__3ot8p",postCardLike:"styles_postCardLike__jOPw5",postCardLikeContainer:"styles_postCardLikeContainer__1RM0j",postCardInstagramLink:"styles_postCardInstagramLink__343iL",postCardAbout:"styles_postCardAbout__r0OLo",postCardComments:"styles_postCardComments__3sb8L",postCardTextInput:"styles_postCardTextInput__2BZNn",postCardTextInput_input:"styles_postCardTextInput_input__1qzzR",postCardTextInput_button:"styles_postCardTextInput_button__CGoJK",border:"styles_border__F_P4d"}},55:function(e,t,a){e.exports={slider:"styles_slider__1zfyK",main:"styles_main__1jPID",photoCount:"styles_photoCount__3zhfQ",swiper:"styles_swiper__3NMFa",imageHolder:"styles_imageHolder__1QFBn",move:"styles_move__1xnPW",moveContainer:"styles_moveContainer__3MA41",moveContainer_left:"styles_moveContainer_left__1K8OF",moveContainer_right:"styles_moveContainer_right__3fVtY",authorText:"styles_authorText__3MOUC",back:"styles_back__2yDlz",next:"styles_next__2m3Se"}},56:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(5),c=a(54),r=a.n(c),i=a(48),l=a(50),m=a(52),d=a(15),u=a(16),_=a(18),h=a(17),p=a(19),v=a(55),C=a.n(v),f=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(_.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).isOx=null,a.isOy=null,a.lastTouch=0,a.imageWidth=a.context.state.width,a.state={imgs:[],currentIndex:0,movement:0,transitionDuration:"0s"},a.handleTouchStart=function(e){a.lastTouch=e.nativeEvent.touches[0].clientX,a.startY=e.nativeEvent.touches[0].clientY,a.startX=e.nativeEvent.touches[0].clientX},a.handleTouchMove=function(e){var t=a.lastTouch-e.nativeEvent.touches[0].clientX,n=e.nativeEvent.touches[0].clientX-a.startX;a.lastTouch=e.nativeEvent.touches[0].clientX;var s=e.nativeEvent.touches[0].clientY-a.startY;null===a.isOx&&null===a.isOy&&(Math.abs(s)<Math.abs(n)?a.isOx=!0:a.isOy=!0),a.isOx&&(document.body.style.overflowY="hidden",a.handleMovement(t),e.preventDefault())},a.handleTouchEnd=function(){a.handleMovementEnd(),document.body.style.overflowY="scroll",a.lastTouch=0,a.isOx=null,a.isOy=null},a.handleMovement=function(e){var t=a.state.imgs.length-1,n=a.state.movement+e;n<0&&(n=0),n>t*a.imageWidth&&(n=t*a.imageWidth),a.setState({movement:n,transitionDuration:"0s"})},a.handleMovementEnd=function(){var e=a.state,t=e.movement,n=e.currentIndex,s=t/a.imageWidth,o=s%1,c=s-o,r=c-n,i=c;r>=0?o>=.1&&(i+=1):r<0&&(i=n-Math.abs(r),o>.9&&(i+=1)),a.transitionTo(i,Math.min(.5,1-Math.abs(o)))},a.transitionTo=function(e,t){a.setState({currentIndex:e,movement:e*a.imageWidth,transitionDuration:"".concat(t,"s")})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({imgs:this.props.images})}},{key:"render",value:function(){var e=this,t=this.state,a=t.currentIndex,n=t.movement,o=t.transitionDuration,c=t.imgs,r=c.length-1,i=r*this.imageWidth;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:C.a.slider},s.a.createElement("div",{className:C.a.main,style:{width:"".concat(this.imageWidth,"px"),height:"".concat(this.imageWidth,"px")},onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd},s.a.createElement("div",{className:C.a.photoCount},"".concat(a+1,"/").concat(r+1)),s.a.createElement("div",{className:C.a.swiper,style:{transform:"translateX(".concat(-1*n,"px)"),transitionDuration:o}},c.map(function(e,t){return s.a.createElement("div",{key:t,className:C.a.imageHolder},s.a.createElement("img",{alt:"Cafe img num. ".concat(t,". author: ").concat(e.author),decoding:"auto",sizes:"(max-width: 374px) 640w, (max-width: 699px) 750w, (min-width: 700px) 1080w",srcSet:"".concat(e[640]," 640w, ").concat(e[750]," 750w, ").concat(e[1080]," 1080w"),src:e.source,style:{objectFit:"cover"}}))})),0!==n&&s.a.createElement("div",{className:"".concat(C.a.moveContainer," ").concat(C.a.moveContainer_left),onClick:function(){e.transitionTo(a-1,.5)}},s.a.createElement("button",{className:C.a.move},s.a.createElement("svg",{width:"6",height:"8",viewBox:"0 0 6 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{d:"M4.11108 0.666626L0.777751 3.99996L4.11108 7.33329",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"})))),n!==i&&s.a.createElement("div",{className:"".concat(C.a.moveContainer," ").concat(C.a.moveContainer_right),onClick:function(){e.transitionTo(a+1,.5)}},s.a.createElement("button",{className:C.a.move},s.a.createElement("svg",{width:"5",height:"8",viewBox:"0 0 5 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{d:"M0.888916 0.666626L4.22225 3.99996L0.888916 7.33329",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"})))))),s.a.createElement("p",{className:C.a.authorText},c&&c[a]&&c[a].author?"".concat(c[a].author):""))}}]),t}(s.a.Component);f.contextType=o.a;var g=f;t.default=s.a.memo(function(e){var t=Object(n.useContext)(o.a);console.log(e);var a=e.data?e.data.id:e.match.params.id,c=e.data?e.data:t.state.cafes.read().find(function(e){return e.id===a}),d=c.title,u=c.addressName,_=c.likes,h=c.mainText,p=c.photos,v=c.smallText,C=c.instagramLink,f=c.metroName;return s.a.createElement("article",{className:r.a.postCard},s.a.createElement(g,{images:p}),s.a.createElement("section",{className:r.a.postCardInfo},s.a.createElement("div",{className:r.a.postCardTitle},s.a.createElement("h1",null,d),s.a.createElement(m.a,{page:e.data?"map":"post",id:a})),s.a.createElement(l.a,{className:r.a.postCardAdress,label:u,metro:f,withArrow:!e.disableAddress,withClick:!e.disableAddress,id:a}),s.a.createElement("div",{className:r.a.postCardLikeContainer},s.a.createElement(i.a,{className:r.a.postCardLike,numOfLikes:_,id:a}),s.a.createElement("a",{className:r.a.postCardInstagramLink,href:C||"",target:"_blank",rel:"noopener noreferrer"},"Instagram")),s.a.createElement("p",{className:r.a.postCardAbout},v),s.a.createElement("p",{className:r.a.postCardAbout},h)))})}}]);
//# sourceMappingURL=4.36c522d4.chunk.js.map