(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{47:function(e,t,a){"use strict";var s=a(56),n=a(20),o=a(0),l=a.n(o),i=a(6),r=a(52),c=a.n(r);t.a=l.a.memo(function(e){var t=e.numOfLikes,a=e.className,r=e.id,m=Object(o.useContext)(i.a),d=Object(o.useState)(0),u=Object(n.a)(d,2),p=u[0],f=u[1],y=m.state.likedCafes.includes(r);Object(o.useLayoutEffect)(function(){f(Number(t))},[]);return l.a.createElement("section",{className:"".concat(c.a.like," ").concat(a)},l.a.createElement("div",{className:c.a.like_icon,onClick:function(){var e,t=Object(s.a)(m.state.likedCafes);if(y){var a=t.filter(function(e){return e!==r});e="dec",f(p-1),m.update({likedCafes:a})}else t.push(r),e="inc",f(p+1),m.update({likedCafes:t});fetch("https://europe-west1-mirum-e30cc.cloudfunctions.net/api/cafes/".concat(r,"/like/").concat(e),{method:"PUT"}).then(function(e){return e.json()}).then(function(e){return f(e.likes)})}},l.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 21 21",fill:y?"#FF2929":"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M20.4673 6.60488L20.4688 6.6218L20.4715 6.63858C20.4862 6.73014 20.5853 7.44813 20.2997 8.65667L20.2997 8.65682C19.8888 10.3984 18.9388 11.9878 17.5446 13.2519C17.5441 13.2524 17.5436 13.2528 17.5431 13.2532L10.44 19.5899L3.4571 13.253L3.45682 13.2528C2.0619 11.9889 1.11132 10.3986 0.700268 8.65679L0.700247 8.6567C0.414631 7.44742 0.513961 6.72978 0.528643 6.63948L0.531481 6.62203L0.533079 6.60442C0.820667 3.43488 3.03853 1.23746 5.71797 1.23746C7.48855 1.23746 9.07782 2.18316 10.0103 3.77886L10.4373 4.50947L10.8713 3.783C11.8104 2.21089 13.4737 1.23786 15.282 1.23786C17.9618 1.23786 20.1793 3.43527 20.4673 6.60488Z",stroke:y?"#FF2929":"#2A2A2A"}))),l.a.createElement("div",{className:c.a.like_count},p))})},48:function(e,t,a){"use strict";var s=a(0),n=a.n(s),o=a(6),l=a(53),i=a.n(l),r=a(47),c=a(50),m=a(49),d=a(12),u=a(13),p=a(15),f=a(14),y=a(16),_=a(55),h=a.n(_),v=function(e){function t(){var e,a;Object(d.a)(this,t);for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(o)))).isOx=null,a.isOy=null,a.lastTouch=0,a.sliderDiv=n.a.createRef(),a.state={imgs:[],currentIndex:0,movement:0,transitionDuration:"0s",imageWidth:null},a.handleTouchStart=function(e){a.lastTouch=e.nativeEvent.touches[0].clientX,a.startY=e.nativeEvent.touches[0].clientY,a.startX=e.nativeEvent.touches[0].clientX},a.handleTouchMove=function(e){var t=a.lastTouch-e.nativeEvent.touches[0].clientX,s=e.nativeEvent.touches[0].clientX-a.startX;a.lastTouch=e.nativeEvent.touches[0].clientX;var n=e.nativeEvent.touches[0].clientY-a.startY;null===a.isOx&&null===a.isOy&&(Math.abs(n)<Math.abs(s)?a.isOx=!0:a.isOy=!0),a.isOx&&(document.body.style.overflowY="hidden",a.handleMovement(t),e.preventDefault())},a.handleTouchEnd=function(){a.handleMovementEnd(),document.body.style.overflowY="scroll",a.lastTouch=0,a.isOx=null,a.isOy=null},a.handleMovement=function(e){var t=a.state.imgs.length-1,s=a.state.movement+e;s<0&&(s=0),s>t*a.state.imageWidth&&(s=t*a.state.imageWidth),a.setState({movement:s,transitionDuration:"0s"})},a.handleMovementEnd=function(){var e=a.state,t=e.movement,s=e.currentIndex,n=t/a.state.imageWidth,o=n%1,l=n-o,i=l-s,r=l;i>=0?o>=.1&&(r+=1):i<0&&(r=s-Math.abs(i),o>.9&&(r+=1)),a.transitionTo(r,Math.min(.5,1-Math.abs(o)))},a.transitionTo=function(e,t){a.setState({currentIndex:e,movement:e*a.state.imageWidth,transitionDuration:"".concat(t,"s")})},a}return Object(y.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({imageWidth:this.sliderDiv.current.offsetWidth,imgs:this.props.images})}},{key:"render",value:function(){var e=this,t=this.state,a=t.currentIndex,s=t.movement,o=t.transitionDuration,l=t.imgs,i=l.length-1,r=i*this.state.imageWidth;return n.a.createElement("div",null,n.a.createElement("div",{className:h.a.slider,ref:this.sliderDiv},n.a.createElement("div",{className:h.a.main,style:{width:"".concat(this.state.imageWidth,"px"),height:"".concat(this.state.imageWidth,"px")},onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd},n.a.createElement("div",{className:h.a.photoCount},"".concat(a+1,"/").concat(i+1)),n.a.createElement("div",{className:h.a.swiper,style:{transform:"translateX(".concat(-1*s,"px)"),transitionDuration:o}},l.map(function(e,t){return n.a.createElement("div",{key:t,className:h.a.imageHolder},n.a.createElement("img",{alt:"Cafe img num. ".concat(t,". author: ").concat(e.author),decoding:"auto",sizes:"(max-width: 374px) 640w, (max-width: 699px) 750w, (min-width: 700px) 1080w",srcSet:"".concat(e[640]," 640w, ").concat(e[750]," 750w, ").concat(e[1080]," 1080w"),src:e.source,style:{objectFit:"cover"}}))})),0!==s&&n.a.createElement("div",{className:"".concat(h.a.moveContainer," ").concat(h.a.moveContainer_left),onClick:function(){e.transitionTo(a-1,.5)}},n.a.createElement("button",{className:h.a.move},n.a.createElement("svg",{width:"6",height:"8",viewBox:"0 0 6 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M4.11108 0.666626L0.777751 3.99996L4.11108 7.33329",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"})))),s!==r&&n.a.createElement("div",{className:"".concat(h.a.moveContainer," ").concat(h.a.moveContainer_right),onClick:function(){e.transitionTo(a+1,.5)}},n.a.createElement("button",{className:h.a.move},n.a.createElement("svg",{width:"5",height:"8",viewBox:"0 0 5 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.888916 0.666626L4.22225 3.99996L0.888916 7.33329",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"})))))),n.a.createElement("p",{className:"".concat(h.a.authorText," ").concat(this.props.authorInside?h.a.authorTextInside:"")},l&&l[a]&&l[a].author?"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a: ".concat(l[a].author):""))}}]),t}(n.a.Component);v.contextType=o.a;var g=v;t.a=n.a.memo(function(e){var t=Object(s.useContext)(o.a),a=e.data?e.data.id:e.id,l=e.isModal,d=e.data?e.data:t.state.cafes.read().find(function(e){return e.id===a}),u=d.title,p=d.addressName,f=d.likes,y=d.mainText,_=d.photos,h=d.smallText,v=d.instagramLink,w=d.metroName;return Object(s.useLayoutEffect)(function(){"mobile"===t.state.device&&window.scrollTo(0,0)},[]),n.a.createElement("article",{className:"".concat(i.a.postCard," ").concat(l?i.a.modalPostCard:""," ")},n.a.createElement(g,{images:_,authorInside:l}),n.a.createElement("section",{className:i.a.postCardInfo},n.a.createElement("div",{className:i.a.postCardTitle},n.a.createElement("h1",null,u),n.a.createElement(m.a,{page:e.data?"map":"cafes",id:a})),n.a.createElement(c.a,{className:i.a.postCardAdress,label:p,metro:w,withArrow:!e.disableAddress,withClick:!e.disableAddress,id:a}),n.a.createElement("div",{className:i.a.postCardLikeContainer},n.a.createElement(r.a,{className:i.a.postCardLike,numOfLikes:f,id:a}),n.a.createElement("a",{className:i.a.postCardInstagramLink,href:v||"",target:"_blank",rel:"noopener noreferrer"},"Instagram")),n.a.createElement("p",{className:i.a.postCardAbout},h),n.a.createElement("p",{className:i.a.postCardAbout},y)))})},49:function(e,t,a){"use strict";var s=a(0),n=a.n(s),o=a(6),l=a(51),i=a.n(l);t.a=n.a.memo(function(e){var t=e.className,a=e.id,l=e.page,r=Object(s.useContext)(o.a);return n.a.createElement("button",{className:"".concat(i.a.shareBtn," ").concat(t),onClick:function(){r.update({shareModalOpen:!0,shareModalPage:l,shareModalId:a})}},n.a.createElement("span",null,"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"))})},50:function(e,t,a){"use strict";var s=a(0),n=a.n(s),o=a(8),l=a(54),i=a.n(l);t.a=Object(o.e)(n.a.memo(function(e){var t=e.className,a=e.id,s=e.withClick,o=void 0!==s&&s,l=e.label,r=e.withArrow,c=void 0!==r&&r,m=e.metro,d=e.fitSmall;return n.a.createElement("section",{className:"".concat(i.a.metro," ").concat(o?i.a.withClick:""," ").concat(t),onClick:o?function(){e.history.push("/map/".concat(a))}:null},n.a.createElement("div",{className:i.a.metro_icon,style:{backgroundColor:function(){var e="";switch(m){case"\u0414\u0435\u0432\u044f\u0442\u043a\u0438\u043d\u043e":case"\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u043a\u0438\u0439 \u043f\u0440.":case"\u0410\u043a\u0430\u0434\u0435\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f":case"\u041f\u043e\u043b\u0438\u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0430\u044f":case"\u041f\u043b\u043e\u0449\u0430\u0434\u044c \u041c\u0443\u0436.":case"\u041b\u0435\u0441\u043d\u0430\u044f":case"\u0412\u044b\u0431\u043e\u0440\u0433\u0441\u043a\u0430\u044f":case"\u041f\u043b\u043e\u0449\u0430\u0434\u044c \u041b\u0435\u043d\u0438\u043d\u0430":case"\u0427\u0435\u0440\u043d\u044b\u0448\u0435\u0432\u0441\u043a\u0430\u044f":case"\u041f\u043b\u043e\u0449\u0430\u0434\u044c \u0412\u043e\u0441\u0441\u0442.":case"\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u0441\u043a\u0430\u044f":case"\u041f\u0443\u0448\u043a\u0438\u043d\u0441\u043a\u0430\u044f":case"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0439":case"\u0411\u0430\u043b\u0442\u0438\u0439\u0441\u043a\u0430\u044f":case"\u041d\u0430\u0440\u0432\u0441\u043a\u0430\u044f":case"\u041a\u0438\u0440\u043e\u0432\u0441\u043a\u0438\u0439 \u0437\u0430\u0432\u043e\u0434":case"\u041b\u0435\u043d\u0438\u043d\u0441\u043a\u0438\u0439 \u043f\u0440.":case"\u041f\u0440. \u0412\u0435\u0442\u0435\u0440\u0430\u043d\u043e\u0432":e="#D61C38";break;case"\u041f\u0430\u0440\u043d\u0430\u0441":case"\u041f\u0440. \u041f\u0440\u043e\u0441\u0432\u0435\u0449\u0435\u043d\u0438\u044f":case"\u041e\u0437\u0435\u0440\u043a\u0438":case"\u0423\u0434\u0435\u043b\u044c\u043d\u0430\u044f":case"\u041f\u0438\u043e\u043d\u0435\u0440\u0441\u043a\u0430\u044f":case"\u0427\u0435\u0440\u043d\u0430\u044f \u0420\u0435\u0447\u043a\u0430":case"\u041f\u0435\u0442\u0440\u043e\u0433\u0440\u0430\u0434\u0441\u043a\u0430\u044f":case"\u0413\u043e\u0440\u044c\u043a\u043e\u0432\u0441\u043a\u0430\u044f":case"\u041d\u0435\u0432\u0441\u043a\u0438\u0439 \u043f\u0440.":case"\u0421\u0435\u043d\u043d\u0430\u044f \u041f\u043b\u043e\u0449\u0430\u0434\u044c":case"\u0424\u0440\u0443\u043d\u0437\u0435\u043d\u0441\u043a\u0430\u044f":case"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0412\u043e\u0440.":case"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u0441\u0438\u043b\u0430":case"\u041f\u0430\u0440\u043a \u043f\u043e\u0431\u0435\u0434\u044b":case"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0430\u044f":case"\u0417\u0432\u0435\u0437\u0434\u043d\u0430\u044f":case"\u041a\u0443\u043f\u0447\u0438\u043d\u043e":e="#007DCC";break;case"\u0411\u0435\u0433\u043e\u0432\u0430\u044f":case"\u041d\u043e\u0432\u043e\u043a\u0440\u0435\u0441\u0442\u043e\u0432\u0441\u043a\u0430\u044f":case"\u041f\u0440\u0438\u043c\u043e\u0440\u0441\u043a\u0430\u044f":case"\u0412\u0430\u0441\u0438\u043b\u0435\u043e\u0441\u0442\u0440\u043e\u0432\u0441\u043a\u0430\u044f":case"\u0413\u043e\u0441\u0442\u0438\u043d\u044b\u0439 \u0414\u0432\u043e\u0440":case"\u041c\u0430\u044f\u043a\u043e\u0432\u0441\u043a\u0430\u044f":case"\u041f\u043b\u043e\u0449\u0430\u0434\u044c \u0410\u043b. \u041d.":case"\u0415\u043b\u0438\u0437\u0430\u0440\u043e\u0432\u0441\u043a\u0430\u044f":case"\u041b\u043e\u043c\u043e\u043d\u043e\u0441\u043e\u0432\u0441\u043a\u0430\u044f":case"\u041f\u0440\u043e\u043b\u0435\u0442\u0430\u0440\u0441\u043a\u0430\u044f":case"\u0420\u044b\u0431\u0430\u0446\u043a\u043e\u0435":e="#009959";break;case"\u0421\u043f\u0430\u0441\u0441\u043a\u0430\u044f":case"\u0414\u043e\u0441\u0442\u043e\u0435\u0432\u0441\u043a\u0430\u044f":case"\u041b\u0438\u0433\u043e\u0432\u0441\u043a\u0438\u0439 \u043f\u0440.":case"\u041d\u043e\u0432\u043e\u0447\u0435\u0440\u043a\u0430\u0441\u0441\u043a\u0430\u044f":case"\u041b\u0430\u0434\u043e\u0436\u0441\u043a\u0430\u044f":case"\u041f\u0440. \u0411\u043e\u043b\u044c\u0448\u0435\u0432\u0438\u043a\u043e\u0432":case"\u0423\u043b. \u0414\u044b\u0431\u0435\u043d\u043a\u043e":e="#DE7008";break;case"\u041a\u043e\u043c\u0435\u043d\u0434\u0430\u043d\u0442\u0441\u043a\u0438\u0439":case"\u0421\u0442\u0430\u0440\u0430\u044f \u0414\u0435\u0440\u0435\u0432\u043d\u044f":case"\u041a\u0440\u0435\u0441\u0442\u043e\u0432\u0441\u043a\u0438\u0439 \u041e\u0441\u0442.":case"\u0427\u043a\u0430\u043b\u043e\u0432\u0441\u043a\u0430\u044f":case"\u0421\u043f\u043e\u0440\u0442\u0438\u0432\u043d\u0430\u044f":case"\u0410\u0434\u043c\u0438\u0440\u0430\u043b\u0442\u0435\u0439\u0441\u043a\u0430\u044f":case"\u0421\u0430\u0434\u043e\u0432\u0430\u044f":case"\u0417\u0432\u0435\u043d\u0438\u0433\u043e\u0440\u043e\u0434\u0441\u043a\u0430\u044f":case"\u041e\u0431\u0432\u043e\u0434\u043d\u044b\u0439 \u043a\u0430\u043d\u0430\u043b":case"\u0412\u043e\u043b\u043a\u043e\u0432\u0441\u043a\u0430\u044f":case"\u0411\u0443\u0445\u0430\u0440\u0435\u0441\u0442\u0441\u043a\u0430\u044f":case"\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u0430\u044f":case"\u041f\u0440\u043e\u0441\u043f\u0435\u043a\u0442 \u0441\u043b\u0430\u0432\u044b":case"\u0414\u0443\u043d\u0430\u0439\u0441\u043a\u0430\u044f":case"\u0428\u0443\u0448\u0430\u0440\u044b":e="#6E0A78";break;default:e="rgba(255, 255, 255, 0)"}return e}()}}),n.a.createElement("div",{className:"".concat(i.a.metro_label," ").concat(d?i.a.labelFitSmall:"")},l),c&&n.a.createElement("div",{className:i.a.metro_arrow},n.a.createElement("svg",{width:"7",height:"12",viewBox:"0 0 7 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M1 1L6 6L1 11",stroke:"#727272"}))))}))},51:function(e,t,a){e.exports={shareBtn:"styles_shareBtn__qt8ex"}},52:function(e,t,a){e.exports={like:"styles_like__2y23N",like_icon:"styles_like_icon__2lgM5",like_count:"styles_like_count__ru3H3"}},53:function(e,t,a){e.exports={postCard:"styles_postCard__2WqTh",postCardImage:"styles_postCardImage__10v2l",postCardImage_container:"styles_postCardImage_container__2GzJI",postCardInfo:"styles_postCardInfo__Ww4l_",postCardTitle:"styles_postCardTitle__2Gk1K",postCardAdress:"styles_postCardAdress__3ot8p",postCardLike:"styles_postCardLike__jOPw5",postCardLikeContainer:"styles_postCardLikeContainer__1RM0j",postCardInstagramLink:"styles_postCardInstagramLink__343iL",postCardAbout:"styles_postCardAbout__r0OLo",postCardComments:"styles_postCardComments__3sb8L",postCardTextInput:"styles_postCardTextInput__2BZNn",postCardTextInput_input:"styles_postCardTextInput_input__1qzzR",postCardTextInput_button:"styles_postCardTextInput_button__CGoJK",border:"styles_border__F_P4d",modalPostCard:"styles_modalPostCard__HQR72"}},54:function(e,t,a){e.exports={metro:"styles_metro__Qvg4e",metro_icon:"styles_metro_icon__1eyHd",metro_label:"styles_metro_label__1zzzM",metro_arrow:"styles_metro_arrow__2s9-B",labelFitSmall:"styles_labelFitSmall__b9Xyk",withClick:"styles_withClick__27wXB"}},55:function(e,t,a){e.exports={slider:"styles_slider__1zfyK",main:"styles_main__1jPID",photoCount:"styles_photoCount__3zhfQ",swiper:"styles_swiper__3NMFa",imageHolder:"styles_imageHolder__1QFBn",move:"styles_move__1xnPW",moveContainer:"styles_moveContainer__3MA41",moveContainer_left:"styles_moveContainer_left__1K8OF",moveContainer_right:"styles_moveContainer_right__3fVtY",authorText:"styles_authorText__3MOUC",authorTextInside:"styles_authorTextInside__3UVle",back:"styles_back__2yDlz",next:"styles_next__2m3Se"}},62:function(e,t,a){e.exports={mapPage:"styles_mapPage__1XzgJ",mapPageLoading:"styles_mapPageLoading__2KlIN",map:"styles_map__2Dvyj"}},63:function(e,t,a){e.exports=a.p+"static/media/place.60dfa455.svg"},64:function(e,t,a){e.exports=a.p+"static/media/geo.3b6a2c2e.svg"},65:function(e,t,a){e.exports={mapModalWindow:"styles_mapModalWindow__2KlXr",mapModalHeader:"styles_mapModalHeader__vLP-3",mapModalHeader_close:"styles_mapModalHeader_close__21EFD",mapModalHeader_arrow:"styles_mapModalHeader_arrow__3Fsuo",mapModalBody:"styles_mapModalBody__1iX1f",open:"styles_open__3Ygme",mapModal_arrowTablet:"styles_mapModal_arrowTablet__1qwmO",smallInfoContainer:"styles_smallInfoContainer__3jDIO"}},66:function(e,t,a){e.exports={smallModal:"styles_smallModal__25cKR",smallModal_body:"styles_smallModal_body__2m5bP",smallModal_img:"styles_smallModal_img__27o4q",smallModal_info:"styles_smallModal_info__31Ebs",smallModal_description:"styles_smallModal_description__2LVB3",smallModal_about:"styles_smallModal_about__1XCGQ",smallModal_author:"styles_smallModal_author__3cFcr",smallModal_like:"styles_smallModal_like__XTjda",smallModal_footer:"styles_smallModal_footer__1st1A"}},67:function(e,t,a){e.exports={mapFullModalWindow:"styles_mapFullModalWindow__3NAmB",open:"styles_open__20rFn",mapFullModalLessBtn:"styles_mapFullModalLessBtn__3ybbc",mapFullModalBody:"styles_mapFullModalBody__3bVDQ"}},68:function(e,t,a){e.exports={suggestInputContainer:"styles_suggestInputContainer__Pyd8E",mapInputContainer:"styles_mapInputContainer__3e7x5",showInput:"styles_showInput__2Gj27",searchInputBody:"styles_searchInputBody__18lrM",searchInputIcon:"styles_searchInputIcon__3tuVp",clearInputBtn:"styles_clearInputBtn__17amh",searchInputCancel:"styles_searchInputCancel__3LCqB",suggestedList:"styles_suggestedList__1ybfH",suggestedValue:"styles_suggestedValue__2hOjN"}},73:function(e,t,a){"use strict";a.r(t);var s=a(57),n=a.n(s),o=a(60),l=a(17),i=a(20),r=a(0),c=a.n(r),m=a(6),d=a(61),u=a(62),p=a.n(u),f=a(63),y=a.n(f),_=a(64),h=a.n(_),v=a(65),g=a.n(v),w=a(66),b=a.n(w),C=a(49),k=a(47),E=c.a.memo(function(e){var t=e.data,a=e.touchStart,s=e.touchMove,n=e.touchEnd,o=e.onFullModalClick,l=Object(r.useContext)(m.a),i=t.title,d=t.smallText,u=t.photos,p=t.id,f=t.likes,y=t.instagramLink,_=l.state.device;return c.a.createElement("div",{className:b.a.smallModal},c.a.createElement("div",{className:b.a.smallModal_body,onTouchStart:a,onTouchMove:s,onTouchEnd:n},c.a.createElement("div",{className:b.a.smallModal_img,onClick:"mobile"!==_?o:null},c.a.createElement("img",{alt:"Main Cafe img. author: ".concat(u[0].author),decoding:"auto",src:u[0][640],style:{objectFit:"cover"}}),c.a.createElement("p",{className:b.a.smallModal_author},u[0].author)),c.a.createElement("div",{className:b.a.smallModal_info},c.a.createElement("h2",{onClick:"mobile"!==_?o:null},i),c.a.createElement("p",{className:b.a.smallModal_about,onClick:"mobile"!==_?o:null},d),"mobile"!==_&&c.a.createElement("div",{className:b.a.smallModal_footer},c.a.createElement(k.a,{className:b.a.smallModal_like,numOfLikes:f,id:p}),c.a.createElement("a",{href:y||"",target:"_blank",rel:"noopener noreferrer"},"Instagram"),c.a.createElement(C.a,{page:"map",id:p})))),"mobile"===_&&c.a.createElement("div",{className:b.a.smallModal_footer},c.a.createElement(k.a,{className:b.a.smallModal_like,numOfLikes:f,id:p}),c.a.createElement("a",{href:y||"",target:"_blank",rel:"noopener noreferrer"},"Instagram"),c.a.createElement(C.a,{page:"map",id:p})))}),T=a(48),M=c.a.memo(function(e){var t=e.type,a=e.height,s=e.data,n=e.onClose,o=e.onFullModal,l=Object(r.useContext)(m.a),d=Object(r.useState)(""),u=Object(i.a)(d,2),p=u[0],f=u[1],y=Object(r.useState)(!1),_=Object(i.a)(y,2),h=_[0],v=_[1],w=null,b=l.state.device;Object(r.useEffect)(function(){f("mobile"!==b&&"full"===t?"":t)},[t]);var C=function(e){w=e.nativeEvent.touches[0].clientY},k=function(e){var t=w-e.nativeEvent.touches[0].clientY;h||x(t)},M=function(){v(!1),w=0},x=function(e){v(!0),e>0&&"small"===p?f("full"):e<0&&"full"===p&&f("small")};return c.a.createElement("div",{className:g.a.mapModalWindow,style:{bottom:"-".concat(a,"px"),height:"".concat(a,"px"),transform:"small"===p?"translateY(-216px)":"full"===p?"translateY(-".concat(a,"px)"):"translateY(0)"}},c.a.createElement("div",{className:g.a.mapModalHeader,onTouchStart:C,onTouchMove:k,onTouchEnd:M},"mobile"===b&&c.a.createElement("div",{className:g.a.mapModalHeader_arrow,onClick:function(){f("full"===p?"small":"full")},style:{top:"full"===p?"14px":"12px"}},"full"===p?c.a.createElement("svg",{width:"20",height:"9",viewBox:"0 0 20 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M19 1.66669L10 7.66669L1 1.66669",stroke:"#727272",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})):c.a.createElement("svg",{width:"20",height:"8",viewBox:"0 0 20 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M1 7L10 1L19 7",stroke:"#727272",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))),c.a.createElement("div",{className:g.a.mapModalHeader_close,onClick:function(){n(),f("")}},c.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M15 1L1 15M1 1L15 15",stroke:"#727272",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),c.a.createElement("div",{className:g.a.mapModalBody,style:{overflowY:"full"===p?"scroll":"hidden"}},"full"===p?c.a.createElement(T.a,{data:s,disableAddress:!0}):c.a.createElement("div",{className:g.a.smallInfoContainer},c.a.createElement(E,{data:s,touchStart:C,touchMove:k,touchEnd:M,onFullModalClick:o}),"mobile"!==b&&c.a.createElement("div",{className:g.a.mapModal_arrowTablet,onClick:function(){"full"===p?f("small"):o()}},c.a.createElement("svg",{width:"8",height:"20",viewBox:"0 0 8 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M1 1L7 10L0.999999 19",stroke:"#727272",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))))))}),x=a(67),L=a.n(x),N=c.a.memo(function(e){var t=e.data,a=e.onSmallClick;return c.a.createElement("div",{className:L.a.mapFullModalWindow},c.a.createElement("div",{className:L.a.mapFullModalLessBtn,onClick:a},c.a.createElement("svg",{width:"8",height:"20",viewBox:"0 0 8 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M7 19L1 10L7 1",stroke:"#727272",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),c.a.createElement("div",{className:L.a.mapFullModalBody},c.a.createElement(T.a,{data:t,disableAddress:!0})))}),I=a(28),O=a(68),j=a.n(O),B=c.a.memo(function(e){var t=e.setSearchShow,a=e.cafes,s=e.onItemClick,n=Object(r.useState)(""),o=Object(i.a)(n,2),l=o[0],m=o[1],d=Object(r.useState)(!1),u=Object(i.a)(d,2),p=u[0],f=u[1];Object(r.useLayoutEffect)(function(){return document.addEventListener("click",y),function(){return document.removeEventListener("click",y)}},[]);var y=function(){f(!1)};return c.a.createElement("div",{className:"".concat(j.a.suggestInputContainer," ").concat(j.a.showInput)},c.a.createElement("div",{className:"".concat(j.a.mapInputContainer)},c.a.createElement("div",{className:j.a.searchInputBody},c.a.createElement("div",{className:j.a.searchInputIcon},c.a.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("ellipse",{cx:"7.11907",cy:"7.11914",rx:"5.03394",ry:"5.03394",transform:"rotate(-45 7.11907 7.11914)",stroke:"#727272",strokeWidth:"2"}),c.a.createElement("path",{d:"M10.3823 10.3823L13.6452 13.6452",stroke:"#727272",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),c.a.createElement("input",{type:"text",value:l,onChange:function(e){p||f(!0),m(e.target.value)},placeholder:"Search",onFocus:function(){return f(!0)}}),c.a.createElement("div",{className:j.a.clearInputBtn,onClick:function(){return m("")},style:{display:""===l?"none":"flex"}},c.a.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M9 1L1 9M1 1L9 9",stroke:"#727272",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))),c.a.createElement("div",{className:j.a.searchInputCancel,onClick:function(){return t(!1)}},"Cancel")),""!==l&&p&&c.a.createElement("div",{className:j.a.suggestedList},a.filter(function(e){return e.title.toLowerCase().includes(l.toLowerCase())||e.addressName.toLowerCase().includes(l.toLowerCase())}).slice(0,5).map(function(e){return c.a.createElement("div",{key:e.id,className:j.a.suggestedValue,onClick:function(){return s(e)}},c.a.createElement("span",null,e.title,",")," ",c.a.createElement("span",null,e.addressName))})))}),S=[{stylers:[{visibility:"on"}]},{elementType:"geometry",stylers:[{visibility:"on"}]},{elementType:"geometry.fill",stylers:[{color:"#f2f2f2"},{visibility:"on"}]},{elementType:"labels.icon",stylers:[{visibility:"simplified"}]},{elementType:"labels.text",stylers:[{visibility:"simplified"}]},{elementType:"labels.text.fill",stylers:[{visibility:"simplified"}]},{elementType:"labels.text.stroke",stylers:[{visibility:"simplified"}]},{featureType:"administrative",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",stylers:[{saturation:-65}]},{featureType:"landscape",stylers:[{color:"#f2f2f2"}]},{featureType:"landscape.man_made",stylers:[{color:"#f2f2f2"}]},{featureType:"landscape.natural",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#f2f2f2"},{visibility:"on"}]},{featureType:"landscape.natural.landcover",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",stylers:[{visibility:"simplified"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"road",stylers:[{saturation:-100},{lightness:70}]},{featureType:"road",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#d0d0d0"}]},{featureType:"transit.station.airport",stylers:[{visibility:"off"}]},{featureType:"transit.station.bus",stylers:[{visibility:"off"}]},{featureType:"transit.station.rail",stylers:[{visibility:"on"}]},{featureType:"transit.station.rail",elementType:"labels.icon",stylers:[{saturation:-55}]},{featureType:"transit.station.rail",elementType:"labels.text.fill",stylers:[{color:"#a6a6a6"},{saturation:-100}]},{featureType:"transit.station.rail",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"water",stylers:[{color:"#c3d8ef"},{saturation:"0"}]}],z=[{stylers:[{visibility:"on"}]},{elementType:"geometry",stylers:[{visibility:"on"}]},{elementType:"geometry.fill",stylers:[{color:"#f2f2f2"},{visibility:"on"}]},{elementType:"labels.icon",stylers:[{visibility:"simplified"}]},{elementType:"labels.text",stylers:[{visibility:"simplified"}]},{elementType:"labels.text.fill",stylers:[{visibility:"simplified"}]},{elementType:"labels.text.stroke",stylers:[{visibility:"simplified"}]},{featureType:"administrative",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",stylers:[{saturation:-65}]},{featureType:"landscape",stylers:[{color:"#f2f2f2"}]},{featureType:"landscape.man_made",stylers:[{color:"#f2f2f2"}]},{featureType:"landscape.natural",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#f2f2f2"},{visibility:"on"}]},{featureType:"landscape.natural.landcover",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.terrain",stylers:[{visibility:"simplified"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"road",stylers:[{saturation:-100},{lightness:70}]},{featureType:"road",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#d0d0d0"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"transit.station.rail",stylers:[{visibility:"on"}]},{featureType:"transit.station.rail",elementType:"labels.icon",stylers:[{saturation:-55}]},{featureType:"transit.station.rail",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"water",stylers:[{color:"#c3d8ef"},{saturation:"0"}]}];t.default=c.a.memo(function(e){var t,s=Object(r.useContext)(m.a),u=s.state.cafes.read(),f=e.match.params.id,_=s.state.device,v=Object(r.useState)(!0),g=Object(i.a)(v,2),w=g[0],b=g[1],C=Object(r.useState)(""),k=Object(i.a)(C,2),E=k[0],T=k[1],x=Object(r.useState)(0),L=Object(i.a)(x,2),O=L[0],j=L[1],F=Object(r.useState)(null),W=Object(i.a)(F,2),P=W[0],H=W[1],A=Object(r.useState)(null),D=Object(i.a)(A,2),X=D[0],Y=D[1],V=Object(r.useState)(!1),Z=Object(i.a)(V,2),q=Z[0],G=Z[1];Object(r.useLayoutEffect)(function(){if(window.google&&window.google.maps)R();else{var e=document.createElement("script");e.async=!0,e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDgkawtYk61G3q4zBrUuxzkcDOY_bd1XFU",e.onload=R,document.body.appendChild(e)}},[]);var R=function(){window.navigator.geolocation?window.navigator.geolocation.getCurrentPosition(function(e){var t={center:{lat:e.coords.latitude,lng:e.coords.longitude},zoom:14};K(t)},function(){K({center:{lat:59.9343,lng:30.3351},zoom:14})}):K({center:{lat:59.9343,lng:30.3351},zoom:14})},K=function(e){var a=window.document.getElementById("map");t=a.offsetHeight-50,j(.87*t);var s=new window.google.maps.Map(a,Object(l.a)({},e,{disableDefaultUI:!0,gestureHandling:"greedy",styles:S,clickableIcons:!1}));s.addListener("zoom_changed",function(){s.getZoom()<=13?s.setOptions({styles:z}):s.setOptions({styles:S})}),Y(s),b(!1),Q(s),J(s),ee(s),U(s)},Q=function(e){document.getElementById("zoom-in").onclick=function(){e.setZoom(e.getZoom()+1)},document.getElementById("zoom-out").onclick=function(){e.setZoom(e.getZoom()-1)},e.controls[window.google.maps.ControlPosition.RIGHT_CENTER].push(document.querySelector(".zoom-btn-container"))},U=function(e){e.controls[window.google.maps.ControlPosition.RIGHT_TOP].push(document.querySelector(".map-search-btn"))},J=function(e){var t=document.getElementById("cur-geo");t.onclick=function(){$(e)},e.controls[window.google.maps.ControlPosition.RIGHT_BOTTOM].push(t)},$=function(e){window.navigator.geolocation&&window.navigator.geolocation.getCurrentPosition(function(t){var a=new window.google.maps.LatLng(t.coords.latitude,t.coords.longitude),s={url:h.a,scaledSize:new window.google.maps.Size(24,24),origin:new window.google.maps.Point(0,0),anchor:new window.google.maps.Point(0,0)};new window.google.maps.Marker({position:a,draggable:!1,clickable:!1,icon:s,map:e}),e.setCenter(a)})},ee=function(){var e=Object(o.a)(n.a.mark(function e(t){var s,o;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.e(6).then(a.t.bind(null,72,7)).then(function(e){return e.default});case 2:return s=e.sent,e.next=5,u.map(function(e){var a=new window.google.maps.LatLng(e.addressCoord[0],e.addressCoord[1]),n=e.title.length,o=8*n,l=12*n,i={url:y.a,scaledSize:new window.google.maps.Size(o+30,20),origin:new window.google.maps.Point(o/2+7,0),anchor:new window.google.maps.Point(0,0)},r=new s({position:a,draggable:!1,icon:i,shape:{coords:[0,0,l+30,20],type:"rect"},labelContent:e.title,labelAnchor:new window.google.maps.Point(0,0),labelClass:"placeMarkLabel",labelInBackground:!0});return r.addListener("click",function(){t.setZoom(16),t.setCenter(r.getPosition()),te(e)}),r});case 5:o=e.sent,new d.a(t,o,{gridSize:50,zoomOnClick:!0,minimumClusterSize:2,styles:[{url:y.a,scaledSize:new window.google.maps.Size(21,30),height:30,width:21,iconAncor:[0,0],textColor:"#fff"}]});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)(function(){if(f&&X){var e=u.find(function(e){return e.id===f});X.setZoom(16),X.setCenter({lat:e.addressCoord[0],lng:e.addressCoord[1]}),te(e)}},[X]);var te=function(e){H(e),T("small")};return c.a.createElement("section",{className:p.a.mapPage},w&&c.a.createElement("div",{className:p.a.mapPageLoading},c.a.createElement(I.a,null)),q&&c.a.createElement(B,{setSearchShow:G,cafes:u,onItemClick:function(e){X.setZoom(16),X.setCenter({lat:e.addressCoord[0],lng:e.addressCoord[1]}),te(e)}}),c.a.createElement("div",{id:"map"}),c.a.createElement("div",{style:{display:"none"}},c.a.createElement("div",{className:"map-round-btn map-search-btn ".concat(q?"hide-search-btn":""),onClick:function(){return G(!0)}},c.a.createElement("svg",{width:"21",height:"21",viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("circle",{cx:"8.48528",cy:"8.73218",r:"5",transform:"rotate(-45 8.48528 8.73218)",stroke:"#727272",strokeWidth:"2"}),c.a.createElement("path",{d:"M12.3743 12.6212L16.2634 16.5103",stroke:"#727272",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),c.a.createElement("div",{className:"zoom-btn-container"},c.a.createElement("div",{id:"zoom-in",className:"map-round-btn",title:"Zoom In"},c.a.createElement("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M11 1.04761V20.9524",stroke:"#727272",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c.a.createElement("path",{d:"M20.9524 11H1.04761",stroke:"#727272",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),c.a.createElement("div",{id:"zoom-out",className:"map-round-btn",title:"Zoom Out"},c.a.createElement("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M20.9524 12.1579H1.04761",stroke:"#727272",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))),c.a.createElement("div",{id:"cur-geo",className:"map-round-btn map-round-btn-sm"},c.a.createElement("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M11.0001 7.33335C8.97425 7.33335 7.33341 8.97419 7.33341 11C7.33341 13.0258 8.97425 14.6667 11.0001 14.6667C13.026 14.6667 14.6667 13.0258 14.6667 11C14.6667 8.97419 13.026 7.33335 11.0001 7.33335ZM19.1951 10.0834C18.7734 6.26085 15.7393 3.22669 11.9167 2.80502V0.916687H10.0834V2.80502C6.26091 3.22669 3.22675 6.26085 2.80508 10.0834H0.916748V11.9167H2.80508C3.22675 15.7391 6.26091 18.7734 10.0834 19.195V21.0834H11.9167V19.195C15.7393 18.7734 18.7734 15.7391 19.1951 11.9167H21.0834V10.0834H19.1951ZM11.0001 17.4167C7.45258 17.4167 4.58341 14.5475 4.58341 11C4.58341 7.45252 7.45258 4.58335 11.0001 4.58335C14.5476 4.58335 17.4167 7.45252 17.4167 11C17.4167 14.5475 14.5476 17.4167 11.0001 17.4167Z",fill:"#727272"})))),P&&c.a.createElement(M,{height:O,type:E,data:P,onClose:function(){T("")},onFullModal:function(){T("full")}}),P&&"mobile"!==_&&"full"===E&&c.a.createElement(N,{data:P,onSmallClick:function(){T("small")}}))})}}]);
//# sourceMappingURL=3.95613b3e.chunk.js.map