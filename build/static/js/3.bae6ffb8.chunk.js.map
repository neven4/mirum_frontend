{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/Like/index.js","components/Like/styles.module.scss","components/Metro/index.js","components/Metro/styles.module.scss","components/ShareBtn/index.js","components/ShareBtn/styles.module.scss","components/PostCard/styles.module.scss","components/Carousel/styles.module.scss","components/Carousel/index.js","components/PostCard/index.js","components/Map/styles.module.scss","images/placemark.png","images/geo.svg","components/MapModal/styles.module.scss","components/ModalSmallInfo/styles.module.scss","components/MapTabletFullModal/styles.module.scss","components/ModalSmallInfo/index.js","components/MapModal/index.js","components/MapTabletFullModal/index.js","components/Map/index.js"],"names":["_toConsumableArray","arr","Array","isArray","i","arr2","length","_arrayWithoutHoles","iter","Symbol","iterator","Object","prototype","toString","call","from","_iterableToArray","TypeError","_nonIterableSpread","React","memo","_ref","numOfLikes","className","id","context","useContext","Context","_useState","useState","_useState2","slicedToArray","likesNum","setLikesNum","isLiked","state","likedCafes","includes","useEffect","Number","react_default","a","createElement","concat","styles","like","like_icon","onClick","likeState","newLikedPosts","removedLikeArr","filter","el","update","push","fetch","method","then","res","json","data","likes","width","height","viewBox","fill","xmlns","d","stroke","like_count","module","exports","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","_styles_module_scss__WEBPACK_IMPORTED_MODULE_2__","_styles_module_scss__WEBPACK_IMPORTED_MODULE_2___default","withRouter","props","_props$withClick","withClick","label","_props$withArrow","withArrow","metro","history","metro_icon","style","backgroundColor","color","getMetroColor","metro_label","metro_arrow","_Context_Context__WEBPACK_IMPORTED_MODULE_1__","page","shareBtn","shareModalOpen","shareModalPage","shareModalId","postCard","postCardImage","postCardImage_container","postCardInfo","postCardTitle","postCardAdress","postCardLike","postCardLikeContainer","postCardInstagramLink","postCardAbout","postCardComments","postCardTextInput","postCardTextInput_input","postCardTextInput_button","border","slider","main","photoCount","swiper","imageHolder","move","moveContainer","moveContainer_left","moveContainer_right","authorText","back","next","Slider","isOx","isOy","lastTouch","imageWidth","_this","imgs","currentIndex","movement","transitionDuration","handleTouchStart","e","nativeEvent","touches","clientX","startY","clientY","startX","handleTouchMove","delta","lastX","lastY","Math","abs","document","body","overflowY","handleMovement","preventDefault","handleTouchEnd","handleMovementEnd","maxLength","nextMovement","setState","_this$state","endPosition","endPartial","endingIndex","deltaInteger","nextIndex","transitionTo","min","index","duration","this","images","_this2","_this$state2","maxMovement","Fragment","onTouchStart","onTouchMove","onTouchEnd","transform","map","key","alt","author","decoding","sizes","srcSet","src","source","objectFit","strokeLinecap","strokeLinejoin","Component","contextType","console","log","match","params","postData","cafes","read","find","title","addressName","mainText","photos","smallText","instagramLink","metroName","Carousel","ShareBtn","Metro","disableAddress","Like","href","target","rel","mapPage","p","mapModalWindow","mapModalHeader","mapModalHeader_close","mapModalHeader_arrow","mapModalBody","open","mapModal_arrowTablet","smallInfoContainer","smallModal","smallModal_body","smallModal_img","smallModal_info","smallModal_description","smallModal_about","smallModal_author","smallModal_like","smallModal_footer","touchStart","touchMove","touchEnd","device","type","onClose","modalType","setModalType","_useState3","_useState4","getMoveStarted","setMoveStarted","bottom","top","strokeWidth","PostCard","components_ModalSmallInfo","stroke-width","stroke-linecap","stroke-linejoin","mapHeight","urlId","localMap","setIsLoading","_useState5","_useState6","modalHeight","setModalHeight","_useState7","_useState8","modalData","setModalData","_useState9","_useState10","localMapId","setLocalMapId","_useState11","_useState12","isSearchShow","setSearchShow","_useState13","_useState14","searchValue","setSearchValue","useLayoutEffect","window","ymaps","script","async","onload","createYmaps","appendChild","removeChild","ready","geolocation","get","mapContainer","getElementById","bounds","geoObjects","properties","mapState","util","getCenterAndZoom","offsetWidth","offsetHeight","zoom","createMap","center","dataFromId","setCenter","addressCoord","openSmallModal","Map","objectSpread","controls","searchControlProvider","suppressMapOpenBlock","suppressObsoleteBrowserNotifier","hotspotLayerInteractivityModel","ZoomLayout","templateLayoutFactory","createClass","build","superclass","zoomInCallback","bind","zoomIn","zoomOutCallback","zoomOut","addEventListener","clear","removeEventListener","getData","control","getMap","setZoom","getZoom","checkZoomRange","zoomControl","ZoomControl","options","layout","add","position","right","GeoLayout","currentGeo","curGeoClick","mark","Placemark","draggable","iconLayout","iconImageHref","kek","iconImageSize","iconImageOffset","GeolocationControl","noPlacemark","points","coords","text","address","SeggestProvider","suggest","request","findName","value","searchingName","toLowerCase","indexOf","results","arrayResult","displayName","vow","resolve","SuggestView","provider","events","clusterer","Clusterer","clusterIcons","placemark","size","offset","zoomMargin","clusterNumbers","clusterIconContentLayout","iconContent","iconContentOffset","iconContentLayout","stopPropagation","onChange","placeholder","display","cx","cy","r","flexGrow","components_MapModal"],"mappings":"2FAGe,SAAAA,EAAAC,GACf,OCJe,SAAAA,GACf,GAAAC,MAAAC,QAAAF,GAAA,CACA,QAAAG,EAAA,EAAAC,EAAA,IAAAH,MAAAD,EAAAK,QAAiDF,EAAAH,EAAAK,OAAgBF,IACjEC,EAAAD,GAAAH,EAAAG,GAGA,OAAAC,GDFSE,CAAiBN,IEJX,SAAAO,GACf,GAAAC,OAAAC,YAAAC,OAAAH,IAAA,uBAAAG,OAAAC,UAAAC,SAAAC,KAAAN,GAAA,OAAAN,MAAAa,KAAAP,GFGmCQ,CAAef,IGJnC,WACf,UAAAgB,UAAA,mDHG2DC,uDI2D5CC,QAAMC,KA1DR,SAAAC,GAAmC,IAAhCC,EAAgCD,EAAhCC,WAAYC,EAAoBF,EAApBE,UAAWC,EAASH,EAATG,GAChCC,EAAUC,qBAAWC,KADoBC,EAEfC,mBAAS,GAFMC,EAAAnB,OAAAoB,EAAA,EAAApB,CAAAiB,EAAA,GAExCI,EAFwCF,EAAA,GAE9BG,EAF8BH,EAAA,GAGzCI,EAAUT,EAAQU,MAAMC,WAAWC,SAASb,GAElDc,oBAAU,WACTL,EAAYM,OAAOjB,KACjB,IAgCH,OACCkB,EAAAC,EAAAC,cAAA,WAASnB,UAAS,GAAAoB,OAAOC,IAAOC,KAAd,KAAAF,OAAwBpB,IACzCiB,EAAAC,EAAAC,cAAA,OAAKnB,UAAYqB,IAAOE,UACvBC,QAjCqB,WACvB,IACIC,EADEC,EAAajD,EAAOyB,EAAQU,MAAMC,YAGxC,GAAKF,EAQE,CACN,IAAMgB,EAAiBD,EAAcE,OAAO,SAAAC,GAAE,OAAIA,IAAO5B,IACzDwB,EAAY,MACZf,EAAYD,EAAW,GAEvBP,EAAQ4B,OAAO,CACdjB,WAAYc,SAbbD,EAAcK,KAAK9B,GACnBwB,EAAY,MACZf,EAAYD,EAAW,GAEvBP,EAAQ4B,OAAO,CACdjB,WAAYa,IAadM,MAAK,iEAAAZ,OAAkEnB,EAAlE,UAAAmB,OAA6EK,GACjF,CAAEQ,OAAQ,QAETC,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SAChBF,KAAK,SAAAG,GAAI,OAAI3B,EAAY2B,EAAKC,WAQ9BrB,EAAAC,EAAAC,cAAA,OAAKoB,MAAM,OAAOC,OAAO,OAAOC,QAAQ,YAAYC,KAAO/B,EAAU,UAAY,OAASgC,MAAM,8BAC/F1B,EAAAC,EAAAC,cAAA,QAAMyB,EAAE,knBACPC,OAASlC,EAAU,UAAY,cAKlCM,EAAAC,EAAAC,cAAA,OAAKnB,UAAYqB,IAAOyB,YACtBrC,0BCxDLsC,EAAAC,QAAA,CAAkB1B,KAAA,qBAAAC,UAAA,0BAAAuB,WAAA,6DCDlB,IAAAG,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAAAI,EAAAH,EAAA,GAAAI,EAAAJ,EAAA,IAAAK,EAAAL,EAAAE,EAAAE,GAiIeE,gBAAW5D,IAAMC,KA5HlB,SAAA4D,GAAS,IAErBzD,EAMGyD,EANHzD,UACAC,EAKGwD,EALHxD,GAHqByD,EAQlBD,EAJHE,iBAJqB,IAAAD,KAKrBE,EAGGH,EAHHG,MALqBC,EAQlBJ,EAFHK,iBANqB,IAAAD,KAOrBE,EACGN,EADHM,MA8FD,OACCZ,EAAAjC,EAAAC,cAAA,WAASnB,UAAS,GAAAoB,OAAOC,IAAO0C,MAAd,KAAA3C,OAAyBpB,GAC1CwB,QAASmC,EA7FU,WACpBF,EAAMO,QAAQjC,KAAd,QAAAX,OAA2BnB,KA4FU,MAEpCkD,EAAAjC,EAAAC,cAAA,OAAKnB,UAAYqB,IAAO4C,WACvBC,MAAO,CAACC,gBA5FW,WACrB,IAAIC,EAAQ,GACZ,OAAOL,GACN,IAAK,yDACL,IAAK,mFACL,IAAK,iFACL,IAAK,6FACL,IAAK,iEACL,IAAK,uCACL,IAAK,+DACL,IAAK,kFACL,IAAK,2EACL,IAAK,6EACL,IAAK,2EACL,IAAK,+DACL,IAAK,6FACL,IAAK,+DACL,IAAK,mDACL,IAAK,wFACL,IAAK,uEACL,IAAK,uEACJK,EAAQ,UACR,MACD,IAAK,uCACL,IAAK,mFACL,IAAK,uCACL,IAAK,mDACL,IAAK,+DACL,IAAK,sEACL,IAAK,iFACL,IAAK,qEACL,IAAK,2DACL,IAAK,kFACL,IAAK,qEACL,IAAK,mFACL,IAAK,qEACL,IAAK,gEACL,IAAK,+DACL,IAAK,mDACL,IAAK,6CACJA,EAAQ,UACR,MACD,IAAK,6CACL,IAAK,6FACL,IAAK,+DACL,IAAK,mGACL,IAAK,4EACL,IAAK,+DACL,IAAK,mEACL,IAAK,2EACL,IAAK,iFACL,IAAK,2EACL,IAAK,mDACJA,EAAQ,UACR,MACD,IAAK,mDACL,IAAK,qEACL,IAAK,uEACL,IAAK,uFACL,IAAK,yDACL,IAAK,mFACL,IAAK,2DACJA,EAAQ,UACR,MACD,IAAK,iFACL,IAAK,kFACL,IAAK,yFACL,IAAK,+DACL,IAAK,+DACL,IAAK,uFACL,IAAK,6CACL,IAAK,uFACL,IAAK,kFACL,IAAK,+DACL,IAAK,2EACL,IAAK,iFACL,IAAK,kFACL,IAAK,yDACL,IAAK,uCACJA,EAAQ,UACR,MACD,QAASA,EAAQ,yBAGlB,OAAOA,EAQoBC,MAG1BlB,EAAAjC,EAAAC,cAAA,OAAKnB,UAAYqB,IAAOiD,aACtBV,GAGDE,GACAX,EAAAjC,EAAAC,cAAA,OAAKnB,UAAYqB,IAAOkD,aACvBpB,EAAAjC,EAAAC,cAAA,OAAKoB,MAAM,IAAIC,OAAO,KAAKC,QAAQ,WAAWC,KAAK,OAAOC,MAAM,8BAC/DQ,EAAAjC,EAAAC,cAAA,QAAMyB,EAAE,gBAAgBC,OAAO,sCCxHrCE,EAAAC,QAAA,CAAkBe,MAAA,sBAAAE,WAAA,2BAAAK,YAAA,4BAAAC,YAAA,8DCDlB,IAAAtB,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAAAuB,EAAAtB,EAAA,GAAAI,EAAAJ,EAAA,IAAAK,EAAAL,EAAAE,EAAAE,GA2Be1D,QAAMC,KAtBJ,SAAAC,GAA2B,IAAzBE,EAAyBF,EAAzBE,UAAWC,EAAcH,EAAdG,GAAIwE,EAAU3E,EAAV2E,KACxBvE,EAAUC,qBAAWC,KAS3B,OACI+C,EAAAjC,EAAAC,cAAA,UACInB,UAAS,GAAAoB,OAAKC,IAAOqD,SAAZ,KAAAtD,OAAwBpB,GACjCwB,QAXU,WACdtB,EAAQ4B,OAAO,CACX6C,gBAAgB,EAChBC,eAAgBH,EAChBI,aAAc5E,MASdkD,EAAAjC,EAAAC,cAAA,mGCnBZ4B,EAAAC,QAAA,CAAkB0B,SAAA,8CCAlB3B,EAAAC,QAAA,CAAkB8B,SAAA,yBAAAC,cAAA,8BAAAC,wBAAA,wCAAAC,aAAA,6BAAAC,cAAA,8BAAAC,eAAA,+BAAAC,aAAA,6BAAAC,sBAAA,sCAAAC,sBAAA,sCAAAC,cAAA,8BAAAC,iBAAA,iCAAAC,kBAAA,kCAAAC,wBAAA,wCAAAC,yBAAA,yCAAAC,OAAA,4CCAlB7C,EAAAC,QAAA,CAAkB6C,OAAA,uBAAAC,KAAA,qBAAAC,WAAA,2BAAAC,OAAA,uBAAAC,YAAA,4BAAAC,KAAA,qBAAAC,cAAA,8BAAAC,mBAAA,mCAAAC,oBAAA,oCAAAC,WAAA,2BAAAC,KAAA,qBAAAC,KAAA,2LCIZC,6MAGFC,KAAO,OACPC,KAAO,OACPC,UAAY,IACZC,WAAaC,EAAK5G,QAAQU,MAAM2B,QAChC3B,MAAQ,CACJmG,KAAM,GACNC,aAAc,EACdC,SAAU,EACVC,mBAAoB,QAWxBC,iBAAmB,SAAAC,GACfN,EAAKF,UAAYQ,EAAEC,YAAYC,QAAQ,GAAGC,QAC1CT,EAAKU,OAASJ,EAAEC,YAAYC,QAAQ,GAAGG,QACvCX,EAAKY,OAASN,EAAEC,YAAYC,QAAQ,GAAGC,WAG3CI,gBAAkB,SAAAP,GACd,IAAMQ,EAAQd,EAAKF,UAAYQ,EAAEC,YAAYC,QAAQ,GAAGC,QAClDM,EAAQT,EAAEC,YAAYC,QAAQ,GAAGC,QAAUT,EAAKY,OACtDZ,EAAKF,UAAYQ,EAAEC,YAAYC,QAAQ,GAAGC,QAC1C,IAAMO,EAAQV,EAAEC,YAAYC,QAAQ,GAAGG,QAAUX,EAAKU,OAEpC,OAAdV,EAAKJ,MAA+B,OAAdI,EAAKH,OACvBoB,KAAKC,IAAIF,GAASC,KAAKC,IAAIH,GAC3Bf,EAAKJ,MAAO,EAEZI,EAAKH,MAAO,GAIhBG,EAAKJ,OACLuB,SAASC,KAAKhE,MAAMiE,UAAY,SAChCrB,EAAKsB,eAAeR,GACpBR,EAAEiB,qBAMVC,eAAiB,WACbxB,EAAKyB,oBACLN,SAASC,KAAKhE,MAAMiE,UAAY,SAChCrB,EAAKF,UAAY,EACjBE,EAAKJ,KAAO,KACZI,EAAKH,KAAO,QAGhByB,eAAiB,SAAAR,GACb,IAAMY,EAAY1B,EAAKlG,MAAMmG,KAAKhI,OAAS,EACvC0J,EAAe3B,EAAKlG,MAAMqG,SAAWW,EAErCa,EAAe,IACfA,EAAe,GAGfA,EAAeD,EAAY1B,EAAKD,aAChC4B,EAAeD,EAAY1B,EAAKD,YAGpCC,EAAK4B,SAAS,CACVzB,SAAUwB,EACVvB,mBAAoB,UAI5BqB,kBAAoB,WAAM,IAAAI,EACa7B,EAAKlG,MAAhCqG,EADc0B,EACd1B,SAAUD,EADI2B,EACJ3B,aAEZ4B,EAAc3B,EAAWH,EAAKD,WAC9BgC,EAAaD,EAAc,EAC3BE,EAAcF,EAAcC,EAC5BE,EAAeD,EAAc9B,EAE/BgC,EAAYF,EAEZC,GAAgB,EAChBF,GAAc,KACdG,GAAa,GAEND,EAAe,IACtBC,EAAYhC,EAAee,KAAKC,IAAIe,GACpCF,EAAa,KACbG,GAAa,IAIjBlC,EAAKmC,aAAaD,EAAWjB,KAAKmB,IAAI,GAAK,EAAInB,KAAKC,IAAIa,QAG5DI,aAAe,SAACE,EAAOC,GACnBtC,EAAK4B,SAAS,CACd1B,aAAcmC,EACdlC,SAAUkC,EAAQrC,EAAKD,WACvBK,mBAAkB,GAAA9F,OAAKgI,EAAL,2FAzFlBC,KAAKX,SAAS,CAEV3B,KAAMsC,KAAK5F,MAAM6F,0CA0FhB,IAAAC,EAAAF,KAAAG,EACwDH,KAAKzI,MAA1DoG,EADHwC,EACGxC,aAAcC,EADjBuC,EACiBvC,SAAUC,EAD3BsC,EAC2BtC,mBAAoBH,EAD/CyC,EAC+CzC,KAC9CyB,EAAYzB,EAAKhI,OAAS,EAC1B0K,EAAcjB,EAAYa,KAAKxC,WAErC,OACI5F,EAAAC,EAAAC,cAAAF,EAAAC,EAAAwI,SAAA,KACIzI,EAAAC,EAAAC,cAAA,OAAKnB,UAAYqB,IAAOwE,QACpB5E,EAAAC,EAAAC,cAAA,OACInB,UAAWqB,IAAOyE,KAClB5B,MAAO,CACH3B,MAAK,GAAAnB,OAAKiI,KAAKxC,WAAV,MACLrE,OAAM,GAAApB,OAAKiI,KAAKxC,WAAV,OAEV8C,aAAcN,KAAKlC,iBACnByC,YAAaP,KAAK1B,gBAClBkC,WAAYR,KAAKf,gBAEjBrH,EAAAC,EAAAC,cAAA,OAAKnB,UAAWqB,IAAO0E,YAAvB,GAAA3E,OACQ4F,EAAe,EADvB,KAAA5F,OAC4BoH,EAAY,IAGxCvH,EAAAC,EAAAC,cAAA,OAAKnB,UAAWqB,IAAO2E,OACnB9B,MAAO,CACH4F,UAAS,cAAA1I,QAA4B,EAAZ6F,EAAhB,OACTC,mBAAoBA,IAGvBH,EAAKgD,IAAI,SAAClI,EAAIhD,GACX,OAAOoC,EAAAC,EAAAC,cAAA,OAAK6I,IAAKnL,EACbmB,UAAWqB,IAAO4E,aAElBhF,EAAAC,EAAAC,cAAA,OACI8I,IAAG,iBAAA7I,OAAmBvC,EAAnB,cAAAuC,OAAiCS,EAAGqI,QACvCC,SAAS,OACTC,MAAM,6EACNC,OAAM,GAAAjJ,OAAKS,EAAG,KAAR,WAAAT,OAAwBS,EAAG,KAA3B,WAAAT,OAA2CS,EAAG,MAA9C,UACNyI,IAAKzI,EAAG0I,OACRrG,MAAO,CAACsG,UAAW,eAKzB,IAAbvD,GACGhG,EAAAC,EAAAC,cAAA,OACInB,UAAS,GAAAoB,OAAKC,IAAO8E,cAAZ,KAAA/E,OAA6BC,IAAO+E,oBAC7C5E,QAAS,WACL+H,EAAKN,aAAajC,EAAe,EAAG,MAGxC/F,EAAAC,EAAAC,cAAA,UACInB,UAAWqB,IAAO6E,MAElBjF,EAAAC,EAAAC,cAAA,OAAKoB,MAAM,IAAIC,OAAO,IAAIC,QAAQ,UAAUC,KAAK,OAAOC,MAAM,8BAC1D1B,EAAAC,EAAAC,cAAA,QAAMyB,EAAE,qDAAqDC,OAAO,QAAQ4H,cAAc,QAAQC,eAAe,aAMhIzD,IAAawC,GACVxI,EAAAC,EAAAC,cAAA,OACInB,UAAS,GAAAoB,OAAKC,IAAO8E,cAAZ,KAAA/E,OAA6BC,IAAOgF,qBAC7C7E,QAAS,WACL+H,EAAKN,aAAajC,EAAe,EAAG,MAGxC/F,EAAAC,EAAAC,cAAA,UACInB,UAAWqB,IAAO6E,MAElBjF,EAAAC,EAAAC,cAAA,OAAKoB,MAAM,IAAIC,OAAO,IAAIC,QAAQ,UAAUC,KAAK,OAAOC,MAAM,8BAC1D1B,EAAAC,EAAAC,cAAA,QAAMyB,EAAE,sDAAsDC,OAAO,QAAQ4H,cAAc,QAAQC,eAAe,eAQtIzJ,EAAAC,EAAAC,cAAA,KAAGnB,UAAYqB,IAAOiF,YACjBS,GAAQA,EAAKC,IAAiBD,EAAKC,GAAckD,OAAjD,GAAA9I,OACQ2F,EAAKC,GAAL,QACH,YA9LLpH,IAAM+K,WAArBlE,EACKmE,YAAcxK,IAqMVqG,QCvHA7G,cAAMC,KAzEJ,SAAA4D,GAChB,IAAMvD,EAAUC,qBAAWC,KAC3ByK,QAAQC,IAAIrH,GACZ,IAAMxD,EAAKwD,EAAMpB,KAAOoB,EAAMpB,KAAKpC,GAAKwD,EAAMsH,MAAMC,OAAO/K,GAErDgL,EAAWxH,EAAMpB,KACpBoB,EAAMpB,KACNnC,EAAQU,MAAMsK,MAAMC,OAAOC,KAAK,SAAAvJ,GAAE,OAAIA,EAAG5B,KAAOA,IAGlDoL,EAQGJ,EARHI,MACAC,EAOGL,EAPHK,YACAhJ,EAMG2I,EANH3I,MACAiJ,EAKGN,EALHM,SACAC,EAIGP,EAJHO,OACAC,EAGGR,EAHHQ,UACAC,EAEGT,EAFHS,cACAC,EACGV,EADHU,UAGD,OACC1K,EAAAC,EAAAC,cAAA,WAASnB,UAAYqB,IAAOyD,UAC3B7D,EAAAC,EAAAC,cAACyK,EAAD,CAAUtC,OAAQkC,IAElBvK,EAAAC,EAAAC,cAAA,WAASnB,UAAYqB,IAAO4D,cAC3BhE,EAAAC,EAAAC,cAAA,OAAKnB,UAAYqB,IAAO6D,eACvBjE,EAAAC,EAAAC,cAAA,UACEkK,GAGFpK,EAAAC,EAAAC,cAAC0K,EAAA,EAAD,CACCpH,KAAMhB,EAAMpB,KAAO,MAAQ,OAC3BpC,GAAIA,KAINgB,EAAAC,EAAAC,cAAC2K,EAAA,EAAD,CAAO9L,UAAYqB,IAAO8D,eACzBvB,MAAO0H,EACPvH,MAAO4H,EACP7H,WAAWL,EAAMsI,eACjBpI,WAAWF,EAAMsI,eACjB9L,GAAIA,IAGLgB,EAAAC,EAAAC,cAAA,OAAKnB,UAAYqB,IAAOgE,uBACvBpE,EAAAC,EAAAC,cAAC6K,EAAA,EAAD,CACChM,UAAYqB,IAAO+D,aACnBrF,WAAYuC,EACZrC,GAAIA,IAGLgB,EAAAC,EAAAC,cAAA,KACCnB,UAAYqB,IAAOiE,sBACnB2G,KAAMP,GAAgC,GACtCQ,OAAO,SACPC,IAAI,uBAJL,cAWDlL,EAAAC,EAAAC,cAAA,KAAGnB,UAAYqB,IAAOkE,eACpBkG,GAEFxK,EAAAC,EAAAC,cAAA,KAAGnB,UAAYqB,IAAOkE,eACpBgG,2BC5ENxI,EAAAC,QAAA,CAAkBoJ,QAAA,wBAAArC,IAAA,uCCDlBhH,EAAAC,QAAA,q8ECAAD,EAAAC,QAAiBE,EAAAmJ,EAAuB,oDCCxCtJ,EAAAC,QAAA,CAAkBsJ,eAAA,+BAAAC,eAAA,+BAAAC,qBAAA,qCAAAC,qBAAA,qCAAAC,aAAA,6BAAAC,KAAA,qBAAAC,qBAAA,qCAAAC,mBAAA,wDCAlB9J,EAAAC,QAAA,CAAkB8J,WAAA,2BAAAC,gBAAA,gCAAAC,eAAA,+BAAAC,gBAAA,gCAAAC,uBAAA,uCAAAC,iBAAA,iCAAAC,kBAAA,kCAAAC,gBAAA,gCAAAC,kBAAA,uDCAlBvK,EAAAC,QAAA,CAAkBsJ,eAAA,+BAAAC,eAAA,+BAAAC,qBAAA,qCAAAC,qBAAA,qCAAAC,aAAA,6BAAAC,KAAA,qBAAAC,qBAAA,qCAAAC,mBAAA,4NCuFHjN,MAAMC,KAjFE,SAAAC,GAA+C,IAA5CuC,EAA4CvC,EAA5CuC,KAAMkL,EAAsCzN,EAAtCyN,WAAYC,EAA0B1N,EAA1B0N,UAAWC,EAAe3N,EAAf2N,SAC7CvN,EAAUC,qBAAWC,KACnBiL,EAAuDhJ,EAAvDgJ,MAAOI,EAAgDpJ,EAAhDoJ,UAAWD,EAAqCnJ,EAArCmJ,OAAQvL,EAA6BoC,EAA7BpC,GAAIqC,EAAyBD,EAAzBC,MAAOoJ,EAAkBrJ,EAAlBqJ,cACrCgC,EAAWxN,EAAQU,MAAnB8M,OAER,OACIzM,EAAAC,EAAAC,cAAA,OAAKnB,UAAWqB,IAAOyL,YACnB7L,EAAAC,EAAAC,cAAA,OACInB,UAAWqB,IAAO0L,gBAClBpD,aAAc4D,EACd3D,YAAa4D,EACb3D,WAAY4D,GAEZxM,EAAAC,EAAAC,cAAA,OAAKnB,UAAWqB,IAAO2L,gBACnB/L,EAAAC,EAAAC,cAAA,OACI8I,IAAG,0BAAA7I,OAA4BoK,EAAO,GAAGtB,QACzCC,SAAS,OACTG,IAAKkB,EAAO,GAAG,KACftH,MAAO,CAACsG,UAAW,WAGvBvJ,EAAAC,EAAAC,cAAA,KAAGnB,UAAWqB,IAAO+L,mBAChB5B,EAAO,GAAGtB,SAGnBjJ,EAAAC,EAAAC,cAAA,OAAKnB,UAAWqB,IAAO4L,iBACnBhM,EAAAC,EAAAC,cAAA,UAAKkK,GAELpK,EAAAC,EAAAC,cAAA,KAAGnB,UAAWqB,IAAO8L,kBAChB1B,GAGO,WAAXiC,GACGzM,EAAAC,EAAAC,cAAA,OAAKnB,UAAWqB,IAAOiM,mBACnBrM,EAAAC,EAAAC,cAAC6K,EAAA,EAAD,CACIhM,UAAWqB,IAAOgM,gBAClBtN,WAAYuC,EACZrC,GAAIA,IAGRgB,EAAAC,EAAAC,cAAA,KAAG8K,KAAMP,GAAgC,GACrCQ,OAAO,SACPC,IAAI,uBAFR,aAOAlL,EAAAC,EAAAC,cAAC0K,EAAA,EAAD,CACIpH,KAAK,MACLxE,GAAIA,OAOZ,WAAXyN,GACGzM,EAAAC,EAAAC,cAAA,OAAKnB,UAAWqB,IAAOiM,mBACnBrM,EAAAC,EAAAC,cAAC6K,EAAA,EAAD,CACIhM,UAAWqB,IAAOgM,gBAClBtN,WAAYuC,EACZrC,GAAIA,IAGRgB,EAAAC,EAAAC,cAAA,KAAG8K,KAAMP,GAAgC,GACrCQ,OAAO,SACPC,IAAI,uBAFR,aAOAlL,EAAAC,EAAAC,cAAC0K,EAAA,EAAD,CACIpH,KAAK,MACLxE,GAAIA,gBC0DbL,MAAMC,KAlIJ,SAAAC,GAAqC,IAAlC6N,EAAkC7N,EAAlC6N,KAAMnL,EAA4B1C,EAA5B0C,OAAQH,EAAoBvC,EAApBuC,KAAMuL,EAAc9N,EAAd8N,QACjC1N,EAAUC,qBAAWC,KAD0BC,EAGnBC,mBAAS,IAHUC,EAAAnB,OAAAoB,EAAA,EAAApB,CAAAiB,EAAA,GAG9CwN,EAH8CtN,EAAA,GAGnCuN,EAHmCvN,EAAA,GAAAwN,EAIZzN,oBAAS,GAJG0N,EAAA5O,OAAAoB,EAAA,EAAApB,CAAA2O,EAAA,GAI9CE,EAJ8CD,EAAA,GAI9BE,EAJ8BF,EAAA,GAKjDxG,EAAS,KACNkG,EAAUxN,EAAQU,MAAlB8M,OAEP3M,oBAAU,WACT+M,EAAaH,IACX,CAACA,IAEJ,IAAMxG,EAAmB,SAAAC,GACxBI,EAASJ,EAAEC,YAAYC,QAAQ,GAAGG,SAG7BE,EAAkB,SAAAP,GACvB,IAAMQ,EAAQJ,EAASJ,EAAEC,YAAYC,QAAQ,GAAGG,QAE3CwG,GACJ7F,EAAeR,IAIXU,EAAiB,WACtB4F,GAAe,GACf1G,EAAS,GAGJY,EAAiB,SAAAR,GACtBsG,GAAe,GAEXtG,EAAQ,GAAmB,UAAdiG,EAChBC,EAAa,QACHlG,EAAQ,GAAmB,SAAdiG,GACvBC,EAAa,UASf,OACC7M,EAAAC,EAAAC,cAAA,OAAKnB,UAAWqB,IAAOiL,eACtBpI,MAAO,CACNiK,OAAM,IAAA/M,OAAMoB,EAAN,MACNA,OAAM,GAAApB,OAAKoB,EAAL,MACNsH,UAAyB,UAAd+D,EAAA,qBAEM,SAAdA,EAAA,eAAAzM,OACgBoB,EADhB,yBAKJvB,EAAAC,EAAAC,cAAA,OAAKnB,UAAWqB,IAAOkL,eACtB5C,aAAcxC,EACdyC,YAAajC,EACbkC,WAAYvB,GAEA,WAAXoF,GACAzM,EAAAC,EAAAC,cAAA,OACCnB,UAAWqB,IAAOoL,qBAClBjL,QAAS,WAELsM,EADW,SAAdD,EACgB,QACA,SAEjB3J,MAAO,CAACkK,IAAmB,SAAdP,EAAuB,OAAS,SAE9B,SAAdA,EACE5M,EAAAC,EAAAC,cAAA,OAAKoB,MAAM,KAAKC,OAAO,IAAIC,QAAQ,WAAWC,KAAK,OAAOC,MAAM,8BAEjE1B,EAAAC,EAAAC,cAAA,QAAMyB,EAAE,mCAAmCC,OAAO,UAAUwL,YAAY,IAAI5D,cAAc,QAAQC,eAAe,WAEhHzJ,EAAAC,EAAAC,cAAA,OAAKoB,MAAM,KAAKC,OAAO,IAAIC,QAAQ,WAAWC,KAAK,OAAOC,MAAM,8BACjE1B,EAAAC,EAAAC,cAAA,QAAMyB,EAAE,iBAAiBC,OAAO,UAAUwL,YAAY,IAAI5D,cAAc,QAAQC,eAAe,aAOpGzJ,EAAAC,EAAAC,cAAA,OAAKnB,UAAWqB,IAAOmL,qBACtBhL,QA9CkB,WACpBoM,IACAE,EAAa,MA8CX7M,EAAAC,EAAAC,cAAA,OAAKoB,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BACjE1B,EAAAC,EAAAC,cAAA,QAAMyB,EAAE,uBAAuBC,OAAO,UAAUwL,YAAY,IAAI5D,cAAc,QAAQC,eAAe,YAIvGzJ,EAAAC,EAAAC,cAAA,OAAKnB,UAAWqB,IAAOqL,aACtBxI,MAAO,CACNiE,UAAyB,SAAd0F,EAAuB,SAAW,WAG/B,SAAdA,EACE5M,EAAAC,EAAAC,cAACmN,EAAA,QAAD,CACDjM,KAAMA,EACN0J,gBAAgB,IAEf9K,EAAAC,EAAAC,cAAA,OAAKnB,UAAWqB,IAAOwL,oBACxB5L,EAAAC,EAAAC,cAACoN,EAAD,CACClM,KAAMA,EACNkL,WAAYpG,EACZqG,UAAW7F,EACX8F,SAAUnF,IAGC,WAAXoF,GACAzM,EAAAC,EAAAC,cAAA,OAAKnB,UAAWqB,IAAOuL,qBACtBpL,QAAS,WAELsM,EADW,SAAdD,EACgB,QACA,UAGjB5M,EAAAC,EAAAC,cAAA,OAAKoB,MAAM,IAAIC,OAAO,KAAKC,QAAQ,WAAWC,KAAK,OAAOC,MAAM,8BAC/D1B,EAAAC,EAAAC,cAAA,QAAMyB,EAAE,wBAAwBC,OAAO,UAAU2L,eAAa,IAAIC,iBAAe,QAAQC,kBAAgB,kCCWnG9O,IAAMC,KAlIJ,SAAAC,GAAqC,IAAlC6N,EAAkC7N,EAAlC6N,KAAMnL,EAA4B1C,EAA5B0C,OAAQH,EAAoBvC,EAApBuC,KAAMuL,EAAc9N,EAAd8N,QACjC1N,EAAUC,qBAAWC,KAD0BC,EAGnBC,mBAAS,IAHUC,EAAAnB,OAAAoB,EAAA,EAAApB,CAAAiB,EAAA,GAG9CwN,EAH8CtN,EAAA,GAGnCuN,EAHmCvN,EAAA,GAAAwN,EAIZzN,oBAAS,GAJG0N,EAAA5O,OAAAoB,EAAA,EAAApB,CAAA2O,EAAA,GAI9CE,EAJ8CD,EAAA,GAI9BE,EAJ8BF,EAAA,GAKjDxG,EAAS,KACNkG,EAAUxN,EAAQU,MAAlB8M,OAEP3M,oBAAU,WACT+M,EAAaH,IACX,CAACA,IAEJ,IAAMxG,EAAmB,SAAAC,GACxBI,EAASJ,EAAEC,YAAYC,QAAQ,GAAGG,SAG7BE,EAAkB,SAAAP,GACvB,IAAMQ,EAAQJ,EAASJ,EAAEC,YAAYC,QAAQ,GAAGG,QAE3CwG,GACJ7F,EAAeR,IAIXU,EAAiB,WACtB4F,GAAe,GACf1G,EAAS,GAGJY,EAAiB,SAAAR,GACtBsG,GAAe,GAEXtG,EAAQ,GAAmB,UAAdiG,EAChBC,EAAa,QACHlG,EAAQ,GAAmB,SAAdiG,GACvBC,EAAa,UASf,OACC7M,EAAAC,EAAAC,cAAA,OAAKnB,UAAWqB,IAAOiL,eACtBpI,MAAO,CACNiK,OAAM,IAAA/M,OAAMoB,EAAN,MACNA,OAAM,GAAApB,OAAKoB,EAAL,MACNsH,UAAyB,UAAd+D,EAAA,qBAEM,SAAdA,EAAA,eAAAzM,OACgBoB,EADhB,yBAKJvB,EAAAC,EAAAC,cAAA,OAAKnB,UAAWqB,IAAOkL,eACtB5C,aAAcxC,EACdyC,YAAajC,EACbkC,WAAYvB,GAEA,WAAXoF,GACAzM,EAAAC,EAAAC,cAAA,OACCnB,UAAWqB,IAAOoL,qBAClBjL,QAAS,WAELsM,EADW,SAAdD,EACgB,QACA,SAEjB3J,MAAO,CAACkK,IAAmB,SAAdP,EAAuB,OAAS,SAE9B,SAAdA,EACE5M,EAAAC,EAAAC,cAAA,OAAKoB,MAAM,KAAKC,OAAO,IAAIC,QAAQ,WAAWC,KAAK,OAAOC,MAAM,8BAEjE1B,EAAAC,EAAAC,cAAA,QAAMyB,EAAE,mCAAmCC,OAAO,UAAUwL,YAAY,IAAI5D,cAAc,QAAQC,eAAe,WAEhHzJ,EAAAC,EAAAC,cAAA,OAAKoB,MAAM,KAAKC,OAAO,IAAIC,QAAQ,WAAWC,KAAK,OAAOC,MAAM,8BACjE1B,EAAAC,EAAAC,cAAA,QAAMyB,EAAE,iBAAiBC,OAAO,UAAUwL,YAAY,IAAI5D,cAAc,QAAQC,eAAe,aAOpGzJ,EAAAC,EAAAC,cAAA,OAAKnB,UAAWqB,IAAOmL,qBACtBhL,QA9CkB,WACpBoM,IACAE,EAAa,MA8CX7M,EAAAC,EAAAC,cAAA,OAAKoB,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BACjE1B,EAAAC,EAAAC,cAAA,QAAMyB,EAAE,uBAAuBC,OAAO,UAAUwL,YAAY,IAAI5D,cAAc,QAAQC,eAAe,YAIvGzJ,EAAAC,EAAAC,cAAA,OAAKnB,UAAWqB,IAAOqL,aACtBxI,MAAO,CACNiE,UAAyB,SAAd0F,EAAuB,SAAW,WAG/B,SAAdA,EACE5M,EAAAC,EAAAC,cAACmN,EAAA,QAAD,CACDjM,KAAMA,EACN0J,gBAAgB,IAEf9K,EAAAC,EAAAC,cAAA,OAAKnB,UAAWqB,IAAOwL,oBACxB5L,EAAAC,EAAAC,cAACoN,EAAD,CACClM,KAAMA,EACNkL,WAAYpG,EACZqG,UAAW7F,EACX8F,SAAUnF,IAGC,WAAXoF,GACAzM,EAAAC,EAAAC,cAAA,OAAKnB,UAAWqB,IAAOuL,qBACtBpL,QAAS,WAELsM,EADW,SAAdD,EACgB,QACA,UAGjB5M,EAAAC,EAAAC,cAAA,OAAKoB,MAAM,IAAIC,OAAO,KAAKC,QAAQ,WAAWC,KAAK,OAAOC,MAAM,8BAC/D1B,EAAAC,EAAAC,cAAA,QAAMyB,EAAE,wBAAwBC,OAAO,UAAU2L,eAAa,IAAIC,iBAAe,QAAQC,kBAAgB,iBC2NnG9O,cAAMC,KA/UL,SAAA4D,GACf,IAKIkL,EALEzO,EAAUC,qBAAWC,KACrB8K,EAAQhL,EAAQU,MAAMsK,MAAMC,OAC5ByD,EAAQnL,EAAMsH,MAAMC,OAAO/K,GAE7B4O,GADa3O,EAAQU,MAAlB8M,OACQ,MALSrN,EAQUC,oBAAS,GARnBC,EAAAnB,OAAAoB,EAAA,EAAApB,CAAAiB,EAAA,GAQNyO,GARMvO,EAAA,GAAAA,EAAA,IAAAwN,EASUzN,mBAAS,IATnB0N,EAAA5O,OAAAoB,EAAA,EAAApB,CAAA2O,EAAA,GASjBF,EATiBG,EAAA,GASNF,EATME,EAAA,GAAAe,EAUczO,mBAAS,GAVvB0O,EAAA5P,OAAAoB,EAAA,EAAApB,CAAA2P,EAAA,GAUjBE,EAViBD,EAAA,GAUJE,EAVIF,EAAA,GAAAG,EAWU7O,mBAAS,MAXnB8O,EAAAhQ,OAAAoB,EAAA,EAAApB,CAAA+P,EAAA,GAWjBE,EAXiBD,EAAA,GAWNE,EAXMF,EAAA,GAAAG,EAYYjP,mBAAS,MAZrBkP,EAAApQ,OAAAoB,EAAA,EAAApB,CAAAmQ,EAAA,GAYjBE,EAZiBD,EAAA,GAYLE,EAZKF,EAAA,GAAAG,EAacrP,oBAAS,GAbvBsP,EAAAxQ,OAAAoB,EAAA,EAAApB,CAAAuQ,EAAA,GAajBE,EAbiBD,EAAA,GAaHE,EAbGF,EAAA,GAAAG,EAcczP,mBAAS,IAdvB0P,EAAA5Q,OAAAoB,EAAA,EAAApB,CAAA2Q,EAAA,GAcjBE,EAdiBD,EAAA,GAcJE,EAdIF,EAAA,GAgBxBG,0BAAgB,WACf,IAAKC,OAAOC,MAAO,CAClB,IAAMC,EAASrI,SAAS9G,cAAc,UAYtC,OAXqB8G,SAAS9G,cAAc,UAE/BwM,KAAO,kBAEpB2C,EAAOhG,IAAM,iHACbgG,EAAOC,OAAQ,EACfD,EAAO3C,KAAO,kBACd2C,EAAOE,OAASC,EAEhBxI,SAASC,KAAKwI,YAAYJ,GAEnB,WACLrI,SAASC,KAAKyI,YAAYL,IAG5BG,KAEC,IAEH,IAAMA,EAAc,WACnBL,OAAOC,MAAMO,MAAM,WAClBR,OAAOC,MAAMQ,YAAYC,MAAM5O,KAAK,SAACC,GACpC,IAAM4O,EAAeX,OAAOnI,SAAS+I,eAAe,OAC9CC,EAAS9O,EAAI+O,WAAWJ,IAAI,GAAGK,WAAWL,IAAI,aAC9CM,EAAWhB,OAAOC,MAAMgB,KAAKJ,OAAOK,iBACzCL,EACA,CAACF,EAAaQ,YAAaR,EAAaS,aAAe,KAExDJ,EAASK,KAAO,GAChB9C,EAAYoC,EAAaS,aAAe,GACxCtC,EAA2B,IAAZP,GACf+C,EAAUN,IACR,WACFM,EAAU,CACTC,OAAQ,CAAC,UAAW,WACpBF,KAAM,SAMV1Q,oBAAU,WACT,GAAI6N,GAASa,EAAY,CACxB,IAAMmC,EAAa1G,EAAME,KAAK,SAAAvJ,GAAE,OAAIA,EAAG5B,KAAO2O,IAC9Ca,EAAWoC,UAAUD,EAAWE,aAAc,IAC9CC,EAAeH,KAEd,CAACnC,IAEJ,IAAMiC,EAAY,SAAC9Q,GAClBiO,EAAW,IAAIuB,OAAOC,MAAM2B,IAAI,MAArB5S,OAAA6S,EAAA,EAAA7S,CAAA,GAAgCwB,EAAhC,CAAuCsR,SAAU,KAAK,CAChEC,sBAAuB,gBACvBC,sBAAsB,EACtBC,iCAAiC,EACjCC,+BAAgC,mBAGjC,IAAMC,EAAanC,OAAOC,MAAMmC,sBAAsBC,YACrD,+oBAIA,CACCC,MAAO,WACNH,EAAWI,WAAWD,MAAMnT,KAAK8J,MACjCA,KAAKuJ,eAAiBxC,OAAOC,MAAMgB,KAAKwB,KAAKxJ,KAAKyJ,OAAQzJ,MAC1DA,KAAK0J,gBAAkB3C,OAAOC,MAAMgB,KAAKwB,KAAKxJ,KAAK2J,QAAS3J,MAE5D+G,OAAOnI,SAAS+I,eAAe,WAAWiC,iBAAiB,QAAS5J,KAAKuJ,gBACzExC,OAAOnI,SAAS+I,eAAe,YAAYiC,iBAAiB,QAAS5J,KAAK0J,kBAE3EG,MAAO,WACN9C,OAAOnI,SAAS+I,eAAe,WAAWmC,oBAAoB,QAAS9J,KAAKuJ,gBAC5ExC,OAAOnI,SAAS+I,eAAe,YAAYmC,oBAAoB,QAAS9J,KAAK0J,iBAC7ER,EAAWI,WAAWO,MAAM3T,KAAK8J,OAElCyJ,OAAQ,WACP,IAAM/I,EAAMV,KAAK+J,UAAUC,QAAQC,SACnCvJ,EAAIwJ,QAAQxJ,EAAIyJ,UAAY,EAAG,CAACC,gBAAgB,KAEjDT,QAAS,WACR,IAAMjJ,EAAMV,KAAK+J,UAAUC,QAAQC,SACnCvJ,EAAIwJ,QAAQxJ,EAAIyJ,UAAY,EAAG,CAACC,gBAAgB,OAK7CC,EAAc,IAAItD,OAAOC,MAAMgD,QAAQM,YAAY,CACxDC,QAAS,CAACC,OAAQtB,KAGnB1D,EAASqD,SAAS4B,IAAIJ,EAAa,CAClCK,SAAU,CACT3F,IAAKO,EAAY,EAAI,GACrBqF,MAAO,MAIT,IAAMC,EAAY7D,OAAOC,MAAMmC,sBAAsBC,YACpD,gvBACA,CACCC,MAAO,WACNuB,EAAUtB,WAAWD,MAAMnT,KAAK8J,MAChCA,KAAK6K,WAAa9D,OAAOC,MAAMgB,KAAKwB,KAAKxJ,KAAK8K,YAAa9K,MAC3D+G,OAAOnI,SAAS+I,eAAe,WAAWiC,iBAAiB,QAAS5J,KAAK6K,aAG1EhB,MAAO,WACN9C,OAAOnI,SAAS+I,eAAe,WAAWmC,oBAAoB,QAAS9J,KAAK6K,YAC5ED,EAAUtB,WAAWO,MAAM3T,KAAK8J,OAGjC8K,YAAa,WACZ/D,OAAOC,MAAMQ,YAAYC,MACvB5O,KAAK,SAAAL,GACLgN,EAASgD,UAAUhQ,EAAGqP,WAAW6C,SAAU,IAC3C,IAAMK,EAAO,IAAIhE,OAAOC,MAAMgE,UAAUxS,EAAGqP,WAAW6C,SAAU,GAAI,CACnEO,WAAW,EACXC,WAAY,gBACZC,cAAeC,IACfC,cAAe,CAAC,GAAI,IACpBC,gBAAiB,EAAE,IAAK,MAGzB9F,EAASqC,WAAW4C,IAAIM,QAMvBQ,EAAqB,IAAIxE,OAAOC,MAAMgD,QAAQuB,mBAAmB,CACtEhB,QAAS,CACRC,OAAQI,EACRY,aAAa,KAIfhG,EAASqD,SAAS4B,IAAIc,EAAoB,CACzCb,SAAU,CACT5F,OAAQ,GACR6F,MAAO,MAGT,IAoBMc,EAAS5J,EAAMnB,IAAI,SAAAlI,GACxB,MAAO,CACNkT,OAAQlT,EAAGiQ,aACXkD,KAAMnT,EAAGwJ,MACT4J,QAASpT,EAAGyJ,YACZjJ,KAAMR,KAkBFqT,EAAkB,CACvBC,QAAS,SAACC,EAASxB,GAIlB,IAHA,IAhBuByB,EAgBjBlT,GAhBiBkT,EAgBQD,EAARN,EAfblT,OAAO,SAAA0T,GACjB,IAAMC,EAAgBF,EAASG,cAC/B,OACsD,IAArDF,EAAMN,KAAKQ,cAAcC,QAAQF,KACuB,IAAxDD,EAAML,QAAQO,cAAcC,QAAQF,MAY/BG,EAAU3N,KAAKmB,IAAI0K,EAAQ8B,QAASvT,EAAIpD,QAC1C4W,EAAc,GACT9W,EAAI,EAAGA,EAAI6W,EAAS7W,IAC5B8W,EAAY5T,KAAK,CAChB6T,YAAW,kDAAAxU,OAAoDe,EAAItD,GAAGmW,KAA3D,6DAAA5T,OAA2He,EAAItD,GAAGoW,QAAlI,YACXK,MAAOnT,EAAItD,GAAGmW,KACdD,OAAQ5S,EAAItD,GAAGkW,SAIjB,OAAO3E,OAAOC,MAAMwF,IAAIC,QAAQH,KAIb,IAAIvF,OAAOC,MAAM0F,YAAY,YAAa,CAC9DC,SAAUd,EACVQ,QAAS,IAGGO,OAAOnC,IAAI,SAAU,SAAA1M,IAjDhB,SAAA2N,GACVlG,EAASgD,UAAUkD,EAAQ,IAmDlClD,CAFezK,EAAE0J,IAAI,QAAQiE,UAK9B,IAAMmB,EAAY,IAAI9F,OAAOC,MAAM8F,UAAU,CAC5CC,aAAc,CACb,CACCnK,KAAMoK,IACNC,KAAM,CAAC,GAAI,IACXC,OAAQ,EAAE,IAAK,MAGjBC,WAAY,GACZC,eAAgB,CAAC,GACjBC,yBAA0BtG,OAAOC,MAAMmC,sBAAsBC,YAC5D,6FAIFyD,EAAUpC,IACTgB,EAAO/K,IAAI,SAAAlI,GACV,IAxFuBkT,EAAQC,EAwF3BqB,GAxFmBtB,EAwFSlT,EAAGkT,OAxFJC,EAwFYnT,EAAGmT,KAvFxC,IAAI5E,OAAOC,MAAMgE,UAAUU,EAAQ,CACzC4B,YAAa3B,GACX,CACFV,WAAW,EACXC,WAAY,2BACZC,cAAe6B,IACf3B,cAAe,CAAC,GAAI,IACpBC,gBAAiB,EAAE,IAAK,IACxBiC,kBAAmB,CAAC,GAAI,GACxBC,kBAAmBzG,OAAOC,MAAMmC,sBAAsBC,YACrD,4GAoFD,OANA4D,EAAUJ,OAAOnC,IAAI,QAAS,SAAA1M,GAC7ByH,EAASgD,UAAUhQ,EAAGkT,OAAQ,GAAI,IAClChD,EAAelQ,EAAGQ,MAClB+E,EAAE0P,oBAGIT,KAITxH,EAASqC,WAAW4C,IAAIoC,GAGxBxG,EAAcb,GACdC,GAAa,IAGRiD,EAAiB,SAAAlQ,GACtByN,EAAazN,GACbiM,EAAa,UAOd,OACC7M,EAAAC,EAAAC,cAAA,WAASnB,UAAYqB,IAAO+K,SAE3BnL,EAAAC,EAAAC,cAAA,OAAKnB,UAAS,uBAAAoB,OAAyByO,EAAe,aAAe,KACpE5O,EAAAC,EAAAC,cAAA,OAAKnB,UAAU,qBACdiB,EAAAC,EAAAC,cAAA,OAAKnB,UAAU,qBACdiB,EAAAC,EAAAC,cAAA,KAAGnB,UAAU,mBAGdiB,EAAAC,EAAAC,cAAA,SAAOwM,KAAK,OAAO1N,GAAG,YAAYqV,MAAOrF,EACxC8G,SAAU,SAAA3P,GAAC,OAAI8I,EAAe9I,EAAE8E,OAAOoJ,QACvC0B,YAAY,WAGb/V,EAAAC,EAAAC,cAAA,OAAKnB,UAAU,kBACdwB,QAAS,kBAAM0O,EAAe,KAC9BhM,MAAO,CAAC+S,QAAyB,KAAhBhH,EAAqB,OAAS,SAE/ChP,EAAAC,EAAAC,cAAA,KAAGnB,UAAU,0BAIfiB,EAAAC,EAAAC,cAAA,OAAKnB,UAAU,sBACdwB,QAAS,kBAAMsO,GAAc,KAD9B,WAOD7O,EAAAC,EAAAC,cAAA,OAAKnB,UAAS,gCAAAoB,OAAkCyO,EAAe,kBAAoB,IAClFrO,QAAS,kBAAMsO,GAAc,KAE7B7O,EAAAC,EAAAC,cAAA,OAAKoB,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BAA6B1B,EAAAC,EAAAC,cAAA,UAAQ+V,GAAG,UAAUC,GAAG,UAAUC,EAAE,IAAItN,UAAU,8BAA8BjH,OAAO,UAAUwL,YAAY,MAAKpN,EAAAC,EAAAC,cAAA,QAAMyB,EAAE,mCAAmCC,OAAO,UAAUwL,YAAY,IAAI5D,cAAc,QAAQC,eAAe,YAGnUzJ,EAAAC,EAAAC,cAAA,OAAKlB,GAAG,MAAMiE,MAAO,CAACmT,SAAU,EAAGlT,gBAAiB,UAEnDkL,GACApO,EAAAC,EAAAC,cAACmW,EAAD,CACC9U,OAAQyM,EACRtB,KAAME,EACNxL,KAAMgN,EACNzB,QA9CiB,WACpBE,EAAa","file":"static/js/3.bae6ffb8.chunk.js","sourcesContent":["import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import React, {useContext, useState, useEffect} from 'react';\nimport Context from \"../../Context/Context\"\n\nimport styles from './styles.module.scss';\n\nconst Like = ({ numOfLikes, className, id }) => {\t\n\tconst context = useContext(Context)\n\tconst [likesNum, setLikesNum] = useState(0)\n\tconst isLiked = context.state.likedCafes.includes(id)\n\n\tuseEffect(() => {\n\t\tsetLikesNum(Number(numOfLikes))\n\t}, [])\n\n\tconst handleLikeClick = () => {\n\t\tconst newLikedPosts = [...context.state.likedCafes]\n\t\tlet likeState\n\n\t\tif (!isLiked) {\n\t\t\tnewLikedPosts.push(id)\n\t\t\tlikeState = \"inc\"\n\t\t\tsetLikesNum(likesNum + 1)\n\n\t\t\tcontext.update({\n\t\t\t\tlikedCafes: newLikedPosts\n\t\t\t})\n\t\t} else {\n\t\t\tconst removedLikeArr = newLikedPosts.filter(el => el !== id)\n\t\t\tlikeState = \"dec\"\n\t\t\tsetLikesNum(likesNum - 1)\n\t\n\t\t\tcontext.update({\n\t\t\t\tlikedCafes: removedLikeArr\n\t\t\t})\n\n\t\t}\n\n\t\tfetch(`https://europe-west1-mirum-e30cc.cloudfunctions.net/api/cafes/${id}/like/${likeState}`,\n\t\t\t{ method: \"PUT\" }\n\t\t)\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => setLikesNum(data.likes))\n\t}\n\n\treturn (\n\t\t<section className={ `${ styles.like } ${ className }` }>\n\t\t\t<div className={ styles.like_icon }\n\t\t\t\tonClick={ handleLikeClick }\n\t\t\t>\n\t\t\t\t<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 21 21\" fill={ isLiked ? '#FF2929' : 'none' } xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t<path d=\"M20.4673 6.60488L20.4688 6.6218L20.4715 6.63858C20.4862 6.73014 20.5853 7.44813 20.2997 8.65667L20.2997 8.65682C19.8888 10.3984 18.9388 11.9878 17.5446 13.2519C17.5441 13.2524 17.5436 13.2528 17.5431 13.2532L10.44 19.5899L3.4571 13.253L3.45682 13.2528C2.0619 11.9889 1.11132 10.3986 0.700268 8.65679L0.700247 8.6567C0.414631 7.44742 0.513961 6.72978 0.528643 6.63948L0.531481 6.62203L0.533079 6.60442C0.820667 3.43488 3.03853 1.23746 5.71797 1.23746C7.48855 1.23746 9.07782 2.18316 10.0103 3.77886L10.4373 4.50947L10.8713 3.783C11.8104 2.21089 13.4737 1.23786 15.282 1.23786C17.9618 1.23786 20.1793 3.43527 20.4673 6.60488Z\"\n\t\t\t\t\t\tstroke={ isLiked ? '#FF2929' : '#2A2A2A' }\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t</div>\n\n\t\t\t<div className={ styles.like_count }>\n\t\t\t\t{likesNum}\n\t\t\t</div>\n\t\t</section>\n\t);\n}\n\nexport default React.memo(Like);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"like\":\"styles_like__2y23N\",\"like_icon\":\"styles_like_icon__2lgM5\",\"like_count\":\"styles_like_count__ru3H3\"};","import React from 'react';\nimport { withRouter } from 'react-router-dom';\n\nimport styles from './styles.module.scss';\n\nconst Metro = props => {\n\tconst {\n\t\tclassName,\n\t\tid,\n\t\twithClick = false,\n\t\tlabel,\n\t\twithArrow = false,\n\t\tmetro\n\t} = props\n\n\tconst onMetroClick = () => {\n\t\tprops.history.push(`/map/${id}`)\n\t}\n\n\tconst getMetroColor = () => {\n\t\tlet color = \"\"\n\t\tswitch(metro) {\n\t\t\tcase \"Девяткино\":\n\t\t\tcase \"Гражданский пр.\":\n\t\t\tcase \"Академическая\":\n\t\t\tcase \"Политехническая\":\n\t\t\tcase \"Площадь Муж.\":\n\t\t\tcase \"Лесная\":\n\t\t\tcase \"Выборгская\":\n\t\t\tcase \"Площадь Ленина\":\n\t\t\tcase \"Чернышевская\":\n\t\t\tcase \"Площадь Восст.\":\n\t\t\tcase \"Владимирская\":\n\t\t\tcase \"Пушкинская\":\n\t\t\tcase \"Технологический\":\n\t\t\tcase \"Балтийская\":\n\t\t\tcase \"Нарвская\":\n\t\t\tcase \"Кировский завод\":\n\t\t\tcase \"Ленинский пр.\":\n\t\t\tcase \"Пр. Ветеранов\":\n\t\t\t\tcolor = \"#D61C38\";\n\t\t\t\tbreak;\n\t\t\tcase \"Парнас\":\n\t\t\tcase \"Пр. Просвещения\":\n\t\t\tcase \"Озерки\":\n\t\t\tcase \"Удельная\":\n\t\t\tcase \"Пионерская\":\n\t\t\tcase \"Черная Речка\":\n\t\t\tcase \"Петроградская\":\n\t\t\tcase \"Горьковская\":\n\t\t\tcase \"Невский пр.\":\n\t\t\tcase \"Сенная Площадь\":\n\t\t\tcase \"Фрунзенская\":\n\t\t\tcase \"Московские вор.\":\n\t\t\tcase \"Электросила\":\n\t\t\tcase \"Парк победы\":\n\t\t\tcase \"Московская\":\n\t\t\tcase \"Звездная\":\n\t\t\tcase \"Купчино\":\n\t\t\t\tcolor = \"#007DCC\";\n\t\t\t\tbreak;\n\t\t\tcase \"Беговая\":\n\t\t\tcase \"Новокрестовская\":\n\t\t\tcase \"Приморская\":\n\t\t\tcase \"Василеостровская\":\n\t\t\tcase \"Гостиный Двор\":\n\t\t\tcase \"Маяковская\":\n\t\t\tcase \"Площадь Ал. Н.\":\n\t\t\tcase \"Елизаровская\":\n\t\t\tcase \"Ломоносовская\":\n\t\t\tcase \"Пролетарская\":\n\t\t\tcase \"Рыбацкое\":\n\t\t\t\tcolor = \"#009959\";\n\t\t\t\tbreak;\n\t\t\tcase \"Спасская\":\n\t\t\tcase \"Достоевская\":\n\t\t\tcase \"Лиговский пр.\":\n\t\t\tcase \"Новочеркасская\":\n\t\t\tcase \"Ладожская\":\n\t\t\tcase \"Пр. Большевиков\":\n\t\t\tcase \"Ул. Дыбенко\":\n\t\t\t\tcolor = \"#DE7008\";\n\t\t\t\tbreak;\n\t\t\tcase \"Комендантский\":\n\t\t\tcase \"Старая Деревня\":\n\t\t\tcase \"Крестовский Ост.\":\n\t\t\tcase \"Чкаловская\":\n\t\t\tcase \"Спортивная\":\n\t\t\tcase \"Адмиралтейская\":\n\t\t\tcase \"Садовая\":\n\t\t\tcase \"Звенигородская\":\n\t\t\tcase \"Обводный канал\":\n\t\t\tcase \"Волковская\":\n\t\t\tcase \"Бухарестская\":\n\t\t\tcase \"Международная\":\n\t\t\tcase \"Проспект славы\":\n\t\t\tcase \"Дунайская\":\n\t\t\tcase \"Шушары\":\n\t\t\t\tcolor = \"#6E0A78\";\n\t\t\t\tbreak;\n\t\t\tdefault: color = \"rgba(255, 255, 255, 0)\"\n\t\t}\n\n\t\treturn color\n\t}\n\n\treturn (\n\t\t<section className={ `${ styles.metro } ${ className }`}\n\t\t\tonClick={withClick ? onMetroClick : null}\n\t\t>\n\t\t\t<div className={ styles.metro_icon }\n\t\t\t\tstyle={{backgroundColor: getMetroColor()}}\n\t\t\t/>\n\n\t\t\t<div className={ styles.metro_label }>\n\t\t\t\t{label}\n\t\t\t</div>\n\n\t\t\t{withArrow &&\n\t\t\t\t<div className={ styles.metro_arrow }>\n\t\t\t\t\t<svg width=\"7\" height=\"12\" viewBox=\"0 0 7 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t<path d=\"M1 1L6 6L1 11\" stroke=\"#727272\"/>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t}\n\t\t</section>\n\t);\n}\n\nexport default withRouter(React.memo(Metro));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"metro\":\"styles_metro__Qvg4e\",\"metro_icon\":\"styles_metro_icon__1eyHd\",\"metro_label\":\"styles_metro_label__1zzzM\",\"metro_arrow\":\"styles_metro_arrow__2s9-B\"};","import React, {useContext} from 'react';\nimport Context from \"../../Context/Context\"\n\nimport styles from './styles.module.scss';\n\nconst ShareBtn = ({className, id, page}) => {\n    const context = useContext(Context)\n    const openModal = () => {\n        context.update({\n            shareModalOpen: true,\n            shareModalPage: page,\n            shareModalId: id\n        })\n    }\n\n    return (\n        <button\n            className={`${styles.shareBtn} ${className}`}\n            onClick={openModal}\n        >\n            <span>\n                Поделиться\n            </span>\n        </button>\n    )\n}\n\nexport default React.memo(ShareBtn);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"shareBtn\":\"styles_shareBtn__qt8ex\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postCard\":\"styles_postCard__2WqTh\",\"postCardImage\":\"styles_postCardImage__10v2l\",\"postCardImage_container\":\"styles_postCardImage_container__2GzJI\",\"postCardInfo\":\"styles_postCardInfo__Ww4l_\",\"postCardTitle\":\"styles_postCardTitle__2Gk1K\",\"postCardAdress\":\"styles_postCardAdress__3ot8p\",\"postCardLike\":\"styles_postCardLike__jOPw5\",\"postCardLikeContainer\":\"styles_postCardLikeContainer__1RM0j\",\"postCardInstagramLink\":\"styles_postCardInstagramLink__343iL\",\"postCardAbout\":\"styles_postCardAbout__r0OLo\",\"postCardComments\":\"styles_postCardComments__3sb8L\",\"postCardTextInput\":\"styles_postCardTextInput__2BZNn\",\"postCardTextInput_input\":\"styles_postCardTextInput_input__1qzzR\",\"postCardTextInput_button\":\"styles_postCardTextInput_button__CGoJK\",\"border\":\"styles_border__F_P4d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slider\":\"styles_slider__1zfyK\",\"main\":\"styles_main__1jPID\",\"photoCount\":\"styles_photoCount__3zhfQ\",\"swiper\":\"styles_swiper__3NMFa\",\"imageHolder\":\"styles_imageHolder__1QFBn\",\"move\":\"styles_move__1xnPW\",\"moveContainer\":\"styles_moveContainer__3MA41\",\"moveContainer_left\":\"styles_moveContainer_left__1K8OF\",\"moveContainer_right\":\"styles_moveContainer_right__3fVtY\",\"authorText\":\"styles_authorText__3MOUC\",\"back\":\"styles_back__2yDlz\",\"next\":\"styles_next__2m3Se\"};","import React from 'react';\nimport Context from \"../../Context/Context\"\n\nimport styles from './styles.module.scss';\n\nclass Slider extends React.Component {\n    static contextType = Context\n\n    isOx = null;\n    isOy = null;\n    lastTouch = 0;\n    imageWidth = this.context.state.width\n    state = {\n        imgs: [],\n        currentIndex: 0,\n        movement: 0,\n        transitionDuration: \"0s\",\n        // imageWidth: null\n    };\n\n    componentDidMount() {\n        this.setState({\n            // imageWidth: this.context.state.width,\n            imgs: this.props.images\n        })\n    }\n\n    handleTouchStart = e => {\n        this.lastTouch = e.nativeEvent.touches[0].clientX;\n        this.startY = e.nativeEvent.touches[0].clientY;\n        this.startX = e.nativeEvent.touches[0].clientX;\n    };\n\n    handleTouchMove = e => {\n        const delta = this.lastTouch - e.nativeEvent.touches[0].clientX;\n        const lastX = e.nativeEvent.touches[0].clientX - this.startX\n        this.lastTouch = e.nativeEvent.touches[0].clientX;\n        const lastY = e.nativeEvent.touches[0].clientY - this.startY\n        \n        if (this.isOx === null && this.isOy === null) {\n            if (Math.abs(lastY) < Math.abs(lastX)) {\n                this.isOx = true\n            } else {\n                this.isOy = true\n            }\n        }\n\n        if (this.isOx) {\n            document.body.style.overflowY = 'hidden'\n            this.handleMovement(delta)\n            e.preventDefault()\n        }\n        \n        return;\n    };\n\n    handleTouchEnd = () => {\n        this.handleMovementEnd();\n        document.body.style.overflowY = 'scroll'\n        this.lastTouch = 0;\n        this.isOx = null\n        this.isOy = null\n    }\n\n    handleMovement = delta => {\n        const maxLength = this.state.imgs.length - 1;\n        let nextMovement = this.state.movement + delta;\n\n        if (nextMovement < 0) {\n            nextMovement = 0;\n        }\n\n        if (nextMovement > maxLength * this.imageWidth) {\n            nextMovement = maxLength * this.imageWidth;\n        }\n\n        this.setState({\n            movement: nextMovement,\n            transitionDuration: \"0s\"\n        });\n    };\n\n    handleMovementEnd = () => {\n        const { movement, currentIndex } = this.state;\n\n        const endPosition = movement / this.imageWidth;\n        const endPartial = endPosition % 1;\n        const endingIndex = endPosition - endPartial;\n        const deltaInteger = endingIndex - currentIndex;\n\n        let nextIndex = endingIndex;\n\n        if (deltaInteger >= 0) {\n        if (endPartial >= 0.1) {\n            nextIndex += 1;\n        }\n        } else if (deltaInteger < 0) {\n            nextIndex = currentIndex - Math.abs(deltaInteger);\n        if (endPartial > 0.9) {\n            nextIndex += 1;\n        }\n        }\n\n        this.transitionTo(nextIndex, Math.min(0.5, 1 - Math.abs(endPartial)));\n    }\n\n    transitionTo = (index, duration) => {\n        this.setState({\n        currentIndex: index,\n        movement: index * this.imageWidth,\n        transitionDuration: `${duration}s`,\n        });\n    }\n    render() {\n        const { currentIndex, movement, transitionDuration, imgs } = this.state;\n        const maxLength = imgs.length - 1;\n        const maxMovement = maxLength * this.imageWidth;\n\n        return (\n            <>\n                <div className={ styles.slider}>\n                    <div\n                        className={styles.main}\n                        style={{\n                            width: `${this.imageWidth}px`,\n                            height: `${this.imageWidth}px`,\n                        }}\n                        onTouchStart={this.handleTouchStart}\n                        onTouchMove={this.handleTouchMove}\n                        onTouchEnd={this.handleTouchEnd}\n                    >\n                        <div className={styles.photoCount}>\n                            {`${currentIndex + 1}/${maxLength + 1}`}\n                        </div>\n\n                        <div className={styles.swiper}\n                            style={{\n                                transform: `translateX(${movement * -1}px)`,\n                                transitionDuration: transitionDuration,\n                            }}\n                        >\n                            {imgs.map((el, i) => {\n                                return <div key={i}\n                                    className={styles.imageHolder}\n                                >\n                                    <img\n                                        alt={`Cafe img num. ${i}. author: ${el.author}`}\n                                        decoding=\"auto\"\n                                        sizes=\"(max-width: 374px) 640w, (max-width: 699px) 750w, (min-width: 700px) 1080w\"\n                                        srcSet={`${el[\"640\"]} 640w, ${el[\"750\"]} 750w, ${el[\"1080\"]} 1080w`}\n                                        src={el.source}\n                                        style={{objectFit: \"cover\"}}\n                                    />\n                                </div>\n                            })}\n                        </div>\n                    {movement !== 0 &&\n                        <div\n                            className={`${styles.moveContainer} ${styles.moveContainer_left}`} \n                            onClick={() => {\n                                this.transitionTo(currentIndex - 1, 0.5);\n                            }}\n                        >\n                            <button\n                                className={styles.move} \n                            >\n                                <svg width=\"6\" height=\"8\" viewBox=\"0 0 6 8\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <path d=\"M4.11108 0.666626L0.777751 3.99996L4.11108 7.33329\" stroke=\"white\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                                </svg>\n                            </button>\n                        </div>\n                        \n                    }\n                    {movement !== maxMovement &&\n                        <div\n                            className={`${styles.moveContainer} ${styles.moveContainer_right}`} \n                            onClick={() => {\n                                this.transitionTo(currentIndex + 1, 0.5);\n                            }}\n                        >\n                            <button\n                                className={styles.move}\n                            >\n                                <svg width=\"5\" height=\"8\" viewBox=\"0 0 5 8\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <path d=\"M0.888916 0.666626L4.22225 3.99996L0.888916 7.33329\" stroke=\"white\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                                </svg>\n                            </button>\n                        </div>\n                        \n                    }\n                    </div>\n                </div>\n                <p className={ styles.authorText }>\n                    {imgs && imgs[currentIndex] && imgs[currentIndex].author\n                        ? `${imgs[currentIndex][\"author\"]}`\n                        : \"\"\n                    }\n\t\t\t\t</p>\n            </>\n        );\n    }\n}\n\nexport default Slider;","import React, { useContext } from 'react';\nimport Context from \"../../Context/Context\"\n\nimport styles from './styles.module.scss';\n\nimport Like from '../Like';\nimport Metro from '../Metro';\nimport ShareBtn from '../ShareBtn';\nimport Carousel from \"../Carousel\"\n\n\nconst PostCard = props => {\n\tconst context = useContext(Context)\n\tconsole.log(props)\n\tconst id = props.data ? props.data.id : props.match.params.id\n\n\tconst postData = props.data\n\t\t? props.data\n\t\t: context.state.cafes.read().find(el => el.id === id)\n\n\tconst {\n\t\ttitle,\n\t\taddressName,\n\t\tlikes,\n\t\tmainText,\n\t\tphotos,\n\t\tsmallText,\n\t\tinstagramLink,\n\t\tmetroName\n\t} = postData\n\n\treturn (\n\t\t<article className={ styles.postCard }>\n\t\t\t<Carousel images={photos} />\n\n\t\t\t<section className={ styles.postCardInfo }>\n\t\t\t\t<div className={ styles.postCardTitle }>\n\t\t\t\t\t<h1>\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</h1>\n\n\t\t\t\t\t<ShareBtn\n\t\t\t\t\t\tpage={props.data ? \"map\" : \"post\"}\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<Metro className={ styles.postCardAdress }\n\t\t\t\t\tlabel={addressName}\n\t\t\t\t\tmetro={metroName}\n\t\t\t\t\twithArrow={props.disableAddress ? false : true}\n\t\t\t\t\twithClick={props.disableAddress ? false : true}\n\t\t\t\t\tid={id}\n\t\t\t\t/>\n\t\t\t\t\n\t\t\t\t<div className={ styles.postCardLikeContainer }>\n\t\t\t\t\t<Like\n\t\t\t\t\t\tclassName={ styles.postCardLike }\n\t\t\t\t\t\tnumOfLikes={likes}\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<a\n\t\t\t\t\t\tclassName={ styles.postCardInstagramLink }\n\t\t\t\t\t\thref={instagramLink ? instagramLink : \"\"}\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t>\n\t\t\t\t\t\tInstagram\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\n\t\t\t\t<p className={ styles.postCardAbout }>\n\t\t\t\t\t{smallText}\n\t\t\t\t</p>\n\t\t\t\t<p className={ styles.postCardAbout }>\n\t\t\t\t\t{mainText}\n\t\t\t\t</p>\n\t\t\t</section>\n\t\t</article>\n\t)\n}\n\nexport default React.memo(PostCard);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mapPage\":\"styles_mapPage__1XzgJ\",\"map\":\"styles_map__2Dvyj\"};","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/geo.ff75b9d2.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mapModalWindow\":\"styles_mapModalWindow__2KlXr\",\"mapModalHeader\":\"styles_mapModalHeader__vLP-3\",\"mapModalHeader_close\":\"styles_mapModalHeader_close__21EFD\",\"mapModalHeader_arrow\":\"styles_mapModalHeader_arrow__3Fsuo\",\"mapModalBody\":\"styles_mapModalBody__1iX1f\",\"open\":\"styles_open__3Ygme\",\"mapModal_arrowTablet\":\"styles_mapModal_arrowTablet__1qwmO\",\"smallInfoContainer\":\"styles_smallInfoContainer__3jDIO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"smallModal\":\"styles_smallModal__25cKR\",\"smallModal_body\":\"styles_smallModal_body__2m5bP\",\"smallModal_img\":\"styles_smallModal_img__27o4q\",\"smallModal_info\":\"styles_smallModal_info__31Ebs\",\"smallModal_description\":\"styles_smallModal_description__2LVB3\",\"smallModal_about\":\"styles_smallModal_about__1XCGQ\",\"smallModal_author\":\"styles_smallModal_author__3cFcr\",\"smallModal_like\":\"styles_smallModal_like__XTjda\",\"smallModal_footer\":\"styles_smallModal_footer__1st1A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mapModalWindow\":\"styles_mapModalWindow__KEUDy\",\"mapModalHeader\":\"styles_mapModalHeader__1nkwu\",\"mapModalHeader_close\":\"styles_mapModalHeader_close__2C93Y\",\"mapModalHeader_arrow\":\"styles_mapModalHeader_arrow__3EJaW\",\"mapModalBody\":\"styles_mapModalBody__2FTyT\",\"open\":\"styles_open__20rFn\",\"mapModal_arrowTablet\":\"styles_mapModal_arrowTablet__s3WN5\",\"smallInfoContainer\":\"styles_smallInfoContainer__2jq9I\"};","import React, {useContext} from 'react';\nimport Context from '../../Context/Context';\n\nimport styles from './styles.module.scss';\nimport ShareBtn from '../ShareBtn';\nimport Like from '../Like';\n\nconst ModalSmallInfo = ({ data, touchStart, touchMove, touchEnd }) => {\n    const context = useContext(Context)\n    const { title, smallText, photos, id, likes, instagramLink } = data\n    const { device } = context.state\n\n    return (\n        <div className={styles.smallModal}>\n            <div\n                className={styles.smallModal_body}\n                onTouchStart={touchStart}\n                onTouchMove={touchMove}\n                onTouchEnd={touchEnd}\n            >\n                <div className={styles.smallModal_img}>\n                    <img\n                        alt={`Main Cafe img. author: ${photos[0].author}`}\n                        decoding=\"auto\"\n                        src={photos[0][\"640\"]}\n                        style={{objectFit: \"cover\"}}\n                    />\n\n                    <p className={styles.smallModal_author}>\n                        {photos[0].author}\n                    </p>\n                </div>\n                <div className={styles.smallModal_info}>\n                    <h2>{title}</h2>\n                        \n                    <p className={styles.smallModal_about}> \n                        {smallText}\n                    </p>\n\n                    {device !== \"mobile\" &&\n                        <div className={styles.smallModal_footer}>\n                            <Like\n                                className={styles.smallModal_like}\n                                numOfLikes={likes}\n                                id={id}\n                            />\n\n                            <a href={instagramLink ? instagramLink : \"\"}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                            >\n                                Instagram\n                            </a>\n\n                            <ShareBtn\n                                page=\"map\"\n                                id={id}\n                            />\n                        </div>\n                    }\n                </div>\n            </div>\n\n            {device === \"mobile\" &&\n                <div className={styles.smallModal_footer}>\n                    <Like\n                        className={styles.smallModal_like}\n                        numOfLikes={likes}\n                        id={id}\n                    />\n\n                    <a href={instagramLink ? instagramLink : \"\"}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                    >\n                        Instagram\n                    </a>\n\n                    <ShareBtn\n                        page=\"map\"\n                        id={id}\n                    />\n                </div>\n            }\n        </div>\n    )\n}\n\nexport default React.memo(ModalSmallInfo);\n","import React, {useState, useEffect, useContext} from 'react';\nimport Context from '../../Context/Context';\n\nimport styles from './styles.module.scss';\n\nimport SmallInfo from '../ModalSmallInfo';\nimport PostCard from '../PostCard';\n\nconst MapModal = ({ type, height, data, onClose }) => {\n\tconst context = useContext(Context)\n\n\tconst [modalType, setModalType] = useState(\"\")\n\tconst [getMoveStarted, setMoveStarted] = useState(false)\n\tlet startY = null\n\tconst {device} = context.state\n\n\tuseEffect(() => {\n\t\tsetModalType(type)\n\t}, [type])\n\n\tconst handleTouchStart = e => {\n\t\tstartY = e.nativeEvent.touches[0].clientY\n\t};\n\n\tconst handleTouchMove = e => {\n\t\tconst delta = startY - e.nativeEvent.touches[0].clientY\n\n\t\tif (!getMoveStarted) {\n\t\t\thandleMovement(delta)\n\t\t}\n\t};\n\n\tconst handleTouchEnd = () => {\n\t\tsetMoveStarted(false)\n\t\tstartY = 0;\n\t}\n\n\tconst handleMovement = delta => {\n\t\tsetMoveStarted(true)\n\n\t\tif (delta > 0 && modalType === \"small\") {\n\t\t\tsetModalType(\"full\")\n\t\t} else if (delta < 0 && modalType === \"full\") {\n\t\t\tsetModalType(\"small\")\n\t\t}\n\t}\n\n\tconst onCloseModal = () => {\n\t\tonClose()\n\t\tsetModalType(\"\")\n\t}\n\n\treturn (\n\t\t<div className={styles.mapModalWindow}\n\t\t\tstyle={{\n\t\t\t\tbottom: `-${height}px`,\n\t\t\t\theight: `${height}px`,\n\t\t\t\ttransform: modalType === \"small\"\n\t\t\t\t\t? `translateY(-216px)`\n\t\t\t\t\t: modalType === \"full\"\n\t\t\t\t\t\t? `translateY(-${height}px)`\n\t\t\t\t\t\t: `translateY(0)`\n\t\t\t}}\n\t\t>\n\t\t\t<div className={styles.mapModalHeader}\n\t\t\t\tonTouchStart={handleTouchStart}\n\t\t\t\tonTouchMove={handleTouchMove}\n\t\t\t\tonTouchEnd={handleTouchEnd}\n\t\t\t>\n\t\t\t\t{device === \"mobile\" &&\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={styles.mapModalHeader_arrow}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tmodalType === \"full\"\n\t\t\t\t\t\t\t\t? setModalType(\"small\")\n\t\t\t\t\t\t\t\t: setModalType(\"full\")\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={{top: modalType === \"full\" ? \"14px\" : \"12px\"}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{modalType === \"full\"\n\t\t\t\t\t\t\t? <svg width=\"20\" height=\"9\" viewBox=\"0 0 20 9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path d=\"M19 1.66669L10 7.66669L1 1.66669\" stroke=\"#727272\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t: <svg width=\"20\" height=\"8\" viewBox=\"0 0 20 8\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t\t<path d=\"M1 7L10 1L19 7\" stroke=\"#727272\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\n\t\t\t<div className={styles.mapModalHeader_close}\n\t\t\t\tonClick={ onCloseModal }\n\t\t\t>\n\t\t\t\t<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t<path d=\"M15 1L1 15M1 1L15 15\" stroke=\"#727272\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n\t\t\t\t</svg>\n\t\t\t</div>\n\n\t\t\t<div className={styles.mapModalBody}\n\t\t\t\tstyle={{\n\t\t\t\t\toverflowY: modalType === \"full\" ? \"scroll\" : \"hidden\"\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{modalType === \"full\"\n\t\t\t\t\t? <PostCard\n\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\tdisableAddress={true}\n\t\t\t\t\t/>\n\t\t\t\t\t: <div className={styles.smallInfoContainer}>\n\t\t\t\t\t\t<SmallInfo\n\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\ttouchStart={handleTouchStart}\n\t\t\t\t\t\t\ttouchMove={handleTouchMove}\n\t\t\t\t\t\t\ttouchEnd={handleTouchEnd}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{device !== \"mobile\" &&\n\t\t\t\t\t\t\t<div className={styles.mapModal_arrowTablet}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalType === \"full\"\n\t\t\t\t\t\t\t\t\t\t? setModalType(\"small\")\n\t\t\t\t\t\t\t\t\t\t: setModalType(\"full\")\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<svg width=\"8\" height=\"20\" viewBox=\"0 0 8 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t\t\t<path d=\"M1 1L7 10L0.999999 19\" stroke=\"#727272\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default React.memo(MapModal);\n","import React, {useState, useEffect, useContext} from 'react';\nimport Context from '../../Context/Context';\n\nimport styles from './styles.module.scss';\n\nimport SmallInfo from '../ModalSmallInfo';\nimport PostCard from '../PostCard';\n\nconst MapModal = ({ type, height, data, onClose }) => {\n\tconst context = useContext(Context)\n\n\tconst [modalType, setModalType] = useState(\"\")\n\tconst [getMoveStarted, setMoveStarted] = useState(false)\n\tlet startY = null\n\tconst {device} = context.state\n\n\tuseEffect(() => {\n\t\tsetModalType(type)\n\t}, [type])\n\n\tconst handleTouchStart = e => {\n\t\tstartY = e.nativeEvent.touches[0].clientY\n\t};\n\n\tconst handleTouchMove = e => {\n\t\tconst delta = startY - e.nativeEvent.touches[0].clientY\n\n\t\tif (!getMoveStarted) {\n\t\t\thandleMovement(delta)\n\t\t}\n\t};\n\n\tconst handleTouchEnd = () => {\n\t\tsetMoveStarted(false)\n\t\tstartY = 0;\n\t}\n\n\tconst handleMovement = delta => {\n\t\tsetMoveStarted(true)\n\n\t\tif (delta > 0 && modalType === \"small\") {\n\t\t\tsetModalType(\"full\")\n\t\t} else if (delta < 0 && modalType === \"full\") {\n\t\t\tsetModalType(\"small\")\n\t\t}\n\t}\n\n\tconst onCloseModal = () => {\n\t\tonClose()\n\t\tsetModalType(\"\")\n\t}\n\n\treturn (\n\t\t<div className={styles.mapModalWindow}\n\t\t\tstyle={{\n\t\t\t\tbottom: `-${height}px`,\n\t\t\t\theight: `${height}px`,\n\t\t\t\ttransform: modalType === \"small\"\n\t\t\t\t\t? `translateY(-216px)`\n\t\t\t\t\t: modalType === \"full\"\n\t\t\t\t\t\t? `translateY(-${height}px)`\n\t\t\t\t\t\t: `translateY(0)`\n\t\t\t}}\n\t\t>\n\t\t\t<div className={styles.mapModalHeader}\n\t\t\t\tonTouchStart={handleTouchStart}\n\t\t\t\tonTouchMove={handleTouchMove}\n\t\t\t\tonTouchEnd={handleTouchEnd}\n\t\t\t>\n\t\t\t\t{device === \"mobile\" &&\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={styles.mapModalHeader_arrow}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tmodalType === \"full\"\n\t\t\t\t\t\t\t\t? setModalType(\"small\")\n\t\t\t\t\t\t\t\t: setModalType(\"full\")\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={{top: modalType === \"full\" ? \"14px\" : \"12px\"}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{modalType === \"full\"\n\t\t\t\t\t\t\t? <svg width=\"20\" height=\"9\" viewBox=\"0 0 20 9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path d=\"M19 1.66669L10 7.66669L1 1.66669\" stroke=\"#727272\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t: <svg width=\"20\" height=\"8\" viewBox=\"0 0 20 8\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t\t<path d=\"M1 7L10 1L19 7\" stroke=\"#727272\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\n\t\t\t<div className={styles.mapModalHeader_close}\n\t\t\t\tonClick={ onCloseModal }\n\t\t\t>\n\t\t\t\t<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t<path d=\"M15 1L1 15M1 1L15 15\" stroke=\"#727272\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n\t\t\t\t</svg>\n\t\t\t</div>\n\n\t\t\t<div className={styles.mapModalBody}\n\t\t\t\tstyle={{\n\t\t\t\t\toverflowY: modalType === \"full\" ? \"scroll\" : \"hidden\"\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{modalType === \"full\"\n\t\t\t\t\t? <PostCard\n\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\tdisableAddress={true}\n\t\t\t\t\t/>\n\t\t\t\t\t: <div className={styles.smallInfoContainer}>\n\t\t\t\t\t\t<SmallInfo\n\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\ttouchStart={handleTouchStart}\n\t\t\t\t\t\t\ttouchMove={handleTouchMove}\n\t\t\t\t\t\t\ttouchEnd={handleTouchEnd}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{device !== \"mobile\" &&\n\t\t\t\t\t\t\t<div className={styles.mapModal_arrowTablet}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalType === \"full\"\n\t\t\t\t\t\t\t\t\t\t? setModalType(\"small\")\n\t\t\t\t\t\t\t\t\t\t: setModalType(\"full\")\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<svg width=\"8\" height=\"20\" viewBox=\"0 0 8 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t\t\t<path d=\"M1 1L7 10L0.999999 19\" stroke=\"#727272\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default React.memo(MapModal);\n","import React, {useContext, useEffect, useState, useLayoutEffect} from 'react';\nimport Context from '../../Context/Context';\n\nimport styles from './styles.module.scss';\n\nimport placemark from '../../images/placemark.png'\n// import pep from '../../images/geoPos.png'\nimport kek from '../../images/geo.svg'\nimport MapModal from '../MapModal';\nimport MapTabletFullModal from '../MapTabletFullModal';\n\nconst MapPage = props => {\n\tconst context = useContext(Context)\n\tconst cafes = context.state.cafes.read()\n\tconst urlId = props.match.params.id\n\tconst {device} = context.state\n\tlet localMap = null\n\tlet mapHeight\n\n\tconst [isLoading, setIsLoading] = useState(true)\n\tconst [modalType, setModalType] = useState(\"\")\n\tconst [modalHeight, setModalHeight] = useState(0)\n\tconst [modalData, setModalData] = useState(null)\n\tconst [localMapId, setLocalMapId] = useState(null)\n\tconst [isSearchShow, setSearchShow] = useState(false)\n\tconst [searchValue, setSearchValue] = useState(\"\")\n\n\tuseLayoutEffect(() => {\n\t\tif (!window.ymaps) {\n\t\t\tconst script = document.createElement('script');\n\t\t\tconst onloadScript = document.createElement('script');\n\t\n\t\t\tonloadScript.type = 'text/javascript';\n\t\t\n\t\t\tscript.src = \"https://api-maps.yandex.ru/2.1/?apikey=36c0289b-59c0-493e-9d11-69d0114f742e&load=package.geoObjects&lang=ru-RU\";\n\t\t\tscript.async = true;\n\t\t\tscript.type = 'text/javascript';\n\t\t\tscript.onload = createYmaps;\n\t\t\n\t\t\tdocument.body.appendChild(script);\n\t\t\n\t\t\treturn () => {\n\t\t\t  document.body.removeChild(script);\n\t\t\t}\n\t\t} else {\n\t\t\tcreateYmaps()\n\t\t}\n\t}, []);\n\n\tconst createYmaps = () => {\n\t\twindow.ymaps.ready(() => {\n\t\t\twindow.ymaps.geolocation.get().then((res) => {\n\t\t\t\tconst mapContainer = window.document.getElementById('map')\n\t\t\t\tconst bounds = res.geoObjects.get(0).properties.get('boundedBy')\n\t\t\t\tconst mapState = window.ymaps.util.bounds.getCenterAndZoom(\n\t\t\t\t\tbounds,\n\t\t\t\t\t[mapContainer.offsetWidth, mapContainer.offsetHeight - 50]\n\t\t\t\t)\n\t\t\t\tmapState.zoom = 14\n\t\t\t\tmapHeight = mapContainer.offsetHeight - 50\n\t\t\t\tsetModalHeight(mapHeight * 0.87)\n\t\t\t\tcreateMap(mapState)\n\t\t\t}, function() {\n\t\t\t\tcreateMap({\n\t\t\t\t\tcenter: [55.751574, 37.573856],\n\t\t\t\t\tzoom: 9\n\t\t\t\t})\n\t\t\t})\t\n\t\t})\n\t}\n\n\tuseEffect(() => {\n\t\tif (urlId && localMapId) {\n\t\t\tconst dataFromId = cafes.find(el => el.id === urlId)\n\t\t\tlocalMapId.setCenter(dataFromId.addressCoord, 14)\n\t\t\topenSmallModal(dataFromId)\n\t\t}\n\t}, [localMapId])\n\n\tconst createMap = (state) => {\n\t\tlocalMap = new window.ymaps.Map('map', {...state, controls: []}, {\n\t\t\tsearchControlProvider: 'yandex#search',\n\t\t\tsuppressMapOpenBlock: true,\n\t\t\tsuppressObsoleteBrowserNotifier: true,\n\t\t\thotspotLayerInteractivityModel: 'default#silent'\n\t\t})\n\n\t\tconst ZoomLayout = window.ymaps.templateLayoutFactory.createClass(\n\t\t\t\"<div class='zoom-btn-container'>\" +\n\t\t\t\"<div id='zoom-in' class='map-round-btn'><svg width='21' height='21' viewBox='0 0 21 21' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M10.5 1V20' stroke='#727272' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/><path d='M20 10.5L1 10.5' stroke='#727272' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/></svg></div>\" +\n\t\t\t\"<div id='zoom-out' class='map-round-btn'><svg width='21' height='19' viewBox='0 0 21 19' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M20 10.5L1 10.5' stroke='#727272' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/></svg></div>\" +\n\t\t\t\"</div>\", \n\t\t\t{\n\t\t\t\tbuild: function () {\n\t\t\t\t\tZoomLayout.superclass.build.call(this);\n\t\t\t\t\tthis.zoomInCallback = window.ymaps.util.bind(this.zoomIn, this);\n\t\t\t\t\tthis.zoomOutCallback = window.ymaps.util.bind(this.zoomOut, this);\n\n\t\t\t\t\twindow.document.getElementById('zoom-in').addEventListener('click', this.zoomInCallback);\n\t\t\t\t\twindow.document.getElementById('zoom-out').addEventListener('click', this.zoomOutCallback);\n\t\t\t\t},\n\t\t\t\tclear: function () {\n\t\t\t\t\twindow.document.getElementById('zoom-in').removeEventListener('click', this.zoomInCallback);\n\t\t\t\t\twindow.document.getElementById('zoom-out').removeEventListener('click', this.zoomOutCallback);\n\t\t\t\t\tZoomLayout.superclass.clear.call(this);\n\t\t\t\t},\n\t\t\t\tzoomIn: function () {\n\t\t\t\t\tconst map = this.getData().control.getMap();\n\t\t\t\t\tmap.setZoom(map.getZoom() + 1, {checkZoomRange: true});\n\t\t\t\t},\n\t\t\t\tzoomOut: function () {\n\t\t\t\t\tconst map = this.getData().control.getMap();\n\t\t\t\t\tmap.setZoom(map.getZoom() - 1, {checkZoomRange: true});\n\t\t\t\t}\n\t\t\t}\n\t\t)\n\n\t\tconst zoomControl = new window.ymaps.control.ZoomControl({\n\t\t\toptions: {layout: ZoomLayout}\n\t\t})\n\n\t\tlocalMap.controls.add(zoomControl, {\n\t\t\tposition: {\n\t\t\t\ttop: mapHeight / 2 - 60,\n\t\t\t\tright: 10\n\t\t\t}\n\t\t})\n\n\t\tconst GeoLayout = window.ymaps.templateLayoutFactory.createClass(\n\t\t\t\"<div id='cur-geo' class='map-round-btn map-round-btn-sm'><svg width='21' height='21' viewBox='0 0 21 21' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M10.5 7C8.56625 7 7 8.56625 7 10.5C7 12.4337 8.56625 14 10.5 14C12.4338 14 14 12.4337 14 10.5C14 8.56625 12.4338 7 10.5 7ZM18.3225 9.625C17.92 5.97625 15.0238 3.08 11.375 2.6775V0.875H9.625V2.6775C5.97625 3.08 3.08 5.97625 2.6775 9.625H0.875V11.375H2.6775C3.08 15.0237 5.97625 17.92 9.625 18.3225V20.125H11.375V18.3225C15.0238 17.92 17.92 15.0237 18.3225 11.375H20.125V9.625H18.3225ZM10.5 16.625C7.11375 16.625 4.375 13.8862 4.375 10.5C4.375 7.11375 7.11375 4.375 10.5 4.375C13.8863 4.375 16.625 7.11375 16.625 10.5C16.625 13.8862 13.8863 16.625 10.5 16.625Z' fill='#727272'/></svg></div>\",\n\t\t\t{\n\t\t\t\tbuild: function () {\n\t\t\t\t\tGeoLayout.superclass.build.call(this);\n\t\t\t\t\tthis.currentGeo = window.ymaps.util.bind(this.curGeoClick, this);\n\t\t\t\t\twindow.document.getElementById('cur-geo').addEventListener('click', this.currentGeo);\n\t\t\t\t},\n\n\t\t\t\tclear: function () {\n\t\t\t\t\twindow.document.getElementById('cur-geo').removeEventListener('click', this.currentGeo);\n\t\t\t\t\tGeoLayout.superclass.clear.call(this);\n\t\t\t\t},\n\n\t\t\t\tcurGeoClick: function () {\n\t\t\t\t\twindow.ymaps.geolocation.get()\n\t\t\t\t\t\t.then(el => {\n\t\t\t\t\t\t\tlocalMap.setCenter(el.geoObjects.position, 16)\n\t\t\t\t\t\t\tconst mark = new window.ymaps.Placemark(el.geoObjects.position, {}, {\n\t\t\t\t\t\t\t\tdraggable: false,\n\t\t\t\t\t\t\t\ticonLayout: 'default#image',\n\t\t\t\t\t\t\t\ticonImageHref: kek,\n\t\t\t\t\t\t\t\ticonImageSize: [24, 24],\n\t\t\t\t\t\t\t\ticonImageOffset: [-12, -12]\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tlocalMap.geoObjects.add(mark)\n\t\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t)\n\n\t\tconst GeolocationControl = new window.ymaps.control.GeolocationControl({\n\t\t\toptions: {\n\t\t\t\tlayout: GeoLayout,\n\t\t\t\tnoPlacemark: true\n\t\t\t}\n\t\t})\n\n\t\tlocalMap.controls.add(GeolocationControl, {\n\t\t\tposition: {\n\t\t\t\tbottom: 20,\n\t\t\t\tright: 10\n\t\t\t}\n\t\t})\n\t\tconst createPlacemark = (coords, text)=> {\n\t\t\treturn new window.ymaps.Placemark(coords, {\n\t\t\t\ticonContent: text\n\t\t\t}, {\n\t\t\t\tdraggable: false,\n\t\t\t\ticonLayout: 'default#imageWithContent',\n\t\t\t\ticonImageHref: placemark,\n\t\t\t\ticonImageSize: [22, 30],\n\t\t\t\ticonImageOffset: [-11, -30],\n\t\t\t\ticonContentOffset: [30, 5],\n\t\t\t\ticonContentLayout: window.ymaps.templateLayoutFactory.createClass(\n\t\t\t\t\t'<div style=\"color: #2A2A2A; font-size: 18px; white-space: nowrap;\">{{ properties.iconContent }}</div>'\n\t\t\t\t)\n\t\t\t});\n\t\t}\n\n\t\tconst setCenter = coords => {\n\t\t\treturn localMap.setCenter(coords, 18)\n\t\t}\n\n\t\tconst points = cafes.map(el => {\n\t\t\treturn {\n\t\t\t\tcoords: el.addressCoord,\n\t\t\t\ttext: el.title,\n\t\t\t\taddress: el.addressName,\n\t\t\t\tdata: el\n\t\t\t}\n\t\t})\n\n\t\tconst findPlaces = (arr, findName) => {\n\t\t\treturn arr.filter(value => {\n\t\t\t\tconst searchingName = findName.toLowerCase()\n\t\t\t\tif (\n\t\t\t\t\tvalue.text.toLowerCase().indexOf(searchingName) !== -1 ||\n\t\t\t\t\tvalue.address.toLowerCase().indexOf(searchingName) !== -1\n\t\t\t\t) {\n\t\t\t\t\treturn true\n\t\t\t\t} else {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tconst SeggestProvider = {\n\t\t\tsuggest: (request, options) => {\n\t\t\t\tconst res = findPlaces(points, request)\n\t\t\t\tconst results = Math.min(options.results, res.length)\n\t\t\t\tlet arrayResult = []\n\t\t\t\tfor (var i = 0; i < results; i++) {\n\t\t\t\t\tarrayResult.push({\n\t\t\t\t\t\tdisplayName: `<span style=\"font-size: 12px; color: #2A2A2A;\">${res[i].text},</span> <small style=\"font-size: 12px; color: #BABABA;\">${res[i].address}</small>`,\n\t\t\t\t\t\tvalue: res[i].text,\n\t\t\t\t\t\tcoords: res[i].coords\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\treturn window.ymaps.vow.resolve(arrayResult);\n\t\t\t}\n\t\t}\n\n\t\tconst suggestView1 = new window.ymaps.SuggestView('suggested', {\n\t\t\tprovider: SeggestProvider,\n\t\t\tresults: 5\n\t\t})\n\n\t\tsuggestView1.events.add('select', e => {\n\t\t\tconst coords = e.get('item').coords\n\n\t\t\tsetCenter(coords)\n\t\t})\n\n\t\tconst clusterer = new window.ymaps.Clusterer({\n\t\t\tclusterIcons: [\n\t\t\t\t{\n\t\t\t\t\thref: placemark,\n\t\t\t\t\tsize: [26, 39],\n\t\t\t\t\toffset: [-13, -39]\n\t\t\t\t}\n\t\t\t],\n\t\t\tzoomMargin: 50,\n\t\t\tclusterNumbers: [3],\n\t\t\tclusterIconContentLayout: window.ymaps.templateLayoutFactory.createClass(\n\t\t\t\t'<div style=\"color: #FFFFFF; font-weight: bold;\">{{ properties.geoObjects.length }}<div>'\n\t\t\t)\n\t\t})\n\n\t\tclusterer.add(\n\t\t\tpoints.map(el => {\n\t\t\t\tlet placemark = createPlacemark(el.coords, el.text)\n\t\t\t\tplacemark.events.add('click', e => {\n\t\t\t\t\tlocalMap.setCenter(el.coords, 18, {})\n\t\t\t\t\topenSmallModal(el.data)\n\t\t\t\t\te.stopPropagation()\n\t\t\t\t})\n\n\t\t\t\treturn placemark;\n\t\t\t})\n\t\t)\n\n\t\tlocalMap.geoObjects.add(clusterer);\n\t\t// localMap.setBounds(clusterer.getBounds(), {});\n\n\t\tsetLocalMapId(localMap)\n\t\tsetIsLoading(false)\n\t}\n\n\tconst openSmallModal = el => {\n\t\tsetModalData(el)\n\t\tsetModalType(\"small\")\n\t}\n\n\tconst onCloseModal = () => {\n\t\tsetModalType(\"\")\n\t}\n\n\treturn (\n\t\t<section className={ styles.mapPage }>\n\n\t\t\t<div className={`map-input-container ${isSearchShow ? \"show-input\" : \"\"}`}>\n\t\t\t\t<div className=\"search-input-body\">\n\t\t\t\t\t<div className=\"search-input-icon\">\n\t\t\t\t\t\t<i className=\"fas fa-search\" />\n\t\t\t\t\t</div>\n\t\t\n\t\t\t\t\t<input type=\"text\" id=\"suggested\" value={searchValue}\n\t\t\t\t\t\tonChange={e => setSearchValue(e.target.value)}\n\t\t\t\t\t\tplaceholder=\"Search\"\n\t\t\t\t\t/>\n\t\t\n\t\t\t\t\t<div className=\"clear-input-btn\"\n\t\t\t\t\t\tonClick={() => setSearchValue(\"\")}\n\t\t\t\t\t\tstyle={{display: searchValue === \"\" ? \"none\" : \"flex\"}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-times-circle\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div className=\"search-input-cancel\"\n\t\t\t\t\tonClick={() => setSearchShow(false)}\n\t\t\t\t>\n\t\t\t\t\tCancel\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className={`map-round-btn map-search-btn ${isSearchShow ? \"hide-search-btn\" : \"\"}`}\n\t\t\t\tonClick={() => setSearchShow(true)}\n\t\t\t>\n\t\t\t\t<svg width=\"21\" height=\"21\" viewBox=\"0 0 21 21\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"8.48528\" cy=\"8.73218\" r=\"5\" transform=\"rotate(-45 8.48528 8.73218)\" stroke=\"#727272\" strokeWidth=\"2\"/><path d=\"M12.3743 12.6212L16.2634 16.5103\" stroke=\"#727272\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/></svg>\n\t\t\t</div>\n\n\t\t\t<div id=\"map\" style={{flexGrow: 1, backgroundColor: \"#fff\"}} />\n\n\t\t\t{modalData &&\n\t\t\t\t<MapModal\n\t\t\t\t\theight={modalHeight}\n\t\t\t\t\ttype={modalType}\n\t\t\t\t\tdata={modalData}\n\t\t\t\t\tonClose={onCloseModal}\n\t\t\t\t/>\n\t\t\t}\n\n\t\t\t{/* {modalData && device !== \"mobile\" && modalType === \"full\" &&\n\t\t\t\t<MapTabletFullModal\n\t\t\t\t\theight={modalHeight}\n\t\t\t\t\ttype={modalType}\n\t\t\t\t\tdata={modalData}\n\t\t\t\t\tonClose={onCloseModal}\n\t\t\t\t/>\n\t\t\t} */}\n\t\t</section>\n\t)\n}\n\nexport default React.memo(MapPage);\n"],"sourceRoot":""}