(window.webpackJsonp=window.webpackJsonp||[]).push([[3,4],{48:function(e,t,a){"use strict";function o(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var n=a(14),s=a(0),l=a.n(s),r=a(5),c=a(49),i=a.n(c);t.a=l.a.memo(function(e){var t=e.numOfLikes,a=e.className,c=e.id,d=Object(s.useContext)(r.a),m=Object(s.useState)(0),u=Object(n.a)(m,2),p=u[0],h=u[1],f=d.state.likedCafes.includes(c);Object(s.useEffect)(function(){h(Number(t))},[]);return l.a.createElement("section",{className:"".concat(i.a.like," ").concat(a)},l.a.createElement("div",{className:i.a.like_icon,onClick:function(){var e,t=o(d.state.likedCafes);if(f){var a=t.filter(function(e){return e!==c});e="dec",h(p-1),d.update({likedCafes:a})}else t.push(c),e="inc",h(p+1),d.update({likedCafes:t});fetch("https://europe-west1-mirum-e30cc.cloudfunctions.net/api/cafes/".concat(c,"/like/").concat(e),{method:"PUT"}).then(function(e){return e.json()}).then(function(e){return h(e.likes)})}},l.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 21 21",fill:f?"#FF2929":"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M20.4673 6.60488L20.4688 6.6218L20.4715 6.63858C20.4862 6.73014 20.5853 7.44813 20.2997 8.65667L20.2997 8.65682C19.8888 10.3984 18.9388 11.9878 17.5446 13.2519C17.5441 13.2524 17.5436 13.2528 17.5431 13.2532L10.44 19.5899L3.4571 13.253L3.45682 13.2528C2.0619 11.9889 1.11132 10.3986 0.700268 8.65679L0.700247 8.6567C0.414631 7.44742 0.513961 6.72978 0.528643 6.63948L0.531481 6.62203L0.533079 6.60442C0.820667 3.43488 3.03853 1.23746 5.71797 1.23746C7.48855 1.23746 9.07782 2.18316 10.0103 3.77886L10.4373 4.50947L10.8713 3.783C11.8104 2.21089 13.4737 1.23786 15.282 1.23786C17.9618 1.23786 20.1793 3.43527 20.4673 6.60488Z",stroke:f?"#FF2929":"#2A2A2A"}))),l.a.createElement("div",{className:i.a.like_count},p))})},49:function(e,t,a){e.exports={like:"styles_like__2y23N",like_icon:"styles_like_icon__2lgM5",like_count:"styles_like_count__ru3H3"}},50:function(e,t,a){"use strict";var o=a(0),n=a.n(o),s=a(7),l=a(51),r=a.n(l);t.a=Object(s.e)(n.a.memo(function(e){var t=e.className,a=e.id,o=e.withClick,s=void 0!==o&&o,l=e.label,c=e.withArrow,i=void 0!==c&&c,d=e.metro;return n.a.createElement("section",{className:"".concat(r.a.metro," ").concat(t),onClick:s?function(){e.history.push("/map/".concat(a))}:null},n.a.createElement("div",{className:r.a.metro_icon,style:{backgroundColor:function(){var e="";switch(d){case"\u0414\u0435\u0432\u044f\u0442\u043a\u0438\u043d\u043e":case"\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u043a\u0438\u0439 \u043f\u0440.":case"\u0410\u043a\u0430\u0434\u0435\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f":case"\u041f\u043e\u043b\u0438\u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0430\u044f":case"\u041f\u043b\u043e\u0449\u0430\u0434\u044c \u041c\u0443\u0436.":case"\u041b\u0435\u0441\u043d\u0430\u044f":case"\u0412\u044b\u0431\u043e\u0440\u0433\u0441\u043a\u0430\u044f":case"\u041f\u043b\u043e\u0449\u0430\u0434\u044c \u041b\u0435\u043d\u0438\u043d\u0430":case"\u0427\u0435\u0440\u043d\u044b\u0448\u0435\u0432\u0441\u043a\u0430\u044f":case"\u041f\u043b\u043e\u0449\u0430\u0434\u044c \u0412\u043e\u0441\u0441\u0442.":case"\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u0441\u043a\u0430\u044f":case"\u041f\u0443\u0448\u043a\u0438\u043d\u0441\u043a\u0430\u044f":case"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0439":case"\u0411\u0430\u043b\u0442\u0438\u0439\u0441\u043a\u0430\u044f":case"\u041d\u0430\u0440\u0432\u0441\u043a\u0430\u044f":case"\u041a\u0438\u0440\u043e\u0432\u0441\u043a\u0438\u0439 \u0437\u0430\u0432\u043e\u0434":case"\u041b\u0435\u043d\u0438\u043d\u0441\u043a\u0438\u0439 \u043f\u0440.":case"\u041f\u0440. \u0412\u0435\u0442\u0435\u0440\u0430\u043d\u043e\u0432":e="#D61C38";break;case"\u041f\u0430\u0440\u043d\u0430\u0441":case"\u041f\u0440. \u041f\u0440\u043e\u0441\u0432\u0435\u0449\u0435\u043d\u0438\u044f":case"\u041e\u0437\u0435\u0440\u043a\u0438":case"\u0423\u0434\u0435\u043b\u044c\u043d\u0430\u044f":case"\u041f\u0438\u043e\u043d\u0435\u0440\u0441\u043a\u0430\u044f":case"\u0427\u0435\u0440\u043d\u0430\u044f \u0420\u0435\u0447\u043a\u0430":case"\u041f\u0435\u0442\u0440\u043e\u0433\u0440\u0430\u0434\u0441\u043a\u0430\u044f":case"\u0413\u043e\u0440\u044c\u043a\u043e\u0432\u0441\u043a\u0430\u044f":case"\u041d\u0435\u0432\u0441\u043a\u0438\u0439 \u043f\u0440.":case"\u0421\u0435\u043d\u043d\u0430\u044f \u041f\u043b\u043e\u0449\u0430\u0434\u044c":case"\u0424\u0440\u0443\u043d\u0437\u0435\u043d\u0441\u043a\u0430\u044f":case"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0432\u043e\u0440.":case"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u0441\u0438\u043b\u0430":case"\u041f\u0430\u0440\u043a \u043f\u043e\u0431\u0435\u0434\u044b":case"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0430\u044f":case"\u0417\u0432\u0435\u0437\u0434\u043d\u0430\u044f":case"\u041a\u0443\u043f\u0447\u0438\u043d\u043e":e="#007DCC";break;case"\u0411\u0435\u0433\u043e\u0432\u0430\u044f":case"\u041d\u043e\u0432\u043e\u043a\u0440\u0435\u0441\u0442\u043e\u0432\u0441\u043a\u0430\u044f":case"\u041f\u0440\u0438\u043c\u043e\u0440\u0441\u043a\u0430\u044f":case"\u0412\u0430\u0441\u0438\u043b\u0435\u043e\u0441\u0442\u0440\u043e\u0432\u0441\u043a\u0430\u044f":case"\u0413\u043e\u0441\u0442\u0438\u043d\u044b\u0439 \u0414\u0432\u043e\u0440":case"\u041c\u0430\u044f\u043a\u043e\u0432\u0441\u043a\u0430\u044f":case"\u041f\u043b\u043e\u0449\u0430\u0434\u044c \u0410\u043b. \u041d.":case"\u0415\u043b\u0438\u0437\u0430\u0440\u043e\u0432\u0441\u043a\u0430\u044f":case"\u041b\u043e\u043c\u043e\u043d\u043e\u0441\u043e\u0432\u0441\u043a\u0430\u044f":case"\u041f\u0440\u043e\u043b\u0435\u0442\u0430\u0440\u0441\u043a\u0430\u044f":case"\u0420\u044b\u0431\u0430\u0446\u043a\u043e\u0435":e="#009959";break;case"\u0421\u043f\u0430\u0441\u0441\u043a\u0430\u044f":case"\u0414\u043e\u0441\u0442\u043e\u0435\u0432\u0441\u043a\u0430\u044f":case"\u041b\u0438\u0433\u043e\u0432\u0441\u043a\u0438\u0439 \u043f\u0440.":case"\u041d\u043e\u0432\u043e\u0447\u0435\u0440\u043a\u0430\u0441\u0441\u043a\u0430\u044f":case"\u041b\u0430\u0434\u043e\u0436\u0441\u043a\u0430\u044f":case"\u041f\u0440. \u0411\u043e\u043b\u044c\u0448\u0435\u0432\u0438\u043a\u043e\u0432":case"\u0423\u043b. \u0414\u044b\u0431\u0435\u043d\u043a\u043e":e="#DE7008";break;case"\u041a\u043e\u043c\u0435\u043d\u0434\u0430\u043d\u0442\u0441\u043a\u0438\u0439":case"\u0421\u0442\u0430\u0440\u0430\u044f \u0414\u0435\u0440\u0435\u0432\u043d\u044f":case"\u041a\u0440\u0435\u0441\u0442\u043e\u0432\u0441\u043a\u0438\u0439 \u041e\u0441\u0442.":case"\u0427\u043a\u0430\u043b\u043e\u0432\u0441\u043a\u0430\u044f":case"\u0421\u043f\u043e\u0440\u0442\u0438\u0432\u043d\u0430\u044f":case"\u0410\u0434\u043c\u0438\u0440\u0430\u043b\u0442\u0435\u0439\u0441\u043a\u0430\u044f":case"\u0421\u0430\u0434\u043e\u0432\u0430\u044f":case"\u0417\u0432\u0435\u043d\u0438\u0433\u043e\u0440\u043e\u0434\u0441\u043a\u0430\u044f":case"\u041e\u0431\u0432\u043e\u0434\u043d\u044b\u0439 \u043a\u0430\u043d\u0430\u043b":case"\u0412\u043e\u043b\u043a\u043e\u0432\u0441\u043a\u0430\u044f":case"\u0411\u0443\u0445\u0430\u0440\u0435\u0441\u0442\u0441\u043a\u0430\u044f":case"\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u0430\u044f":case"\u041f\u0440\u043e\u0441\u043f\u0435\u043a\u0442 \u0441\u043b\u0430\u0432\u044b":case"\u0414\u0443\u043d\u0430\u0439\u0441\u043a\u0430\u044f":case"\u0428\u0443\u0448\u0430\u0440\u044b":e="#6E0A78";break;default:e="rgba(255, 255, 255, 0)"}return e}()}}),n.a.createElement("div",{className:r.a.metro_label},l),i&&n.a.createElement("div",{className:r.a.metro_arrow},n.a.createElement("svg",{width:"7",height:"12",viewBox:"0 0 7 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M1 1L6 6L1 11",stroke:"#727272"}))))}))},51:function(e,t,a){e.exports={metro:"styles_metro__Qvg4e",metro_icon:"styles_metro_icon__1eyHd",metro_label:"styles_metro_label__1zzzM",metro_arrow:"styles_metro_arrow__2s9-B"}},52:function(e,t,a){"use strict";var o=a(0),n=a.n(o),s=a(5),l=a(53),r=a.n(l);t.a=n.a.memo(function(e){var t=e.className,a=e.id,l=e.page,c=Object(o.useContext)(s.a);return n.a.createElement("button",{className:"".concat(r.a.shareBtn," ").concat(t),onClick:function(){c.update({shareModalOpen:!0,shareModalPage:l,shareModalId:a})}},n.a.createElement("span",null,"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"))})},53:function(e,t,a){e.exports={shareBtn:"styles_shareBtn__qt8ex"}},54:function(e,t,a){e.exports={postCard:"styles_postCard__2WqTh",postCardImage:"styles_postCardImage__10v2l",postCardImage_container:"styles_postCardImage_container__2GzJI",postCardInfo:"styles_postCardInfo__Ww4l_",postCardTitle:"styles_postCardTitle__2Gk1K",postCardAdress:"styles_postCardAdress__3ot8p",postCardLike:"styles_postCardLike__jOPw5",postCardLikeContainer:"styles_postCardLikeContainer__1RM0j",postCardInstagramLink:"styles_postCardInstagramLink__343iL",postCardAbout:"styles_postCardAbout__r0OLo",postCardComments:"styles_postCardComments__3sb8L",postCardTextInput:"styles_postCardTextInput__2BZNn",postCardTextInput_input:"styles_postCardTextInput_input__1qzzR",postCardTextInput_button:"styles_postCardTextInput_button__CGoJK",border:"styles_border__F_P4d"}},55:function(e,t,a){e.exports={slider:"styles_slider__1zfyK",main:"styles_main__1jPID",photoCount:"styles_photoCount__3zhfQ",swiper:"styles_swiper__3NMFa",imageHolder:"styles_imageHolder__1QFBn",move:"styles_move__1xnPW",moveContainer:"styles_moveContainer__3MA41",moveContainer_left:"styles_moveContainer_left__1K8OF",moveContainer_right:"styles_moveContainer_right__3fVtY",authorText:"styles_authorText__3MOUC",back:"styles_back__2yDlz",next:"styles_next__2m3Se"}},56:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),s=a(5),l=a(54),r=a.n(l),c=a(48),i=a(50),d=a(52),m=a(15),u=a(16),p=a(18),h=a(17),f=a(19),v=a(55),w=a.n(v),_=function(e){function t(){var e,a;Object(m.a)(this,t);for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).isOx=null,a.isOy=null,a.lastTouch=0,a.imageWidth=a.context.state.width,a.state={imgs:[],currentIndex:0,movement:0,transitionDuration:"0s"},a.handleTouchStart=function(e){a.lastTouch=e.nativeEvent.touches[0].clientX,a.startY=e.nativeEvent.touches[0].clientY,a.startX=e.nativeEvent.touches[0].clientX},a.handleTouchMove=function(e){var t=a.lastTouch-e.nativeEvent.touches[0].clientX,o=e.nativeEvent.touches[0].clientX-a.startX;a.lastTouch=e.nativeEvent.touches[0].clientX;var n=e.nativeEvent.touches[0].clientY-a.startY;null===a.isOx&&null===a.isOy&&(Math.abs(n)<Math.abs(o)?a.isOx=!0:a.isOy=!0),a.isOx&&(document.body.style.overflowY="hidden",a.handleMovement(t),e.preventDefault())},a.handleTouchEnd=function(){a.handleMovementEnd(),document.body.style.overflowY="scroll",a.lastTouch=0,a.isOx=null,a.isOy=null},a.handleMovement=function(e){var t=a.state.imgs.length-1,o=a.state.movement+e;o<0&&(o=0),o>t*a.imageWidth&&(o=t*a.imageWidth),a.setState({movement:o,transitionDuration:"0s"})},a.handleMovementEnd=function(){var e=a.state,t=e.movement,o=e.currentIndex,n=t/a.imageWidth,s=n%1,l=n-s,r=l-o,c=l;r>=0?s>=.1&&(c+=1):r<0&&(c=o-Math.abs(r),s>.9&&(c+=1)),a.transitionTo(c,Math.min(.5,1-Math.abs(s)))},a.transitionTo=function(e,t){a.setState({currentIndex:e,movement:e*a.imageWidth,transitionDuration:"".concat(t,"s")})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({imgs:this.props.images})}},{key:"render",value:function(){var e=this,t=this.state,a=t.currentIndex,o=t.movement,s=t.transitionDuration,l=t.imgs,r=l.length-1,c=r*this.imageWidth;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:w.a.slider},n.a.createElement("div",{className:w.a.main,style:{width:"".concat(this.imageWidth,"px"),height:"".concat(this.imageWidth,"px")},onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd},n.a.createElement("div",{className:w.a.photoCount},"".concat(a+1,"/").concat(r+1)),n.a.createElement("div",{className:w.a.swiper,style:{transform:"translateX(".concat(-1*o,"px)"),transitionDuration:s}},l.map(function(e,t){return n.a.createElement("div",{key:t,className:w.a.imageHolder},n.a.createElement("img",{alt:"Cafe img num. ".concat(t,". author: ").concat(e.author),decoding:"auto",sizes:"(max-width: 374px) 640w, (max-width: 699px) 750w, (min-width: 700px) 1080w",srcSet:"".concat(e[640]," 640w, ").concat(e[750]," 750w, ").concat(e[1080]," 1080w"),src:e.source,style:{objectFit:"cover"}}))})),0!==o&&n.a.createElement("div",{className:"".concat(w.a.moveContainer," ").concat(w.a.moveContainer_left),onClick:function(){e.transitionTo(a-1,.5)}},n.a.createElement("button",{className:w.a.move},n.a.createElement("svg",{width:"6",height:"8",viewBox:"0 0 6 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M4.11108 0.666626L0.777751 3.99996L4.11108 7.33329",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"})))),o!==c&&n.a.createElement("div",{className:"".concat(w.a.moveContainer," ").concat(w.a.moveContainer_right),onClick:function(){e.transitionTo(a+1,.5)}},n.a.createElement("button",{className:w.a.move},n.a.createElement("svg",{width:"5",height:"8",viewBox:"0 0 5 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.888916 0.666626L4.22225 3.99996L0.888916 7.33329",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"})))))),n.a.createElement("p",{className:w.a.authorText},l&&l[a]&&l[a].author?"".concat(l[a].author):""))}}]),t}(n.a.Component);_.contextType=s.a;var g=_;t.default=n.a.memo(function(e){var t=Object(o.useContext)(s.a);console.log(e);var a=e.data?e.data.id:e.match.params.id,l=e.data?e.data:t.state.cafes.read().find(function(e){return e.id===a}),m=l.title,u=l.addressName,p=l.likes,h=l.mainText,f=l.photos,v=l.smallText,w=l.instagramLink,_=l.metroName;return n.a.createElement("article",{className:r.a.postCard},n.a.createElement(g,{images:f}),n.a.createElement("section",{className:r.a.postCardInfo},n.a.createElement("div",{className:r.a.postCardTitle},n.a.createElement("h1",null,m),n.a.createElement(d.a,{page:e.data?"map":"post",id:a})),n.a.createElement(i.a,{className:r.a.postCardAdress,label:u,metro:_,withArrow:!e.disableAddress,withClick:!e.disableAddress,id:a}),n.a.createElement("div",{className:r.a.postCardLikeContainer},n.a.createElement(c.a,{className:r.a.postCardLike,numOfLikes:p,id:a}),n.a.createElement("a",{className:r.a.postCardInstagramLink,href:w||"",target:"_blank",rel:"noopener noreferrer"},"Instagram")),n.a.createElement("p",{className:r.a.postCardAbout},v),n.a.createElement("p",{className:r.a.postCardAbout},h)))})},57:function(e,t,a){e.exports={mapPage:"styles_mapPage__1XzgJ",map:"styles_map__2Dvyj"}},58:function(e,t){e.exports="data:image/png;base64,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"},59:function(e,t,a){e.exports=a.p+"static/media/geo.ff75b9d2.svg"},60:function(e,t,a){e.exports={mapModalWindow:"styles_mapModalWindow__2KlXr",mapModalHeader:"styles_mapModalHeader__vLP-3",mapModalHeader_close:"styles_mapModalHeader_close__21EFD",mapModalHeader_arrow:"styles_mapModalHeader_arrow__3Fsuo",mapModalBody:"styles_mapModalBody__1iX1f",open:"styles_open__3Ygme",mapModal_arrowTablet:"styles_mapModal_arrowTablet__1qwmO",smallInfoContainer:"styles_smallInfoContainer__3jDIO"}},61:function(e,t,a){e.exports={smallModal:"styles_smallModal__25cKR",smallModal_body:"styles_smallModal_body__2m5bP",smallModal_img:"styles_smallModal_img__27o4q",smallModal_info:"styles_smallModal_info__31Ebs",smallModal_description:"styles_smallModal_description__2LVB3",smallModal_about:"styles_smallModal_about__1XCGQ",smallModal_author:"styles_smallModal_author__3cFcr",smallModal_like:"styles_smallModal_like__XTjda",smallModal_footer:"styles_smallModal_footer__1st1A"}},62:function(e,t,a){e.exports={mapModalWindow:"styles_mapModalWindow__KEUDy",mapModalHeader:"styles_mapModalHeader__1nkwu",mapModalHeader_close:"styles_mapModalHeader_close__2C93Y",mapModalHeader_arrow:"styles_mapModalHeader_arrow__3EJaW",mapModalBody:"styles_mapModalBody__2FTyT",open:"styles_open__20rFn",mapModal_arrowTablet:"styles_mapModal_arrowTablet__s3WN5",smallInfoContainer:"styles_smallInfoContainer__2jq9I"}},65:function(e,t,a){"use strict";a.r(t);var o=a(24),n=a(14),s=a(0),l=a.n(s),r=a(5),c=a(57),i=a.n(c),d=a(58),m=a.n(d),u=a(59),p=a.n(u),h=a(60),f=a.n(h),v=a(61),w=a.n(v),_=a(52),g=a(48),y=l.a.memo(function(e){var t=e.data,a=e.touchStart,o=e.touchMove,n=e.touchEnd,c=Object(s.useContext)(r.a),i=t.title,d=t.smallText,m=t.photos,u=t.id,p=t.likes,h=t.instagramLink,f=c.state.device;return l.a.createElement("div",{className:w.a.smallModal},l.a.createElement("div",{className:w.a.smallModal_body,onTouchStart:a,onTouchMove:o,onTouchEnd:n},l.a.createElement("div",{className:w.a.smallModal_img},l.a.createElement("img",{alt:"Main Cafe img. author: ".concat(m[0].author),decoding:"auto",src:m[0][640],style:{objectFit:"cover"}}),l.a.createElement("p",{className:w.a.smallModal_author},m[0].author)),l.a.createElement("div",{className:w.a.smallModal_info},l.a.createElement("h2",null,i),l.a.createElement("p",{className:w.a.smallModal_about},d),"mobile"!==f&&l.a.createElement("div",{className:w.a.smallModal_footer},l.a.createElement(g.a,{className:w.a.smallModal_like,numOfLikes:p,id:u}),l.a.createElement("a",{href:h||"",target:"_blank",rel:"noopener noreferrer"},"Instagram"),l.a.createElement(_.a,{page:"map",id:u})))),"mobile"===f&&l.a.createElement("div",{className:w.a.smallModal_footer},l.a.createElement(g.a,{className:w.a.smallModal_like,numOfLikes:p,id:u}),l.a.createElement("a",{href:h||"",target:"_blank",rel:"noopener noreferrer"},"Instagram"),l.a.createElement(_.a,{page:"map",id:u})))}),b=a(56),C=l.a.memo(function(e){var t=e.type,a=e.height,o=e.data,c=e.onClose,i=Object(s.useContext)(r.a),d=Object(s.useState)(""),m=Object(n.a)(d,2),u=m[0],p=m[1],h=Object(s.useState)(!1),v=Object(n.a)(h,2),w=v[0],_=v[1],g=null,C=i.state.device;Object(s.useEffect)(function(){p(t)},[t]);var k=function(e){g=e.nativeEvent.touches[0].clientY},E=function(e){var t=g-e.nativeEvent.touches[0].clientY;w||x(t)},M=function(){_(!1),g=0},x=function(e){_(!0),e>0&&"small"===u?p("full"):e<0&&"full"===u&&p("small")};return l.a.createElement("div",{className:f.a.mapModalWindow,style:{bottom:"-".concat(a,"px"),height:"".concat(a,"px"),transform:"small"===u?"translateY(-216px)":"full"===u?"translateY(-".concat(a,"px)"):"translateY(0)"}},l.a.createElement("div",{className:f.a.mapModalHeader,onTouchStart:k,onTouchMove:E,onTouchEnd:M},"mobile"===C&&l.a.createElement("div",{className:f.a.mapModalHeader_arrow,onClick:function(){p("full"===u?"small":"full")},style:{top:"full"===u?"14px":"12px"}},"full"===u?l.a.createElement("svg",{width:"20",height:"9",viewBox:"0 0 20 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M19 1.66669L10 7.66669L1 1.66669",stroke:"#727272",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})):l.a.createElement("svg",{width:"20",height:"8",viewBox:"0 0 20 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M1 7L10 1L19 7",stroke:"#727272",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))),l.a.createElement("div",{className:f.a.mapModalHeader_close,onClick:function(){c(),p("")}},l.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M15 1L1 15M1 1L15 15",stroke:"#727272",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),l.a.createElement("div",{className:f.a.mapModalBody,style:{overflowY:"full"===u?"scroll":"hidden"}},"full"===u?l.a.createElement(b.default,{data:o,disableAddress:!0}):l.a.createElement("div",{className:f.a.smallInfoContainer},l.a.createElement(y,{data:o,touchStart:k,touchMove:E,touchEnd:M}),"mobile"!==C&&l.a.createElement("div",{className:f.a.mapModal_arrowTablet,onClick:function(){p("full"===u?"small":"full")}},l.a.createElement("svg",{width:"8",height:"20",viewBox:"0 0 8 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M1 1L7 10L0.999999 19",stroke:"#727272","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))))))}),k=a(62),E=a.n(k);l.a.memo(function(e){var t=e.type,a=e.height,o=e.data,c=e.onClose,i=Object(s.useContext)(r.a),d=Object(s.useState)(""),m=Object(n.a)(d,2),u=m[0],p=m[1],h=Object(s.useState)(!1),f=Object(n.a)(h,2),v=f[0],w=f[1],_=null,g=i.state.device;Object(s.useEffect)(function(){p(t)},[t]);var C=function(e){_=e.nativeEvent.touches[0].clientY},k=function(e){var t=_-e.nativeEvent.touches[0].clientY;v||x(t)},M=function(){w(!1),_=0},x=function(e){w(!0),e>0&&"small"===u?p("full"):e<0&&"full"===u&&p("small")};return l.a.createElement("div",{className:E.a.mapModalWindow,style:{bottom:"-".concat(a,"px"),height:"".concat(a,"px"),transform:"small"===u?"translateY(-216px)":"full"===u?"translateY(-".concat(a,"px)"):"translateY(0)"}},l.a.createElement("div",{className:E.a.mapModalHeader,onTouchStart:C,onTouchMove:k,onTouchEnd:M},"mobile"===g&&l.a.createElement("div",{className:E.a.mapModalHeader_arrow,onClick:function(){p("full"===u?"small":"full")},style:{top:"full"===u?"14px":"12px"}},"full"===u?l.a.createElement("svg",{width:"20",height:"9",viewBox:"0 0 20 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M19 1.66669L10 7.66669L1 1.66669",stroke:"#727272",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})):l.a.createElement("svg",{width:"20",height:"8",viewBox:"0 0 20 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M1 7L10 1L19 7",stroke:"#727272",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))),l.a.createElement("div",{className:E.a.mapModalHeader_close,onClick:function(){c(),p("")}},l.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M15 1L1 15M1 1L15 15",stroke:"#727272",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),l.a.createElement("div",{className:E.a.mapModalBody,style:{overflowY:"full"===u?"scroll":"hidden"}},"full"===u?l.a.createElement(b.default,{data:o,disableAddress:!0}):l.a.createElement("div",{className:E.a.smallInfoContainer},l.a.createElement(y,{data:o,touchStart:C,touchMove:k,touchEnd:M}),"mobile"!==g&&l.a.createElement("div",{className:E.a.mapModal_arrowTablet,onClick:function(){p("full"===u?"small":"full")}},l.a.createElement("svg",{width:"8",height:"20",viewBox:"0 0 8 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M1 1L7 10L0.999999 19",stroke:"#727272","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))))))}),t.default=l.a.memo(function(e){var t,a=Object(s.useContext)(r.a),c=a.state.cafes.read(),d=e.match.params.id,u=(a.state.device,null),h=Object(s.useState)(!0),f=Object(n.a)(h,2),v=(f[0],f[1]),w=Object(s.useState)(""),_=Object(n.a)(w,2),g=_[0],y=_[1],b=Object(s.useState)(0),k=Object(n.a)(b,2),E=k[0],M=k[1],x=Object(s.useState)(null),L=Object(n.a)(x,2),A=L[0],O=L[1],j=Object(s.useState)(null),N=Object(n.a)(j,2),T=N[0],I=N[1],B=Object(s.useState)(!1),z=Object(n.a)(B,2),W=z[0],F=z[1],H=Object(s.useState)(""),S=Object(n.a)(H,2),V=S[0],X=S[1];Object(s.useLayoutEffect)(function(){if(!window.ymaps){var e=document.createElement("script");return document.createElement("script").type="text/javascript",e.src="https://api-maps.yandex.ru/2.1/?apikey=36c0289b-59c0-493e-9d11-69d0114f742e&load=package.geoObjects&lang=ru-RU",e.async=!0,e.type="text/javascript",e.onload=Z,document.body.appendChild(e),function(){document.body.removeChild(e)}}Z()},[]);var Z=function(){window.ymaps.ready(function(){window.ymaps.geolocation.get().then(function(e){var a=window.document.getElementById("map"),o=e.geoObjects.get(0).properties.get("boundedBy"),n=window.ymaps.util.bounds.getCenterAndZoom(o,[a.offsetWidth,a.offsetHeight-50]);n.zoom=14,t=a.offsetHeight-50,M(.87*t),P(n)},function(){P({center:[55.751574,37.573856],zoom:9})})})};Object(s.useEffect)(function(){if(d&&T){var e=c.find(function(e){return e.id===d});T.setCenter(e.addressCoord,14),Y(e)}},[T]);var P=function(e){u=new window.ymaps.Map("map",Object(o.a)({},e,{controls:[]}),{searchControlProvider:"yandex#search",suppressMapOpenBlock:!0,suppressObsoleteBrowserNotifier:!0,hotspotLayerInteractivityModel:"default#silent"});var a=window.ymaps.templateLayoutFactory.createClass("<div class='zoom-btn-container'><div id='zoom-in' class='map-round-btn'><svg width='21' height='21' viewBox='0 0 21 21' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M10.5 1V20' stroke='#727272' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/><path d='M20 10.5L1 10.5' stroke='#727272' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/></svg></div><div id='zoom-out' class='map-round-btn'><svg width='21' height='19' viewBox='0 0 21 19' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M20 10.5L1 10.5' stroke='#727272' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/></svg></div></div>",{build:function(){a.superclass.build.call(this),this.zoomInCallback=window.ymaps.util.bind(this.zoomIn,this),this.zoomOutCallback=window.ymaps.util.bind(this.zoomOut,this),window.document.getElementById("zoom-in").addEventListener("click",this.zoomInCallback),window.document.getElementById("zoom-out").addEventListener("click",this.zoomOutCallback)},clear:function(){window.document.getElementById("zoom-in").removeEventListener("click",this.zoomInCallback),window.document.getElementById("zoom-out").removeEventListener("click",this.zoomOutCallback),a.superclass.clear.call(this)},zoomIn:function(){var e=this.getData().control.getMap();e.setZoom(e.getZoom()+1,{checkZoomRange:!0})},zoomOut:function(){var e=this.getData().control.getMap();e.setZoom(e.getZoom()-1,{checkZoomRange:!0})}}),n=new window.ymaps.control.ZoomControl({options:{layout:a}});u.controls.add(n,{position:{top:t/2-60,right:10}});var s=window.ymaps.templateLayoutFactory.createClass("<div id='cur-geo' class='map-round-btn map-round-btn-sm'><svg width='21' height='21' viewBox='0 0 21 21' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M10.5 7C8.56625 7 7 8.56625 7 10.5C7 12.4337 8.56625 14 10.5 14C12.4338 14 14 12.4337 14 10.5C14 8.56625 12.4338 7 10.5 7ZM18.3225 9.625C17.92 5.97625 15.0238 3.08 11.375 2.6775V0.875H9.625V2.6775C5.97625 3.08 3.08 5.97625 2.6775 9.625H0.875V11.375H2.6775C3.08 15.0237 5.97625 17.92 9.625 18.3225V20.125H11.375V18.3225C15.0238 17.92 17.92 15.0237 18.3225 11.375H20.125V9.625H18.3225ZM10.5 16.625C7.11375 16.625 4.375 13.8862 4.375 10.5C4.375 7.11375 7.11375 4.375 10.5 4.375C13.8863 4.375 16.625 7.11375 16.625 10.5C16.625 13.8862 13.8863 16.625 10.5 16.625Z' fill='#727272'/></svg></div>",{build:function(){s.superclass.build.call(this),this.currentGeo=window.ymaps.util.bind(this.curGeoClick,this),window.document.getElementById("cur-geo").addEventListener("click",this.currentGeo)},clear:function(){window.document.getElementById("cur-geo").removeEventListener("click",this.currentGeo),s.superclass.clear.call(this)},curGeoClick:function(){window.ymaps.geolocation.get().then(function(e){u.setCenter(e.geoObjects.position,16);var t=new window.ymaps.Placemark(e.geoObjects.position,{},{draggable:!1,iconLayout:"default#image",iconImageHref:p.a,iconImageSize:[24,24],iconImageOffset:[-12,-12]});u.geoObjects.add(t)})}}),l=new window.ymaps.control.GeolocationControl({options:{layout:s,noPlacemark:!0}});u.controls.add(l,{position:{bottom:20,right:10}});var r=c.map(function(e){return{coords:e.addressCoord,text:e.title,address:e.addressName,data:e}}),i={suggest:function(e,t){for(var a,o=(a=e,r.filter(function(e){var t=a.toLowerCase();return-1!==e.text.toLowerCase().indexOf(t)||-1!==e.address.toLowerCase().indexOf(t)})),n=Math.min(t.results,o.length),s=[],l=0;l<n;l++)s.push({displayName:'<span style="font-size: 12px; color: #2A2A2A;">'.concat(o[l].text,',</span> <small style="font-size: 12px; color: #BABABA;">').concat(o[l].address,"</small>"),value:o[l].text,coords:o[l].coords});return window.ymaps.vow.resolve(s)}};new window.ymaps.SuggestView("suggested",{provider:i,results:5}).events.add("select",function(e){!function(e){u.setCenter(e,18)}(e.get("item").coords)});var d=new window.ymaps.Clusterer({clusterIcons:[{href:m.a,size:[26,39],offset:[-13,-39]}],zoomMargin:50,clusterNumbers:[3],clusterIconContentLayout:window.ymaps.templateLayoutFactory.createClass('<div style="color: #FFFFFF; font-weight: bold;">{{ properties.geoObjects.length }}<div>')});d.add(r.map(function(e){var t,a,o=(t=e.coords,a=e.text,new window.ymaps.Placemark(t,{iconContent:a},{draggable:!1,iconLayout:"default#imageWithContent",iconImageHref:m.a,iconImageSize:[22,30],iconImageOffset:[-11,-30],iconContentOffset:[30,5],iconContentLayout:window.ymaps.templateLayoutFactory.createClass('<div style="color: #2A2A2A; font-size: 18px; white-space: nowrap;">{{ properties.iconContent }}</div>')}));return o.events.add("click",function(t){u.setCenter(e.coords,18,{}),Y(e.data),t.stopPropagation()}),o})),u.geoObjects.add(d),I(u),v(!1)},Y=function(e){O(e),y("small")};return l.a.createElement("section",{className:i.a.mapPage},l.a.createElement("div",{className:"map-input-container ".concat(W?"show-input":"")},l.a.createElement("div",{className:"search-input-body"},l.a.createElement("div",{className:"search-input-icon"},l.a.createElement("i",{className:"fas fa-search"})),l.a.createElement("input",{type:"text",id:"suggested",value:V,onChange:function(e){return X(e.target.value)},placeholder:"Search"}),l.a.createElement("div",{className:"clear-input-btn",onClick:function(){return X("")},style:{display:""===V?"none":"flex"}},l.a.createElement("i",{className:"fas fa-times-circle"}))),l.a.createElement("div",{className:"search-input-cancel",onClick:function(){return F(!1)}},"Cancel")),l.a.createElement("div",{className:"map-round-btn map-search-btn ".concat(W?"hide-search-btn":""),onClick:function(){return F(!0)}},l.a.createElement("svg",{width:"21",height:"21",viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("circle",{cx:"8.48528",cy:"8.73218",r:"5",transform:"rotate(-45 8.48528 8.73218)",stroke:"#727272",strokeWidth:"2"}),l.a.createElement("path",{d:"M12.3743 12.6212L16.2634 16.5103",stroke:"#727272",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),l.a.createElement("div",{id:"map",style:{flexGrow:1,backgroundColor:"#fff"}}),A&&l.a.createElement(C,{height:E,type:g,data:A,onClose:function(){y("")}}))})}}]);
//# sourceMappingURL=3.bae6ffb8.chunk.js.map