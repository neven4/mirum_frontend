{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/Like/index.js","components/Like/styles.module.scss","components/Metro/index.js","components/Metro/styles.module.scss","components/Main/styles.module.scss","components/MainCard/styles.module.scss","components/MainCard/index.js","components/Main/index.js"],"names":["_toConsumableArray","arr","Array","isArray","i","arr2","length","_arrayWithoutHoles","iter","Symbol","iterator","Object","prototype","toString","call","from","_iterableToArray","TypeError","_nonIterableSpread","React","memo","_ref","numOfLikes","className","id","context","useContext","Context","_useState","useState","_useState2","slicedToArray","likesNum","setLikesNum","isLiked","state","likedCafes","includes","useEffect","Number","react_default","a","createElement","concat","styles","like","like_icon","onClick","likeState","newLikedPosts","removedLikeArr","filter","el","update","push","fetch","method","then","res","json","data","likes","width","height","viewBox","fill","xmlns","d","stroke","like_count","module","exports","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","_styles_module_scss__WEBPACK_IMPORTED_MODULE_2__","_styles_module_scss__WEBPACK_IMPORTED_MODULE_2___default","withRouter","props","_props$withClick","withClick","label","_props$withArrow","withArrow","metro","history","metro_icon","style","backgroundColor","color","getMetroColor","metro_label","metro_arrow","main","main_container","mainCard","mainCard_footer","cardImage","cardImage_container","react_router_dom","to","backgroundImage","photos","Like","Metro","metroName","Main","cafes","read","map","components_MainCard","key"],"mappings":"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","file":"static/js/5.a13650b4.chunk.js","sourcesContent":["import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import React, {useContext, useState, useEffect} from 'react';\nimport Context from \"../../Context/Context\"\n\nimport styles from './styles.module.scss';\n\nconst Like = ({ numOfLikes, className, id }) => {\t\n\tconst context = useContext(Context)\n\tconst [likesNum, setLikesNum] = useState(0)\n\tconst isLiked = context.state.likedCafes.includes(id)\n\n\tuseEffect(() => {\n\t\tsetLikesNum(Number(numOfLikes))\n\t}, [])\n\n\tconst handleLikeClick = () => {\n\t\tconst newLikedPosts = [...context.state.likedCafes]\n\t\tlet likeState\n\n\t\tif (!isLiked) {\n\t\t\tnewLikedPosts.push(id)\n\t\t\tlikeState = \"inc\"\n\t\t\tsetLikesNum(likesNum + 1)\n\n\t\t\tcontext.update({\n\t\t\t\tlikedCafes: newLikedPosts\n\t\t\t})\n\t\t} else {\n\t\t\tconst removedLikeArr = newLikedPosts.filter(el => el !== id)\n\t\t\tlikeState = \"dec\"\n\t\t\tsetLikesNum(likesNum - 1)\n\t\n\t\t\tcontext.update({\n\t\t\t\tlikedCafes: removedLikeArr\n\t\t\t})\n\n\t\t}\n\n\t\tfetch(`https://europe-west1-mirum-e30cc.cloudfunctions.net/api/cafes/${id}/like/${likeState}`,\n\t\t\t{ method: \"PUT\" }\n\t\t)\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => setLikesNum(data.likes))\n\t}\n\n\treturn (\n\t\t<section className={ `${ styles.like } ${ className }` }>\n\t\t\t<div className={ styles.like_icon }\n\t\t\t\tonClick={ handleLikeClick }\n\t\t\t>\n\t\t\t\t<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 21 21\" fill={ isLiked ? '#FF2929' : 'none' } xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t<path d=\"M20.4673 6.60488L20.4688 6.6218L20.4715 6.63858C20.4862 6.73014 20.5853 7.44813 20.2997 8.65667L20.2997 8.65682C19.8888 10.3984 18.9388 11.9878 17.5446 13.2519C17.5441 13.2524 17.5436 13.2528 17.5431 13.2532L10.44 19.5899L3.4571 13.253L3.45682 13.2528C2.0619 11.9889 1.11132 10.3986 0.700268 8.65679L0.700247 8.6567C0.414631 7.44742 0.513961 6.72978 0.528643 6.63948L0.531481 6.62203L0.533079 6.60442C0.820667 3.43488 3.03853 1.23746 5.71797 1.23746C7.48855 1.23746 9.07782 2.18316 10.0103 3.77886L10.4373 4.50947L10.8713 3.783C11.8104 2.21089 13.4737 1.23786 15.282 1.23786C17.9618 1.23786 20.1793 3.43527 20.4673 6.60488Z\"\n\t\t\t\t\t\tstroke={ isLiked ? '#FF2929' : '#2A2A2A' }\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t</div>\n\n\t\t\t<div className={ styles.like_count }>\n\t\t\t\t{likesNum}\n\t\t\t</div>\n\t\t</section>\n\t);\n}\n\nexport default React.memo(Like);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"like\":\"styles_like__2y23N\",\"like_icon\":\"styles_like_icon__2lgM5\",\"like_count\":\"styles_like_count__ru3H3\"};","import React from 'react';\nimport { withRouter } from 'react-router-dom';\n\nimport styles from './styles.module.scss';\n\nconst Metro = props => {\n\tconst {\n\t\tclassName,\n\t\tid,\n\t\twithClick = false,\n\t\tlabel,\n\t\twithArrow = false,\n\t\tmetro\n\t} = props\n\n\tconst onMetroClick = () => {\n\t\tprops.history.push(`/map/${id}`)\n\t}\n\n\tconst getMetroColor = () => {\n\t\tlet color = \"\"\n\t\tswitch(metro) {\n\t\t\tcase \"Девяткино\":\n\t\t\tcase \"Гражданский пр.\":\n\t\t\tcase \"Академическая\":\n\t\t\tcase \"Политехническая\":\n\t\t\tcase \"Площадь Муж.\":\n\t\t\tcase \"Лесная\":\n\t\t\tcase \"Выборгская\":\n\t\t\tcase \"Площадь Ленина\":\n\t\t\tcase \"Чернышевская\":\n\t\t\tcase \"Площадь Восст.\":\n\t\t\tcase \"Владимирская\":\n\t\t\tcase \"Пушкинская\":\n\t\t\tcase \"Технологический\":\n\t\t\tcase \"Балтийская\":\n\t\t\tcase \"Нарвская\":\n\t\t\tcase \"Кировский завод\":\n\t\t\tcase \"Ленинский пр.\":\n\t\t\tcase \"Пр. Ветеранов\":\n\t\t\t\tcolor = \"#D61C38\";\n\t\t\t\tbreak;\n\t\t\tcase \"Парнас\":\n\t\t\tcase \"Пр. Просвещения\":\n\t\t\tcase \"Озерки\":\n\t\t\tcase \"Удельная\":\n\t\t\tcase \"Пионерская\":\n\t\t\tcase \"Черная Речка\":\n\t\t\tcase \"Петроградская\":\n\t\t\tcase \"Горьковская\":\n\t\t\tcase \"Невский пр.\":\n\t\t\tcase \"Сенная Площадь\":\n\t\t\tcase \"Фрунзенская\":\n\t\t\tcase \"Московские вор.\":\n\t\t\tcase \"Электросила\":\n\t\t\tcase \"Парк победы\":\n\t\t\tcase \"Московская\":\n\t\t\tcase \"Звездная\":\n\t\t\tcase \"Купчино\":\n\t\t\t\tcolor = \"#007DCC\";\n\t\t\t\tbreak;\n\t\t\tcase \"Беговая\":\n\t\t\tcase \"Новокрестовская\":\n\t\t\tcase \"Приморская\":\n\t\t\tcase \"Василеостровская\":\n\t\t\tcase \"Гостиный Двор\":\n\t\t\tcase \"Маяковская\":\n\t\t\tcase \"Площадь Ал. Н.\":\n\t\t\tcase \"Елизаровская\":\n\t\t\tcase \"Ломоносовская\":\n\t\t\tcase \"Пролетарская\":\n\t\t\tcase \"Рыбацкое\":\n\t\t\t\tcolor = \"#009959\";\n\t\t\t\tbreak;\n\t\t\tcase \"Спасская\":\n\t\t\tcase \"Достоевская\":\n\t\t\tcase \"Лиговский пр.\":\n\t\t\tcase \"Новочеркасская\":\n\t\t\tcase \"Ладожская\":\n\t\t\tcase \"Пр. Большевиков\":\n\t\t\tcase \"Ул. Дыбенко\":\n\t\t\t\tcolor = \"#DE7008\";\n\t\t\t\tbreak;\n\t\t\tcase \"Комендантский\":\n\t\t\tcase \"Старая Деревня\":\n\t\t\tcase \"Крестовский Ост.\":\n\t\t\tcase \"Чкаловская\":\n\t\t\tcase \"Спортивная\":\n\t\t\tcase \"Адмиралтейская\":\n\t\t\tcase \"Садовая\":\n\t\t\tcase \"Звенигородская\":\n\t\t\tcase \"Обводный канал\":\n\t\t\tcase \"Волковская\":\n\t\t\tcase \"Бухарестская\":\n\t\t\tcase \"Международная\":\n\t\t\tcase \"Проспект славы\":\n\t\t\tcase \"Дунайская\":\n\t\t\tcase \"Шушары\":\n\t\t\t\tcolor = \"#6E0A78\";\n\t\t\t\tbreak;\n\t\t\tdefault: color = \"rgba(255, 255, 255, 0)\"\n\t\t}\n\n\t\treturn color\n\t}\n\n\treturn (\n\t\t<section className={ `${ styles.metro } ${ className }`}\n\t\t\tonClick={withClick ? onMetroClick : null}\n\t\t>\n\t\t\t<div className={ styles.metro_icon }\n\t\t\t\tstyle={{backgroundColor: getMetroColor()}}\n\t\t\t/>\n\n\t\t\t<div className={ styles.metro_label }>\n\t\t\t\t{label}\n\t\t\t</div>\n\n\t\t\t{withArrow &&\n\t\t\t\t<div className={ styles.metro_arrow }>\n\t\t\t\t\t<svg width=\"7\" height=\"12\" viewBox=\"0 0 7 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t<path d=\"M1 1L6 6L1 11\" stroke=\"#727272\"/>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t}\n\t\t</section>\n\t);\n}\n\nexport default withRouter(React.memo(Metro));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"metro\":\"styles_metro__Qvg4e\",\"metro_icon\":\"styles_metro_icon__1eyHd\",\"metro_label\":\"styles_metro_label__1zzzM\",\"metro_arrow\":\"styles_metro_arrow__2s9-B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"styles_main__1L08G\",\"main_container\":\"styles_main_container__1I3Fb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainCard\":\"styles_mainCard__1TgGR\",\"mainCard_footer\":\"styles_mainCard_footer__1xmcV\",\"cardImage\":\"styles_cardImage__19e6P\",\"cardImage_container\":\"styles_cardImage_container__1m44u\"};","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport styles from './styles.module.scss';\n\nimport Like from '../Like';\nimport Metro from '../Metro';\n\nconst MainCard = ({ data }) => {\n\treturn (\n\t\t<section className={ styles.mainCard }>\n\t\t\t<Link\n\t\t\t\tto={`/post/${data.id}`}\n\t\t\t\tclassName={ styles.cardImage }\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclassName={ styles.cardImage_container }\n\t\t\t\t\tstyle={{backgroundImage: `url(${data.photos[0][\"640\"]})` }}\n\t\t\t\t/>\n\t\t\t</Link>\n\n\t\t\t<div className={ styles.mainCard_footer }>\n\t\t\t\t<Like\n\t\t\t\t\tnumOfLikes={data.likes}\n\t\t\t\t\tid={data.id}\n\t\t\t\t/>\n\n\t\t\t\t<Metro\n\t\t\t\t\tmetro={data.metroName}\n\t\t\t\t\tlabel={data.metroName}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</section>\n\t);\n}\n\nexport default React.memo(MainCard);\n","import React, {useContext} from 'react';\nimport Context from \"../../Context/Context\"\nimport styles from './styles.module.scss';\n\nimport MainCard from '../MainCard';\n\nconst Main = () => {\n\tconst context = useContext(Context)\n\n\tconst cafes = context.state.cafes.read()\n\t\n\treturn (\n\t\t\t<main className={ styles.main }>\n\t\t\t\t<h2>Лучшее</h2>\n\n\t\t\t\t<article className={ styles.main_container }>\n\t\t\t\t\t{cafes && cafes.map((el, i) => \n\t\t\t\t\t\t<MainCard data={el} key={`mainCard_${i}`}/>\n\t\t\t\t\t)}\n\t\t\t\t</article>\n\t\t\t</main>\n\t)\n}\n\nexport default Main;\n"],"sourceRoot":""}