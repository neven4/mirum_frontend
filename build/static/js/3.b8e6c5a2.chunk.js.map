{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/Like/index.js","components/Carousel/index.js","components/PostCard/index.js","components/ShareBtn/index.js","components/Metro/index.js","components/ShareBtn/styles.module.scss","components/Like/styles.module.scss","components/PostCard/styles.module.scss","components/Metro/styles.module.scss","components/Carousel/styles.module.scss","components/Map/styles.module.scss","images/placemark.png","images/geoPos.png","components/MapModal/styles.module.scss","components/ModalSmallInfo/styles.module.scss","components/MapTabletFullModal/styles.module.scss","components/ModalSmallInfo/index.js","components/MapModal/index.js","components/MapTabletFullModal/index.js","components/Map/index.js"],"names":["_toConsumableArray","arr","Array","isArray","i","arr2","length","_arrayWithoutHoles","iter","Symbol","iterator","Object","prototype","toString","call","from","_iterableToArray","TypeError","_nonIterableSpread","React","memo","_ref","numOfLikes","className","id","context","useContext","Context","_useState","useState","_useState2","slicedToArray","likesNum","setLikesNum","isLiked","state","likedCafes","includes","useEffect","Number","react_default","a","createElement","concat","styles","like","like_icon","onClick","likeState","newLikedPosts","removedLikeArr","filter","el","update","push","fetch","method","then","res","json","data","likes","width","height","viewBox","fill","xmlns","d","stroke","like_count","Slider","isOx","isOy","lastTouch","sliderDiv","createRef","imgs","currentIndex","movement","transitionDuration","imageWidth","handleTouchStart","e","_this","nativeEvent","touches","clientX","startY","clientY","startX","handleTouchMove","delta","lastX","lastY","Math","abs","document","body","style","overflowY","handleMovement","preventDefault","handleTouchEnd","handleMovementEnd","maxLength","nextMovement","setState","_this$state","endPosition","endPartial","endingIndex","deltaInteger","nextIndex","transitionTo","min","index","duration","this","current","offsetWidth","props","images","_this2","_this$state2","maxMovement","slider","ref","main","onTouchStart","onTouchMove","onTouchEnd","photoCount","swiper","transform","map","key","imageHolder","alt","author","decoding","sizes","srcSet","src","source","objectFit","moveContainer","moveContainer_left","move","strokeLinecap","strokeLinejoin","moveContainer_right","authorText","authorInside","authorTextInside","Component","contextType","isModal","postData","cafes","read","find","title","addressName","mainText","photos","smallText","instagramLink","metroName","useLayoutEffect","device","window","scrollTo","postCard","modalPostCard","Carousel","postCardInfo","postCardTitle","ShareBtn","page","Metro","postCardAdress","label","metro","withArrow","disableAddress","withClick","postCardLikeContainer","Like","postCardLike","postCardInstagramLink","href","target","rel","postCardAbout","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_Context_Context__WEBPACK_IMPORTED_MODULE_1__","_styles_module_scss__WEBPACK_IMPORTED_MODULE_2__","_styles_module_scss__WEBPACK_IMPORTED_MODULE_2___default","shareBtn","shareModalOpen","shareModalPage","shareModalId","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","withRouter","_props$withClick","_props$withArrow","fitSmall","history","metro_icon","backgroundColor","color","getMetroColor","metro_label","labelFitSmall","metro_arrow","module","exports","postCardImage","postCardImage_container","postCardComments","postCardTextInput","postCardTextInput_input","postCardTextInput_button","border","back","next","mapPage","mapPageLoading","mapModalWindow","mapModalHeader","mapModalHeader_close","mapModalHeader_arrow","mapModalBody","open","mapModal_arrowTablet","smallInfoContainer","smallModal","smallModal_body","smallModal_img","smallModal_info","smallModal_description","smallModal_about","smallModal_author","smallModal_like","smallModal_footer","mapFullModalWindow","mapFullModalLessBtn","mapFullModalBody","touchStart","touchMove","touchEnd","onFullModalClick","type","onClose","onFullModal","modalType","setModalType","_useState3","_useState4","getMoveStarted","setMoveStarted","bottom","top","strokeWidth","PostCard","components_ModalSmallInfo","onSmallClick","mapHeight","urlId","match","params","localMap","isLoading","setIsLoading","_useState5","_useState6","modalHeight","setModalHeight","_useState7","_useState8","modalData","setModalData","_useState9","_useState10","localMapId","setLocalMapId","_useState11","_useState12","isSearchShow","setSearchShow","_useState13","_useState14","searchValue","setSearchValue","ymaps","script","async","onload","createYmaps","appendChild","removeChild","ready","geolocation","get","mapContainer","getElementById","bounds","geoObjects","properties","mapState","util","getCenterAndZoom","offsetHeight","zoom","createMap","center","dataFromId","setCenter","addressCoord","openSmallModal","Map","objectSpread","controls","searchControlProvider","suppressMapOpenBlock","suppressObsoleteBrowserNotifier","hotspotLayerInteractivityModel","ZoomLayout","templateLayoutFactory","createClass","build","superclass","zoomInCallback","bind","zoomIn","zoomOutCallback","zoomOut","addEventListener","clear","removeEventListener","getData","control","getMap","setZoom","getZoom","checkZoomRange","zoomControl","ZoomControl","options","layout","add","position","right","GeoLayout","currentGeo","curGeoClick","mark","Placemark","draggable","iconLayout","iconImageHref","geoPosImg","iconImageSize","iconImageOffset","GeolocationControl","noPlacemark","points","coords","text","address","SeggestProvider","suggest","request","findName","value","searchingName","toLowerCase","indexOf","results","arrayResult","displayName","vow","resolve","SuggestView","provider","events","clusterer","Clusterer","clusterIcons","placemark","size","offset","zoomMargin","clusterNumbers","clusterIconContentLayout","iconContent","iconContentOffset","iconContentLayout","stopPropagation","Spiner","onChange","placeholder","display","cx","cy","r","components_MapModal","MapTabletFullModal"],"mappings":"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","file":"static/js/3.b8e6c5a2.chunk.js","sourcesContent":["import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import React, {useContext, useState, useEffect} from 'react';\nimport Context from \"../../Context/Context\"\n\nimport styles from './styles.module.scss';\n\nconst Like = ({ numOfLikes, className, id }) => {\t\n\tconst context = useContext(Context)\n\tconst [likesNum, setLikesNum] = useState(0)\n\tconst isLiked = context.state.likedCafes.includes(id)\n\n\tuseEffect(() => {\n\t\tsetLikesNum(Number(numOfLikes))\n\t}, [])\n\n\tconst handleLikeClick = () => {\n\t\tconst newLikedPosts = [...context.state.likedCafes]\n\t\tlet likeState\n\n\t\tif (!isLiked) {\n\t\t\tnewLikedPosts.push(id)\n\t\t\tlikeState = \"inc\"\n\t\t\tsetLikesNum(likesNum + 1)\n\n\t\t\tcontext.update({\n\t\t\t\tlikedCafes: newLikedPosts\n\t\t\t})\n\t\t} else {\n\t\t\tconst removedLikeArr = newLikedPosts.filter(el => el !== id)\n\t\t\tlikeState = \"dec\"\n\t\t\tsetLikesNum(likesNum - 1)\n\t\n\t\t\tcontext.update({\n\t\t\t\tlikedCafes: removedLikeArr\n\t\t\t})\n\n\t\t}\n\n\t\tfetch(`https://europe-west1-mirum-e30cc.cloudfunctions.net/api/cafes/${id}/like/${likeState}`,\n\t\t\t{ method: \"PUT\" }\n\t\t)\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => setLikesNum(data.likes))\n\t}\n\n\treturn (\n\t\t<section className={ `${ styles.like } ${ className }` }>\n\t\t\t<div className={ styles.like_icon }\n\t\t\t\tonClick={ handleLikeClick }\n\t\t\t>\n\t\t\t\t<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 21 21\" fill={ isLiked ? '#FF2929' : 'none' } xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t<path d=\"M20.4673 6.60488L20.4688 6.6218L20.4715 6.63858C20.4862 6.73014 20.5853 7.44813 20.2997 8.65667L20.2997 8.65682C19.8888 10.3984 18.9388 11.9878 17.5446 13.2519C17.5441 13.2524 17.5436 13.2528 17.5431 13.2532L10.44 19.5899L3.4571 13.253L3.45682 13.2528C2.0619 11.9889 1.11132 10.3986 0.700268 8.65679L0.700247 8.6567C0.414631 7.44742 0.513961 6.72978 0.528643 6.63948L0.531481 6.62203L0.533079 6.60442C0.820667 3.43488 3.03853 1.23746 5.71797 1.23746C7.48855 1.23746 9.07782 2.18316 10.0103 3.77886L10.4373 4.50947L10.8713 3.783C11.8104 2.21089 13.4737 1.23786 15.282 1.23786C17.9618 1.23786 20.1793 3.43527 20.4673 6.60488Z\"\n\t\t\t\t\t\tstroke={ isLiked ? '#FF2929' : '#2A2A2A' }\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t</div>\n\n\t\t\t<div className={ styles.like_count }>\n\t\t\t\t{likesNum}\n\t\t\t</div>\n\t\t</section>\n\t);\n}\n\nexport default React.memo(Like);\n","import React from 'react';\nimport Context from \"../../Context/Context\"\n\nimport styles from './styles.module.scss';\n\nclass Slider extends React.Component {\n    static contextType = Context\n\n    isOx = null;\n    isOy = null;\n    lastTouch = 0;\n    sliderDiv = React.createRef()\n    state = {\n        imgs: [],\n        currentIndex: 0,\n        movement: 0,\n        transitionDuration: \"0s\",\n        imageWidth: null\n    };\n\n    componentDidMount() {\n        this.setState({\n            imageWidth: this.sliderDiv.current.offsetWidth,\n            imgs: this.props.images\n        })\n    }\n\n    handleTouchStart = e => {\n        this.lastTouch = e.nativeEvent.touches[0].clientX;\n        this.startY = e.nativeEvent.touches[0].clientY;\n        this.startX = e.nativeEvent.touches[0].clientX;\n    };\n\n    handleTouchMove = e => {\n        const delta = this.lastTouch - e.nativeEvent.touches[0].clientX;\n        const lastX = e.nativeEvent.touches[0].clientX - this.startX\n        this.lastTouch = e.nativeEvent.touches[0].clientX;\n        const lastY = e.nativeEvent.touches[0].clientY - this.startY\n        \n        if (this.isOx === null && this.isOy === null) {\n            if (Math.abs(lastY) < Math.abs(lastX)) {\n                this.isOx = true\n            } else {\n                this.isOy = true\n            }\n        }\n\n        if (this.isOx) {\n            document.body.style.overflowY = 'hidden'\n            this.handleMovement(delta)\n            e.preventDefault()\n        }\n        \n        return;\n    };\n\n    handleTouchEnd = () => {\n        this.handleMovementEnd();\n        document.body.style.overflowY = 'scroll'\n        this.lastTouch = 0;\n        this.isOx = null\n        this.isOy = null\n    }\n\n    handleMovement = delta => {\n        const maxLength = this.state.imgs.length - 1;\n        let nextMovement = this.state.movement + delta;\n\n        if (nextMovement < 0) {\n            nextMovement = 0;\n        }\n\n        if (nextMovement > maxLength * this.state.imageWidth) {\n            nextMovement = maxLength * this.state.imageWidth;\n        }\n\n        this.setState({\n            movement: nextMovement,\n            transitionDuration: \"0s\"\n        });\n    };\n\n    handleMovementEnd = () => {\n        const { movement, currentIndex } = this.state;\n\n        const endPosition = movement / this.state.imageWidth;\n        const endPartial = endPosition % 1;\n        const endingIndex = endPosition - endPartial;\n        const deltaInteger = endingIndex - currentIndex;\n\n        let nextIndex = endingIndex;\n\n        if (deltaInteger >= 0) {\n        if (endPartial >= 0.1) {\n            nextIndex += 1;\n        }\n        } else if (deltaInteger < 0) {\n            nextIndex = currentIndex - Math.abs(deltaInteger);\n        if (endPartial > 0.9) {\n            nextIndex += 1;\n        }\n        }\n\n        this.transitionTo(nextIndex, Math.min(0.5, 1 - Math.abs(endPartial)));\n    }\n\n    transitionTo = (index, duration) => {\n        this.setState({\n        currentIndex: index,\n        movement: index * this.state.imageWidth,\n        transitionDuration: `${duration}s`,\n        });\n    }\n    render() {\n        const { currentIndex, movement, transitionDuration, imgs } = this.state;\n        const maxLength = imgs.length - 1;\n        const maxMovement = maxLength * this.state.imageWidth;\n\n        return (\n            <div>\n                <div\n                    className={ styles.slider}\n                    ref={this.sliderDiv}\n                >\n                    <div\n                        className={styles.main}\n                        style={{\n                            width: `${this.state.imageWidth}px`,\n                            height: `${this.state.imageWidth}px`,\n                        }}\n                        onTouchStart={this.handleTouchStart}\n                        onTouchMove={this.handleTouchMove}\n                        onTouchEnd={this.handleTouchEnd}\n                    >\n                        <div className={styles.photoCount}>\n                            {`${currentIndex + 1}/${maxLength + 1}`}\n                        </div>\n\n                        <div className={styles.swiper}\n                            style={{\n                                transform: `translateX(${movement * -1}px)`,\n                                transitionDuration: transitionDuration,\n                            }}\n                        >\n                            {imgs.map((el, i) => {\n                                return <div key={i}\n                                    className={styles.imageHolder}\n                                >\n                                    <img\n                                        alt={`Cafe img num. ${i}. author: ${el.author}`}\n                                        decoding=\"auto\"\n                                        sizes=\"(max-width: 374px) 640w, (max-width: 699px) 750w, (min-width: 700px) 1080w\"\n                                        srcSet={`${el[\"640\"]} 640w, ${el[\"750\"]} 750w, ${el[\"1080\"]} 1080w`}\n                                        src={el.source}\n                                        style={{objectFit: \"cover\"}}\n                                    />\n                                </div>\n                            })}\n                        </div>\n                    {movement !== 0 &&\n                        <div\n                            className={`${styles.moveContainer} ${styles.moveContainer_left}`} \n                            onClick={() => {\n                                this.transitionTo(currentIndex - 1, 0.5);\n                            }}\n                        >\n                            <button\n                                className={styles.move} \n                            >\n                                <svg width=\"6\" height=\"8\" viewBox=\"0 0 6 8\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <path d=\"M4.11108 0.666626L0.777751 3.99996L4.11108 7.33329\" stroke=\"white\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                                </svg>\n                            </button>\n                        </div>\n                        \n                    }\n                    {movement !== maxMovement &&\n                        <div\n                            className={`${styles.moveContainer} ${styles.moveContainer_right}`} \n                            onClick={() => {\n                                this.transitionTo(currentIndex + 1, 0.5);\n                            }}\n                        >\n                            <button\n                                className={styles.move}\n                            >\n                                <svg width=\"5\" height=\"8\" viewBox=\"0 0 5 8\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <path d=\"M0.888916 0.666626L4.22225 3.99996L0.888916 7.33329\" stroke=\"white\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                                </svg>\n                            </button>\n                        </div>\n                        \n                    }\n                    </div>\n                </div>\n                <p className={ `${styles.authorText} ${this.props.authorInside ? styles.authorTextInside : \"\"}`}>\n                    {imgs && imgs[currentIndex] && imgs[currentIndex].author\n                        ? `Источник: ${imgs[currentIndex][\"author\"]}`\n                        : \"\"\n                    }\n\t\t\t\t</p>\n            </div>\n        );\n    }\n}\n\nexport default Slider;","import React, { useContext, useLayoutEffect } from 'react';\nimport Context from \"../../Context/Context\"\n\nimport styles from './styles.module.scss';\n\nimport Like from '../Like';\nimport Metro from '../Metro';\nimport ShareBtn from '../ShareBtn';\nimport Carousel from \"../Carousel\"\n\n\nconst PostCard = props => {\n\tconst context = useContext(Context)\n\tconst id = props.data ? props.data.id : props.id\n\tconst {isModal} = props\n\n\tconst postData = props.data\n\t\t? props.data\n\t\t: context.state.cafes.read().find(el => el.id === id)\n\n\tconst {\n\t\ttitle,\n\t\taddressName,\n\t\tlikes,\n\t\tmainText,\n\t\tphotos,\n\t\tsmallText,\n\t\tinstagramLink,\n\t\tmetroName\n\t} = postData\n\n\tuseLayoutEffect(() => {\n\t\tif (context.state.device === \"mobile\") {\n\t\t\twindow.scrollTo(0, 0);\n\t\t}\n\t}, [])\n\n\treturn (\n\t\t<article className={ `${styles.postCard} ${isModal ? styles.modalPostCard : \"\"} ` }>\n\t\t\t<Carousel\n\t\t\t\timages={photos}\n\t\t\t\tauthorInside={isModal}\n\t\t\t/>\n\n\t\t\t<section className={ styles.postCardInfo }>\n\t\t\t\t<div className={ styles.postCardTitle }>\n\t\t\t\t\t<h1>\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</h1>\n\n\t\t\t\t\t<ShareBtn\n\t\t\t\t\t\tpage={props.data ? \"map\" : \"cafes\"}\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<Metro className={ styles.postCardAdress }\n\t\t\t\t\tlabel={addressName}\n\t\t\t\t\tmetro={metroName}\n\t\t\t\t\twithArrow={props.disableAddress ? false : true}\n\t\t\t\t\twithClick={props.disableAddress ? false : true}\n\t\t\t\t\tid={id}\n\t\t\t\t/>\n\t\t\t\t\n\t\t\t\t<div className={ styles.postCardLikeContainer }>\n\t\t\t\t\t<Like\n\t\t\t\t\t\tclassName={ styles.postCardLike }\n\t\t\t\t\t\tnumOfLikes={likes}\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<a\n\t\t\t\t\t\tclassName={ styles.postCardInstagramLink }\n\t\t\t\t\t\thref={instagramLink ? instagramLink : \"\"}\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t>\n\t\t\t\t\t\tInstagram\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\n\t\t\t\t<p className={ styles.postCardAbout }>\n\t\t\t\t\t{smallText}\n\t\t\t\t</p>\n\t\t\t\t<p className={ styles.postCardAbout }>\n\t\t\t\t\t{mainText}\n\t\t\t\t</p>\n\t\t\t</section>\n\t\t</article>\n\t)\n}\n\nexport default React.memo(PostCard);\n","import React, {useContext} from 'react';\nimport Context from \"../../Context/Context\"\n\nimport styles from './styles.module.scss';\n\nconst ShareBtn = ({className, id, page}) => {\n    const context = useContext(Context)\n    const openModal = () => {\n        context.update({\n            shareModalOpen: true,\n            shareModalPage: page,\n            shareModalId: id\n        })\n    }\n\n    return (\n        <button\n            className={`${styles.shareBtn} ${className}`}\n            onClick={openModal}\n        >\n            <span>\n                Поделиться\n            </span>\n        </button>\n    )\n}\n\nexport default React.memo(ShareBtn);\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\n\nimport styles from './styles.module.scss';\n\nconst Metro = props => {\n\tconst {\n\t\tclassName,\n\t\tid,\n\t\twithClick = false,\n\t\tlabel,\n\t\twithArrow = false,\n\t\tmetro,\n\t\tfitSmall\n\t} = props\n\n\tconst onMetroClick = () => {\n\t\tprops.history.push(`/map/${id}`)\n\t}\n\n\tconst getMetroColor = () => {\n\t\tlet color = \"\"\n\t\tswitch(metro) {\n\t\t\tcase \"Девяткино\":\n\t\t\tcase \"Гражданский пр.\":\n\t\t\tcase \"Академическая\":\n\t\t\tcase \"Политехническая\":\n\t\t\tcase \"Площадь Муж.\":\n\t\t\tcase \"Лесная\":\n\t\t\tcase \"Выборгская\":\n\t\t\tcase \"Площадь Ленина\":\n\t\t\tcase \"Чернышевская\":\n\t\t\tcase \"Площадь Восст.\":\n\t\t\tcase \"Владимирская\":\n\t\t\tcase \"Пушкинская\":\n\t\t\tcase \"Технологический\":\n\t\t\tcase \"Балтийская\":\n\t\t\tcase \"Нарвская\":\n\t\t\tcase \"Кировский завод\":\n\t\t\tcase \"Ленинский пр.\":\n\t\t\tcase \"Пр. Ветеранов\":\n\t\t\t\tcolor = \"#D61C38\";\n\t\t\t\tbreak;\n\t\t\tcase \"Парнас\":\n\t\t\tcase \"Пр. Просвещения\":\n\t\t\tcase \"Озерки\":\n\t\t\tcase \"Удельная\":\n\t\t\tcase \"Пионерская\":\n\t\t\tcase \"Черная Речка\":\n\t\t\tcase \"Петроградская\":\n\t\t\tcase \"Горьковская\":\n\t\t\tcase \"Невский пр.\":\n\t\t\tcase \"Сенная Площадь\":\n\t\t\tcase \"Фрунзенская\":\n\t\t\tcase \"Московские Вор.\":\n\t\t\tcase \"Электросила\":\n\t\t\tcase \"Парк победы\":\n\t\t\tcase \"Московская\":\n\t\t\tcase \"Звездная\":\n\t\t\tcase \"Купчино\":\n\t\t\t\tcolor = \"#007DCC\";\n\t\t\t\tbreak;\n\t\t\tcase \"Беговая\":\n\t\t\tcase \"Новокрестовская\":\n\t\t\tcase \"Приморская\":\n\t\t\tcase \"Василеостровская\":\n\t\t\tcase \"Гостиный Двор\":\n\t\t\tcase \"Маяковская\":\n\t\t\tcase \"Площадь Ал. Н.\":\n\t\t\tcase \"Елизаровская\":\n\t\t\tcase \"Ломоносовская\":\n\t\t\tcase \"Пролетарская\":\n\t\t\tcase \"Рыбацкое\":\n\t\t\t\tcolor = \"#009959\";\n\t\t\t\tbreak;\n\t\t\tcase \"Спасская\":\n\t\t\tcase \"Достоевская\":\n\t\t\tcase \"Лиговский пр.\":\n\t\t\tcase \"Новочеркасская\":\n\t\t\tcase \"Ладожская\":\n\t\t\tcase \"Пр. Большевиков\":\n\t\t\tcase \"Ул. Дыбенко\":\n\t\t\t\tcolor = \"#DE7008\";\n\t\t\t\tbreak;\n\t\t\tcase \"Комендантский\":\n\t\t\tcase \"Старая Деревня\":\n\t\t\tcase \"Крестовский Ост.\":\n\t\t\tcase \"Чкаловская\":\n\t\t\tcase \"Спортивная\":\n\t\t\tcase \"Адмиралтейская\":\n\t\t\tcase \"Садовая\":\n\t\t\tcase \"Звенигородская\":\n\t\t\tcase \"Обводный канал\":\n\t\t\tcase \"Волковская\":\n\t\t\tcase \"Бухарестская\":\n\t\t\tcase \"Международная\":\n\t\t\tcase \"Проспект славы\":\n\t\t\tcase \"Дунайская\":\n\t\t\tcase \"Шушары\":\n\t\t\t\tcolor = \"#6E0A78\";\n\t\t\t\tbreak;\n\t\t\tdefault: color = \"rgba(255, 255, 255, 0)\"\n\t\t}\n\n\t\treturn color\n\t}\n\n\treturn (\n\t\t<section className={ `${ styles.metro } ${ withClick ? styles.withClick : \"\" } ${ className }`}\n\t\t\tonClick={withClick ? onMetroClick : null}\n\t\t>\n\t\t\t<div className={ styles.metro_icon }\n\t\t\t\tstyle={{backgroundColor: getMetroColor()}}\n\t\t\t/>\n\n\t\t\t<div className={ `${styles.metro_label} ${fitSmall ? styles.labelFitSmall : \"\"}` }>\n\t\t\t\t{label}\n\t\t\t</div>\n\n\t\t\t{withArrow &&\n\t\t\t\t<div className={ styles.metro_arrow }>\n\t\t\t\t\t<svg width=\"7\" height=\"12\" viewBox=\"0 0 7 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t<path d=\"M1 1L6 6L1 11\" stroke=\"#727272\"/>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t}\n\t\t</section>\n\t);\n}\n\nexport default withRouter(React.memo(Metro));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"shareBtn\":\"styles_shareBtn__qt8ex\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"like\":\"styles_like__2y23N\",\"like_icon\":\"styles_like_icon__2lgM5\",\"like_count\":\"styles_like_count__ru3H3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postCard\":\"styles_postCard__2WqTh\",\"postCardImage\":\"styles_postCardImage__10v2l\",\"postCardImage_container\":\"styles_postCardImage_container__2GzJI\",\"postCardInfo\":\"styles_postCardInfo__Ww4l_\",\"postCardTitle\":\"styles_postCardTitle__2Gk1K\",\"postCardAdress\":\"styles_postCardAdress__3ot8p\",\"postCardLike\":\"styles_postCardLike__jOPw5\",\"postCardLikeContainer\":\"styles_postCardLikeContainer__1RM0j\",\"postCardInstagramLink\":\"styles_postCardInstagramLink__343iL\",\"postCardAbout\":\"styles_postCardAbout__r0OLo\",\"postCardComments\":\"styles_postCardComments__3sb8L\",\"postCardTextInput\":\"styles_postCardTextInput__2BZNn\",\"postCardTextInput_input\":\"styles_postCardTextInput_input__1qzzR\",\"postCardTextInput_button\":\"styles_postCardTextInput_button__CGoJK\",\"border\":\"styles_border__F_P4d\",\"modalPostCard\":\"styles_modalPostCard__HQR72\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"metro\":\"styles_metro__Qvg4e\",\"metro_icon\":\"styles_metro_icon__1eyHd\",\"metro_label\":\"styles_metro_label__1zzzM\",\"metro_arrow\":\"styles_metro_arrow__2s9-B\",\"labelFitSmall\":\"styles_labelFitSmall__b9Xyk\",\"withClick\":\"styles_withClick__27wXB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slider\":\"styles_slider__1zfyK\",\"main\":\"styles_main__1jPID\",\"photoCount\":\"styles_photoCount__3zhfQ\",\"swiper\":\"styles_swiper__3NMFa\",\"imageHolder\":\"styles_imageHolder__1QFBn\",\"move\":\"styles_move__1xnPW\",\"moveContainer\":\"styles_moveContainer__3MA41\",\"moveContainer_left\":\"styles_moveContainer_left__1K8OF\",\"moveContainer_right\":\"styles_moveContainer_right__3fVtY\",\"authorText\":\"styles_authorText__3MOUC\",\"authorTextInside\":\"styles_authorTextInside__3UVle\",\"back\":\"styles_back__2yDlz\",\"next\":\"styles_next__2m3Se\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mapPage\":\"styles_mapPage__1XzgJ\",\"mapPageLoading\":\"styles_mapPageLoading__2KlIN\",\"map\":\"styles_map__2Dvyj\"};","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mapModalWindow\":\"styles_mapModalWindow__2KlXr\",\"mapModalHeader\":\"styles_mapModalHeader__vLP-3\",\"mapModalHeader_close\":\"styles_mapModalHeader_close__21EFD\",\"mapModalHeader_arrow\":\"styles_mapModalHeader_arrow__3Fsuo\",\"mapModalBody\":\"styles_mapModalBody__1iX1f\",\"open\":\"styles_open__3Ygme\",\"mapModal_arrowTablet\":\"styles_mapModal_arrowTablet__1qwmO\",\"smallInfoContainer\":\"styles_smallInfoContainer__3jDIO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"smallModal\":\"styles_smallModal__25cKR\",\"smallModal_body\":\"styles_smallModal_body__2m5bP\",\"smallModal_img\":\"styles_smallModal_img__27o4q\",\"smallModal_info\":\"styles_smallModal_info__31Ebs\",\"smallModal_description\":\"styles_smallModal_description__2LVB3\",\"smallModal_about\":\"styles_smallModal_about__1XCGQ\",\"smallModal_author\":\"styles_smallModal_author__3cFcr\",\"smallModal_like\":\"styles_smallModal_like__XTjda\",\"smallModal_footer\":\"styles_smallModal_footer__1st1A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mapFullModalWindow\":\"styles_mapFullModalWindow__3NAmB\",\"open\":\"styles_open__20rFn\",\"mapFullModalLessBtn\":\"styles_mapFullModalLessBtn__3ybbc\",\"mapFullModalBody\":\"styles_mapFullModalBody__3bVDQ\"};","import React, {useContext} from 'react';\nimport Context from '../../Context/Context';\n\nimport styles from './styles.module.scss';\nimport ShareBtn from '../ShareBtn';\nimport Like from '../Like';\n\nconst ModalSmallInfo = ({ data, touchStart, touchMove, touchEnd, onFullModalClick }) => {\n    const context = useContext(Context)\n    const { title, smallText, photos, id, likes, instagramLink } = data\n    const { device } = context.state\n\n    return (\n        <div className={styles.smallModal}>\n            <div\n                className={styles.smallModal_body}\n                onTouchStart={touchStart}\n                onTouchMove={touchMove}\n                onTouchEnd={touchEnd}\n            >\n                <div\n                    className={styles.smallModal_img}\n                    onClick={device !== \"mobile\" ? onFullModalClick : null}\n                >\n                    <img\n                        alt={`Main Cafe img. author: ${photos[0].author}`}\n                        decoding=\"auto\"\n                        src={photos[0][\"640\"]}\n                        style={{objectFit: \"cover\"}}\n                        \n                    />\n\n                    <p className={styles.smallModal_author}>\n                        {photos[0].author}\n                    </p>\n                </div>\n                <div className={styles.smallModal_info}>\n                    <h2 onClick={device !== \"mobile\" ? onFullModalClick : null}>{title}</h2>\n                        \n                    <p\n                        className={styles.smallModal_about}\n                        onClick={device !== \"mobile\" ? onFullModalClick : null}\n                    > \n                        {smallText}\n                    </p>\n\n                    {device !== \"mobile\" &&\n                        <div className={styles.smallModal_footer}>\n                            <Like\n                                className={styles.smallModal_like}\n                                numOfLikes={likes}\n                                id={id}\n                            />\n\n                            <a href={instagramLink ? instagramLink : \"\"}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                            >\n                                Instagram\n                            </a>\n\n                            <ShareBtn\n                                page=\"map\"\n                                id={id}\n                            />\n                        </div>\n                    }\n                </div>\n            </div>\n\n            {device === \"mobile\" &&\n                <div className={styles.smallModal_footer}>\n                    <Like\n                        className={styles.smallModal_like}\n                        numOfLikes={likes}\n                        id={id}\n                    />\n\n                    <a href={instagramLink ? instagramLink : \"\"}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                    >\n                        Instagram\n                    </a>\n\n                    <ShareBtn\n                        page=\"map\"\n                        id={id}\n                    />\n                </div>\n            }\n        </div>\n    )\n}\n\nexport default React.memo(ModalSmallInfo);\n","import React, {useState, useEffect, useContext} from 'react';\nimport Context from '../../Context/Context';\n\nimport styles from './styles.module.scss';\n\nimport SmallInfo from '../ModalSmallInfo';\nimport PostCard from '../PostCard';\n\nconst MapModal = ({ type, height, data, onClose, onFullModal }) => {\n\tconst context = useContext(Context)\n\n\tconst [modalType, setModalType] = useState(\"\")\n\tconst [getMoveStarted, setMoveStarted] = useState(false)\n\tlet startY = null\n\tconst {device} = context.state\n\n\tuseEffect(() => {\n\t\tif (device !== \"mobile\" && type === \"full\") {\n\t\t\tsetModalType(\"\")\n\t\t} else {\n\t\t\tsetModalType(type)\n\t\t}\n\t}, [type])\n\n\tconst handleTouchStart = e => {\n\t\tstartY = e.nativeEvent.touches[0].clientY\n\t};\n\n\tconst handleTouchMove = e => {\n\t\tconst delta = startY - e.nativeEvent.touches[0].clientY\n\n\t\tif (!getMoveStarted) {\n\t\t\thandleMovement(delta)\n\t\t}\n\t};\n\n\tconst handleTouchEnd = () => {\n\t\tsetMoveStarted(false)\n\t\tstartY = 0;\n\t}\n\n\tconst handleMovement = delta => {\n\t\tsetMoveStarted(true)\n\n\t\tif (delta > 0 && modalType === \"small\") {\n\t\t\tsetModalType(\"full\")\n\t\t} else if (delta < 0 && modalType === \"full\") {\n\t\t\tsetModalType(\"small\")\n\t\t}\n\t}\n\n\tconst onCloseModal = () => {\n\t\tonClose()\n\t\tsetModalType(\"\")\n\t}\n\n\treturn (\n\t\t<div className={styles.mapModalWindow}\n\t\t\tstyle={{\n\t\t\t\tbottom: `-${height}px`,\n\t\t\t\theight: `${height}px`,\n\t\t\t\ttransform: modalType === \"small\"\n\t\t\t\t\t? `translateY(-216px)`\n\t\t\t\t\t: modalType === \"full\"\n\t\t\t\t\t\t? `translateY(-${height}px)`\n\t\t\t\t\t\t: `translateY(0)`\n\t\t\t}}\n\t\t>\n\t\t\t<div className={styles.mapModalHeader}\n\t\t\t\tonTouchStart={handleTouchStart}\n\t\t\t\tonTouchMove={handleTouchMove}\n\t\t\t\tonTouchEnd={handleTouchEnd}\n\t\t\t>\n\t\t\t\t{device === \"mobile\" &&\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={styles.mapModalHeader_arrow}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tmodalType === \"full\"\n\t\t\t\t\t\t\t\t? setModalType(\"small\")\n\t\t\t\t\t\t\t\t: setModalType(\"full\")\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={{top: modalType === \"full\" ? \"14px\" : \"12px\"}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{modalType === \"full\"\n\t\t\t\t\t\t\t? <svg width=\"20\" height=\"9\" viewBox=\"0 0 20 9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path d=\"M19 1.66669L10 7.66669L1 1.66669\" stroke=\"#727272\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t: <svg width=\"20\" height=\"8\" viewBox=\"0 0 20 8\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t\t<path d=\"M1 7L10 1L19 7\" stroke=\"#727272\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\n\t\t\t<div className={styles.mapModalHeader_close}\n\t\t\t\tonClick={ onCloseModal }\n\t\t\t>\n\t\t\t\t<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t<path d=\"M15 1L1 15M1 1L15 15\" stroke=\"#727272\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n\t\t\t\t</svg>\n\t\t\t</div>\n\n\t\t\t<div className={styles.mapModalBody}\n\t\t\t\tstyle={{\n\t\t\t\t\toverflowY: modalType === \"full\" ? \"scroll\" : \"hidden\"\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{modalType === \"full\"\n\t\t\t\t\t? <PostCard\n\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\tdisableAddress={true}\n\t\t\t\t\t/>\n\t\t\t\t\t: <div className={styles.smallInfoContainer}>\n\t\t\t\t\t\t<SmallInfo\n\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\ttouchStart={handleTouchStart}\n\t\t\t\t\t\t\ttouchMove={handleTouchMove}\n\t\t\t\t\t\t\ttouchEnd={handleTouchEnd}\n\t\t\t\t\t\t\tonFullModalClick={onFullModal}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{device !== \"mobile\" &&\n\t\t\t\t\t\t\t<div className={styles.mapModal_arrowTablet}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalType === \"full\"\n\t\t\t\t\t\t\t\t\t\t? setModalType(\"small\")\n\t\t\t\t\t\t\t\t\t\t: onFullModal()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<svg width=\"8\" height=\"20\" viewBox=\"0 0 8 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t\t\t<path d=\"M1 1L7 10L0.999999 19\" stroke=\"#727272\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default React.memo(MapModal);\n","import React from 'react';\n\nimport styles from './styles.module.scss';\n\nimport PostCard from '../PostCard';\n\nconst MapModal = ({ data, onSmallClick }) => {\n\treturn (\n\t\t<div className={styles.mapFullModalWindow}>\n\t\t\t<div\n\t\t\t\tclassName={styles.mapFullModalLessBtn}\n\t\t\t\tonClick={onSmallClick}\n\t\t\t>\n\t\t\t\t<svg width=\"8\" height=\"20\" viewBox=\"0 0 8 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t<path d=\"M7 19L1 10L7 1\" stroke=\"#727272\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t\t<div className={styles.mapFullModalBody}>\n\t\t\t\t<PostCard\n\t\t\t\t\tdata={data}\n\t\t\t\t\tdisableAddress={true}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default React.memo(MapModal);\n","import React, {useContext, useEffect, useState, useLayoutEffect} from 'react';\nimport Context from '../../Context/Context';\n\nimport styles from './styles.module.scss';\n\nimport placemark from '../../images/placemark.png'\nimport geoPosImg from '../../images/geoPos.png'\nimport MapModal from '../MapModal';\nimport MapTabletFullModal from '../MapTabletFullModal';\nimport Spiner from \"../Spiner\"\n\nconst MapPage = props => {\n\tconst context = useContext(Context)\n\tconst cafes = context.state.cafes.read()\n\tconst urlId = props.match.params.id\n\tconst {device} = context.state\n\tlet localMap = null\n\tlet mapHeight\n\n\tconst [isLoading, setIsLoading] = useState(true)\n\tconst [modalType, setModalType] = useState(\"\")\n\tconst [modalHeight, setModalHeight] = useState(0)\n\tconst [modalData, setModalData] = useState(null)\n\tconst [localMapId, setLocalMapId] = useState(null)\n\tconst [isSearchShow, setSearchShow] = useState(false)\n\tconst [searchValue, setSearchValue] = useState(\"\")\n\n\tuseLayoutEffect(() => {\n\t\tif (!window.ymaps) {\n\t\t\tconst script = document.createElement('script');\n\t\t\tconst onloadScript = document.createElement('script');\n\t\n\t\t\tonloadScript.type = 'text/javascript';\n\t\t\n\t\t\tscript.src = \"https://api-maps.yandex.ru/2.1/?apikey=36c0289b-59c0-493e-9d11-69d0114f742e&load=package.geoObjects&lang=ru-RU\";\n\t\t\tscript.async = true;\n\t\t\tscript.type = 'text/javascript';\n\t\t\tscript.onload = createYmaps;\n\t\t\n\t\t\tdocument.body.appendChild(script);\n\t\t\n\t\t\treturn () => {\n\t\t\t  document.body.removeChild(script);\n\t\t\t}\n\t\t} else {\n\t\t\tcreateYmaps()\n\t\t}\n\t}, []);\n\n\tconst createYmaps = () => {\n\t\twindow.ymaps.ready(() => {\n\t\t\twindow.ymaps.geolocation.get().then((res) => {\n\t\t\t\tconst mapContainer = window.document.getElementById('map')\n\t\t\t\tconst bounds = res.geoObjects.get(0).properties.get('boundedBy')\n\t\t\t\tconst mapState = window.ymaps.util.bounds.getCenterAndZoom(\n\t\t\t\t\tbounds,\n\t\t\t\t\t[mapContainer.offsetWidth, mapContainer.offsetHeight - 50]\n\t\t\t\t)\n\t\t\t\tmapState.zoom = 14\n\t\t\t\tmapHeight = mapContainer.offsetHeight - 50\n\t\t\t\tsetModalHeight(mapHeight * 0.87)\n\t\t\t\tconst map = createMap(mapState)\n\t\t\t\tsetLocalMapId(map)\n\t\t\t}, function() {\n\t\t\t\tconst map = createMap({\n\t\t\t\t\tcenter: [55.751574, 37.573856],\n\t\t\t\t\tzoom: 9\n\t\t\t\t})\n\t\t\t\tsetLocalMapId(map)\n\t\t\t})\t\n\t\t})\n\t}\n\n\tuseEffect(() => {\n\t\tif (urlId && localMapId) {\n\t\t\tconst dataFromId = cafes.find(el => el.id === urlId)\n\t\t\tlocalMapId.setCenter(dataFromId.addressCoord, 14)\n\t\t\topenSmallModal(dataFromId)\n\t\t}\n\t}, [localMapId])\n\n\tconst createMap = (state) => {\n\t\tlocalMap = new window.ymaps.Map('map', {...state, controls: []}, {\n\t\t\tsearchControlProvider: 'yandex#search',\n\t\t\tsuppressMapOpenBlock: true,\n\t\t\tsuppressObsoleteBrowserNotifier: true,\n\t\t\thotspotLayerInteractivityModel: 'default#silent'\n\t\t})\n\n\t\tconst ZoomLayout = window.ymaps.templateLayoutFactory.createClass(\n\t\t\t\"<div class='zoom-btn-container'>\" +\n\t\t\t\"<div id='zoom-in' class='map-round-btn'><svg width='21' height='21' viewBox='0 0 21 21' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M10.5 1V20' stroke='#727272' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/><path d='M20 10.5L1 10.5' stroke='#727272' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/></svg></div>\" +\n\t\t\t\"<div id='zoom-out' class='map-round-btn'><svg width='21' height='19' viewBox='0 0 21 19' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M20 10.5L1 10.5' stroke='#727272' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/></svg></div>\" +\n\t\t\t\"</div>\", \n\t\t\t{\n\t\t\t\tbuild: function () {\n\t\t\t\t\tZoomLayout.superclass.build.call(this);\n\t\t\t\t\tthis.zoomInCallback = window.ymaps.util.bind(this.zoomIn, this);\n\t\t\t\t\tthis.zoomOutCallback = window.ymaps.util.bind(this.zoomOut, this);\n\n\t\t\t\t\twindow.document.getElementById('zoom-in').addEventListener('click', this.zoomInCallback);\n\t\t\t\t\twindow.document.getElementById('zoom-out').addEventListener('click', this.zoomOutCallback);\n\t\t\t\t},\n\t\t\t\tclear: function () {\n\t\t\t\t\twindow.document.getElementById('zoom-in').removeEventListener('click', this.zoomInCallback);\n\t\t\t\t\twindow.document.getElementById('zoom-out').removeEventListener('click', this.zoomOutCallback);\n\t\t\t\t\tZoomLayout.superclass.clear.call(this);\n\t\t\t\t},\n\t\t\t\tzoomIn: function () {\n\t\t\t\t\tconst map = this.getData().control.getMap();\n\t\t\t\t\tmap.setZoom(map.getZoom() + 1, {checkZoomRange: true});\n\t\t\t\t},\n\t\t\t\tzoomOut: function () {\n\t\t\t\t\tconst map = this.getData().control.getMap();\n\t\t\t\t\tmap.setZoom(map.getZoom() - 1, {checkZoomRange: true});\n\t\t\t\t}\n\t\t\t}\n\t\t)\n\n\t\tconst zoomControl = new window.ymaps.control.ZoomControl({\n\t\t\toptions: {layout: ZoomLayout}\n\t\t})\n\n\t\tlocalMap.controls.add(zoomControl, {\n\t\t\tposition: {\n\t\t\t\ttop: mapHeight / 2 - 60,\n\t\t\t\tright: 10\n\t\t\t}\n\t\t})\n\n\t\tconst GeoLayout = window.ymaps.templateLayoutFactory.createClass(\n\t\t\t\"<div id='cur-geo' class='map-round-btn map-round-btn-sm'><svg width='21' height='21' viewBox='0 0 21 21' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M10.5 7C8.56625 7 7 8.56625 7 10.5C7 12.4337 8.56625 14 10.5 14C12.4338 14 14 12.4337 14 10.5C14 8.56625 12.4338 7 10.5 7ZM18.3225 9.625C17.92 5.97625 15.0238 3.08 11.375 2.6775V0.875H9.625V2.6775C5.97625 3.08 3.08 5.97625 2.6775 9.625H0.875V11.375H2.6775C3.08 15.0237 5.97625 17.92 9.625 18.3225V20.125H11.375V18.3225C15.0238 17.92 17.92 15.0237 18.3225 11.375H20.125V9.625H18.3225ZM10.5 16.625C7.11375 16.625 4.375 13.8862 4.375 10.5C4.375 7.11375 7.11375 4.375 10.5 4.375C13.8863 4.375 16.625 7.11375 16.625 10.5C16.625 13.8862 13.8863 16.625 10.5 16.625Z' fill='#727272'/></svg></div>\",\n\t\t\t{\n\t\t\t\tbuild: function () {\n\t\t\t\t\tGeoLayout.superclass.build.call(this);\n\t\t\t\t\tthis.currentGeo = window.ymaps.util.bind(this.curGeoClick, this);\n\t\t\t\t\twindow.document.getElementById('cur-geo').addEventListener('click', this.currentGeo);\n\t\t\t\t},\n\n\t\t\t\tclear: function () {\n\t\t\t\t\twindow.document.getElementById('cur-geo').removeEventListener('click', this.currentGeo);\n\t\t\t\t\tGeoLayout.superclass.clear.call(this);\n\t\t\t\t},\n\n\t\t\t\tcurGeoClick: function () {\n\t\t\t\t\twindow.ymaps.geolocation.get()\n\t\t\t\t\t\t.then(el => {\n\t\t\t\t\t\t\tlocalMap.setCenter(el.geoObjects.position, 16)\n\t\t\t\t\t\t\tconst mark = new window.ymaps.Placemark(el.geoObjects.position, {}, {\n\t\t\t\t\t\t\t\tdraggable: false,\n\t\t\t\t\t\t\t\ticonLayout: 'default#image',\n\t\t\t\t\t\t\t\ticonImageHref: geoPosImg,\n\t\t\t\t\t\t\t\ticonImageSize: [24, 24],\n\t\t\t\t\t\t\t\ticonImageOffset: [-12, -12]\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tlocalMap.geoObjects.add(mark)\n\t\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t)\n\n\t\tconst GeolocationControl = new window.ymaps.control.GeolocationControl({\n\t\t\toptions: {\n\t\t\t\tlayout: GeoLayout,\n\t\t\t\tnoPlacemark: true\n\t\t\t}\n\t\t})\n\n\t\tlocalMap.controls.add(GeolocationControl, {\n\t\t\tposition: {\n\t\t\t\tbottom: 20,\n\t\t\t\tright: 10\n\t\t\t}\n\t\t})\n\t\tconst createPlacemark = (coords, text)=> {\n\t\t\treturn new window.ymaps.Placemark(coords, {\n\t\t\t\ticonContent: text\n\t\t\t}, {\n\t\t\t\tdraggable: false,\n\t\t\t\ticonLayout: 'default#imageWithContent',\n\t\t\t\ticonImageHref: placemark,\n\t\t\t\ticonImageSize: [22, 30],\n\t\t\t\ticonImageOffset: [-11, -30],\n\t\t\t\ticonContentOffset: [30, 5],\n\t\t\t\ticonContentLayout: window.ymaps.templateLayoutFactory.createClass(\n\t\t\t\t\t'<div style=\"color: #2A2A2A; font-size: 18px; white-space: nowrap;\">{{ properties.iconContent }}</div>'\n\t\t\t\t)\n\t\t\t});\n\t\t}\n\n\t\tconst setCenter = coords => {\n\t\t\treturn localMap.setCenter(coords, 18)\n\t\t}\n\n\t\tconst points = cafes.map(el => {\n\t\t\treturn {\n\t\t\t\tcoords: el.addressCoord,\n\t\t\t\ttext: el.title,\n\t\t\t\taddress: el.addressName,\n\t\t\t\tdata: el\n\t\t\t}\n\t\t})\n\n\t\tconst findPlaces = (arr, findName) => {\n\t\t\treturn arr.filter(value => {\n\t\t\t\tconst searchingName = findName.toLowerCase()\n\t\t\t\tif (\n\t\t\t\t\tvalue.text.toLowerCase().indexOf(searchingName) !== -1 ||\n\t\t\t\t\tvalue.address.toLowerCase().indexOf(searchingName) !== -1\n\t\t\t\t) {\n\t\t\t\t\treturn true\n\t\t\t\t} else {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tconst SeggestProvider = {\n\t\t\tsuggest: (request, options) => {\n\t\t\t\tconst res = findPlaces(points, request)\n\t\t\t\tconst results = Math.min(options.results, res.length)\n\t\t\t\tlet arrayResult = []\n\t\t\t\tfor (var i = 0; i < results; i++) {\n\t\t\t\t\tarrayResult.push({\n\t\t\t\t\t\tdisplayName: `<span style=\"font-size: 12px; color: #2A2A2A;\">${res[i].text},</span> <small style=\"font-size: 12px; color: #BABABA;\">${res[i].address}</small>`,\n\t\t\t\t\t\tvalue: res[i].text,\n\t\t\t\t\t\tcoords: res[i].coords\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\treturn window.ymaps.vow.resolve(arrayResult);\n\t\t\t}\n\t\t}\n\n\t\tconst suggestView1 = new window.ymaps.SuggestView('suggested', {\n\t\t\tprovider: SeggestProvider,\n\t\t\tresults: 5\n\t\t})\n\n\t\tsuggestView1.events.add('select', e => {\n\t\t\tconst coords = e.get('item').coords\n\n\t\t\tsetCenter(coords)\n\t\t})\n\n\t\tconst clusterer = new window.ymaps.Clusterer({\n\t\t\tclusterIcons: [\n\t\t\t\t{\n\t\t\t\t\thref: placemark,\n\t\t\t\t\tsize: [26, 39],\n\t\t\t\t\toffset: [-13, -39]\n\t\t\t\t}\n\t\t\t],\n\t\t\tzoomMargin: 50,\n\t\t\tclusterNumbers: [3],\n\t\t\tclusterIconContentLayout: window.ymaps.templateLayoutFactory.createClass(\n\t\t\t\t'<div style=\"color: #FFFFFF; font-weight: bold;\">{{ properties.geoObjects.length }}<div>'\n\t\t\t)\n\t\t})\n\n\t\tclusterer.add(\n\t\t\tpoints.map(el => {\n\t\t\t\tlet placemark = createPlacemark(el.coords, el.text)\n\t\t\t\tplacemark.events.add('click', e => {\n\t\t\t\t\tlocalMap.setCenter(el.coords, 15, {})\n\t\t\t\t\topenSmallModal(el.data)\n\t\t\t\t\te.stopPropagation()\n\t\t\t\t})\n\n\t\t\t\treturn placemark;\n\t\t\t})\n\t\t)\n\n\t\tlocalMap.geoObjects.add(clusterer);\n\t\t// localMap.setBounds(clusterer.getBounds(), {});\n\n\t\tsetIsLoading(false)\n\t\treturn localMap\n\t}\n\n\tconst openSmallModal = el => {\n\t\tsetModalData(el)\n\t\tsetModalType(\"small\")\n\t}\n\n\tconst onCloseModal = () => {\n\t\tsetModalType(\"\")\n\t}\n\n\tconst onSmallModal = () => {\n\t\tsetModalType(\"small\")\n\t}\n\n\tconst onFullModal = () => {\n\t\tsetModalType(\"full\")\n\t}\n\n\treturn (\n\t\t<section className={ styles.mapPage }>\n\t\t\t{isLoading &&\n\t\t\t\t<div className={ styles.mapPageLoading }>\n\t\t\t\t\t<Spiner />\n\t\t\t\t</div>\n\t\t\t}\n\n\t\t\t<div className={`map-input-container ${isSearchShow ? \"show-input\" : \"\"}`}>\n\t\t\t\t<div className=\"search-input-body\">\n\t\t\t\t\t<div className=\"search-input-icon\">\n\t\t\t\t\t\t<i className=\"fas fa-search\" />\n\t\t\t\t\t</div>\n\t\t\n\t\t\t\t\t<input type=\"text\" id=\"suggested\" value={searchValue}\n\t\t\t\t\t\tonChange={e => setSearchValue(e.target.value)}\n\t\t\t\t\t\tplaceholder=\"Search\"\n\t\t\t\t\t/>\n\t\t\n\t\t\t\t\t<div className=\"clear-input-btn\"\n\t\t\t\t\t\tonClick={() => setSearchValue(\"\")}\n\t\t\t\t\t\tstyle={{display: searchValue === \"\" ? \"none\" : \"flex\"}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-times-circle\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div className=\"search-input-cancel\"\n\t\t\t\t\tonClick={() => setSearchShow(false)}\n\t\t\t\t>\n\t\t\t\t\tCancel\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className={`map-round-btn map-search-btn ${isSearchShow ? \"hide-search-btn\" : \"\"}`}\n\t\t\t\tonClick={() => setSearchShow(true)}\n\t\t\t>\n\t\t\t\t<svg width=\"21\" height=\"21\" viewBox=\"0 0 21 21\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"8.48528\" cy=\"8.73218\" r=\"5\" transform=\"rotate(-45 8.48528 8.73218)\" stroke=\"#727272\" strokeWidth=\"2\"/><path d=\"M12.3743 12.6212L16.2634 16.5103\" stroke=\"#727272\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/></svg>\n\t\t\t</div>\n\n\t\t\t<div id=\"map\" />\n\n\t\t\t{modalData &&\n\t\t\t\t<MapModal\n\t\t\t\t\theight={modalHeight}\n\t\t\t\t\ttype={modalType}\n\t\t\t\t\tdata={modalData}\n\t\t\t\t\tonClose={onCloseModal}\n\t\t\t\t\tonFullModal={onFullModal}\n\t\t\t\t/>\n\t\t\t}\n\n\t\t\t{modalData && device !== \"mobile\" && modalType === \"full\" &&\n\t\t\t\t<MapTabletFullModal\n\t\t\t\t\tdata={modalData}\n\t\t\t\t\tonSmallClick={onSmallModal}\n\t\t\t\t/>\n\t\t\t}\n\t\t</section>\n\t)\n}\n\nexport default React.memo(MapPage);\n"],"sourceRoot":""}