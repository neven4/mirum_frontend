{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/Like/index.js","components/Like/styles.module.scss","components/Metro/index.js","components/Metro/styles.module.scss","components/Main/styles.module.scss","components/MainCard/styles.module.scss","components/MainCard/index.js","components/Main/index.js"],"names":["_slicedToArray","arr","i","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","value","length","err","_iterableToArrayLimit","TypeError","_nonIterableRest","__webpack_require__","d","__webpack_exports__","_toConsumableArray","arr2","_arrayWithoutHoles","iter","Object","prototype","toString","call","from","_iterableToArray","_nonIterableSpread","React","memo","_ref","numOfLikes","className","id","context","useContext","Context","_useState","useState","_useState2","slicedToArray","likesNum","setLikesNum","isLiked","state","likedCafes","includes","useEffect","Number","react_default","a","createElement","concat","styles","like","like_icon","onClick","newLikedPosts","removedLikeArr","filter","el","update","width","height","viewBox","fill","xmlns","stroke","like_count","module","exports","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","_Context_Context__WEBPACK_IMPORTED_MODULE_2__","_styles_module_scss__WEBPACK_IMPORTED_MODULE_3__","_styles_module_scss__WEBPACK_IMPORTED_MODULE_3___default","withRouter","props","coords","withClick","label","withArrow","metro","console","log","history","metro_icon","style","backgroundColor","metro_label","metro_arrow","main","main_container","mainCard","mainCard_footer","cardImage","cardImage_container","data","react_router_dom","to","backgroundImage","photos","Like","likes","Metro","metroName","Main","cafes","read","map","components_MainCard","key"],"mappings":"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","file":"static/js/4.f9f04748.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import React, {useContext, useState, useEffect} from 'react';\nimport Context from \"../../Context/Context\"\n\nimport styles from './styles.module.scss';\n\nconst Like = ({ numOfLikes, className, id }) => {\t\n\tconst context = useContext(Context)\n\tconst [likesNum, setLikesNum] = useState(0)\n\tconst isLiked = context.state.likedCafes.includes(id)\n\n\tuseEffect(() => {\n\t\tsetLikesNum(Number(numOfLikes))\n\t}, [])\n\n\tconst handleLikeClick = () => {\n\t\tconst newLikedPosts = [...context.state.likedCafes]\n\t\tlet likeState\n\n\t\tif (!isLiked) {\n\t\t\tnewLikedPosts.push(id)\n\t\t\tlikeState = \"inc\"\n\t\t\tsetLikesNum(likesNum + 1)\n\n\t\t\tcontext.update({\n\t\t\t\tlikedCafes: newLikedPosts\n\t\t\t})\n\t\t} else {\n\t\t\tconst removedLikeArr = newLikedPosts.filter(el => el !== id)\n\t\t\tlikeState = \"dec\"\n\t\t\tsetLikesNum(likesNum - 1)\n\t\n\t\t\tcontext.update({\n\t\t\t\tlikedCafes: removedLikeArr\n\t\t\t})\n\n\t\t}\n\n\t\t// fetch(`https://europe-west1-mirum-e30cc.cloudfunctions.net/api/cafes/${id}/like/${likeState}`,\n\t\t// \t{ method: \"PUT\" }\n\t\t// )\n\t\t// \t.then(res => res.json())\n\t\t// \t.then(data => setLikesNum(data.likes))\n\t}\n\n\treturn (\n\t\t<section className={ `${ styles.like } ${ className }` }>\n\t\t\t<div className={ styles.like_icon }\n\t\t\t\tonClick={ handleLikeClick }\n\t\t\t>\n\t\t\t\t<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 21 21\" fill={ isLiked ? '#FF2929' : 'none' } xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t<path d=\"M20.4673 6.60488L20.4688 6.6218L20.4715 6.63858C20.4862 6.73014 20.5853 7.44813 20.2997 8.65667L20.2997 8.65682C19.8888 10.3984 18.9388 11.9878 17.5446 13.2519C17.5441 13.2524 17.5436 13.2528 17.5431 13.2532L10.44 19.5899L3.4571 13.253L3.45682 13.2528C2.0619 11.9889 1.11132 10.3986 0.700268 8.65679L0.700247 8.6567C0.414631 7.44742 0.513961 6.72978 0.528643 6.63948L0.531481 6.62203L0.533079 6.60442C0.820667 3.43488 3.03853 1.23746 5.71797 1.23746C7.48855 1.23746 9.07782 2.18316 10.0103 3.77886L10.4373 4.50947L10.8713 3.783C11.8104 2.21089 13.4737 1.23786 15.282 1.23786C17.9618 1.23786 20.1793 3.43527 20.4673 6.60488Z\"\n\t\t\t\t\t\tstroke={ isLiked ? '#FF2929' : '#2A2A2A' }\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t</div>\n\n\t\t\t<div className={ styles.like_count }>\n\t\t\t\t{likesNum}\n\t\t\t</div>\n\t\t</section>\n\t);\n}\n\nexport default React.memo(Like);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"like\":\"styles_like__2y23N\",\"like_icon\":\"styles_like_icon__2lgM5\",\"like_count\":\"styles_like_count__ru3H3\"};","import React, {useContext} from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Context from \"../../Context/Context\";\n\nimport styles from './styles.module.scss';\n\nconst Metro = props => {\n\tconst context = useContext(Context);\n\tconst {\n\t\tclassName,\n\t\tcoords,\n\t\twithClick,\n\t\tlabel,\n\t\twithArrow\n\t} = props\n\n\tconst onMetroClick = () => {\n\t\tconsole.log(coords)\n\t\t// context.update({\n\t\t// \tplaceCoords: coords\n\t\t// })\n\t\tprops.history.push(`/map/${coords}`)\n\t}\n\n\treturn (\n\t\t<section className={ `${ styles.metro } ${ className }`}\n\t\t\tonClick={withClick ? onMetroClick : null}\n\t\t>\n\t\t\t<div className={ styles.metro_icon }\n\t\t\t\tstyle={{backgroundColor: '#1C72BB'}}\n\t\t\t/>\n\n\t\t\t<div className={ styles.metro_label }>\n\t\t\t\t{label}\n\t\t\t</div>\n\n\t\t\t{withArrow &&\n\t\t\t\t<div className={ styles.metro_arrow }>\n\t\t\t\t\t<svg width=\"7\" height=\"12\" viewBox=\"0 0 7 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t<path d=\"M1 1L6 6L1 11\" stroke=\"#727272\"/>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t}\n\t\t</section>\n\t);\n}\n\nexport default withRouter(React.memo(Metro));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"metro\":\"styles_metro__Qvg4e\",\"metro_icon\":\"styles_metro_icon__1eyHd\",\"metro_label\":\"styles_metro_label__1zzzM\",\"metro_arrow\":\"styles_metro_arrow__2s9-B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"styles_main__1L08G\",\"main_container\":\"styles_main_container__1I3Fb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainCard\":\"styles_mainCard__1TgGR\",\"mainCard_footer\":\"styles_mainCard_footer__1xmcV\",\"cardImage\":\"styles_cardImage__19e6P\",\"cardImage_container\":\"styles_cardImage_container__1m44u\"};","import React, { useState, useEffect, useContext, useLayoutEffect } from 'react';\nimport { Link } from 'react-router-dom';\n// import Context from \"../../Context/Context\"\n\nimport styles from './styles.module.scss';\n\nimport Like from '../Like';\nimport Metro from '../Metro';\n\nconst MainCard = ({ data }) => {\n\treturn (\n\t\t<section className={ styles.mainCard }>\n\t\t\t<Link\n\t\t\t\tto={`/post/${data.id}`}\n\t\t\t\tclassName={ styles.cardImage }\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclassName={ styles.cardImage_container }\n\t\t\t\t\tstyle={{backgroundImage: `url(${data.photos[0][\"640\"]})` }}\n\t\t\t\t/>\n\t\t\t</Link>\n\n\t\t\t<div className={ styles.mainCard_footer }>\n\t\t\t\t<Like\n\t\t\t\t\tnumOfLikes={data.likes}\n\t\t\t\t\tid={data.id}\n\t\t\t\t/>\n\n\t\t\t\t<Metro label={data.metroName} />\n\t\t\t</div>\n\t\t</section>\n\t);\n}\n\nexport default React.memo(MainCard);\n","import React, {useContext} from 'react';\nimport Context from \"../../Context/Context\"\nimport styles from './styles.module.scss';\n\nimport MainCard from '../MainCard';\n\nconst Main = () => {\n\tconst context = useContext(Context)\n\n\tconst cafes = context.state.cafes.read()\n\t\n\treturn (\n\t\t\t<main className={ styles.main }>\n\t\t\t\t<h2>Лучшее</h2>\n\n\t\t\t\t<article className={ styles.main_container }>\n\t\t\t\t\t{cafes && cafes.map((el, i) => \n\t\t\t\t\t\t<MainCard data={el} key={`mainCard_${i}`}/>\n\t\t\t\t\t)}\n\t\t\t\t</article>\n\t\t\t</main>\n\t)\n}\n\nexport default Main;\n"],"sourceRoot":""}